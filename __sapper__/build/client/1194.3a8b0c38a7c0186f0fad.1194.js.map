{"version":3,"sources":["webpack://pinafore/./node_modules/li/lib/index.js","webpack://pinafore/./node_modules/lodash-es/throttle.js","webpack://pinafore/./node_modules/promise-worker/index.js"],"names":["relsRegExp","sourceRegExp","delimiterRegExp","parse","linksHeader","options","match","source","rels","extended","links","trim","exec","current","link","nextDelimiter","slice","length","index","split","push","replace","reduce","result","currentLink","rel","forEach","stringify","params","grouped","Object","keys","key","concat","join","this","module","exports","definition","context","func","wait","leading","trailing","TypeError","messageIds","onMessage","self","e","message","data","Array","isArray","messageId","error","callback","_callbacks","PromiseWorker","worker","_worker","addEventListener","prototype","postMessage","userMessage","messageToSend","Promise","resolve","reject","Error","controller","channel","MessageChannel","port1","onmessage","port2"],"mappings":"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","file":"1194.3a8b0c38a7c0186f0fad.1194.js","sourcesContent":["(function (name, definition, context) {\n\n  //try CommonJS, then AMD (require.js), then use global.\n\n  if (typeof module != 'undefined' && module.exports) module.exports = definition();\n  else if (typeof context['define'] == 'function' && context['define']['amd']) define(definition);\n  else context[name] = definition();\n\n})('li', function () {\n  // compile regular expressions ahead of time for efficiency\n  var relsRegExp = /^;\\s*([^\"=]+)=(?:\"([^\"]+)\"|([^\";,]+)(?:[;,]|$))/;\n  var sourceRegExp = /^<([^>]*)>/;\n  var delimiterRegExp = /^\\s*,\\s*/;\n\n  return {\n    parse: function (linksHeader, options) {\n      var match;\n      var source;\n      var rels;\n      var extended = options && options.extended || false;\n      var links = [];\n\n      while (linksHeader) {\n        linksHeader = linksHeader.trim();\n\n        // Parse `<link>`\n        source = sourceRegExp.exec(linksHeader);\n        if (!source) break;\n\n        var current = {\n          link: source[1]\n        };\n\n        // Move cursor\n        linksHeader = linksHeader.slice(source[0].length);\n\n        // Parse `; attr=relation` and `; attr=\"relation\"`\n\n        var nextDelimiter = linksHeader.match(delimiterRegExp);\n        while(linksHeader && (!nextDelimiter || nextDelimiter.index > 0)) {\n          match = relsRegExp.exec(linksHeader);\n          if (!match) break;\n\n          // Move cursor\n          linksHeader = linksHeader.slice(match[0].length);\n          nextDelimiter = linksHeader.match(delimiterRegExp);\n\n\n          if (match[1] === 'rel' || match[1] === 'rev') {\n            // Add either quoted rel or unquoted rel\n            rels = (match[2] || match[3]).split(/\\s+/);\n            current[match[1]] = rels;\n          } else {\n            current[match[1]] = match[2] || match[3];\n          }\n        }\n\n        links.push(current);\n        // Move cursor\n        linksHeader = linksHeader.replace(delimiterRegExp, '');\n      }\n\n      if (!extended) {\n        return links.reduce(function(result, currentLink) {\n          if (currentLink.rel) {\n            currentLink.rel.forEach(function(rel) {\n              result[rel] = currentLink.link;\n            });\n          }\n          return result;\n        }, {});\n      }\n\n      return links;\n    },\n    stringify: function (params) {\n      var grouped = Object.keys(params).reduce(function(grouped, key) {\n        grouped[params[key]] = grouped[params[key]] || [];\n        grouped[params[key]].push(key);\n        return grouped;\n      }, {});\n\n      var entries = Object.keys(grouped).reduce(function(result, link) {\n        return result.concat('<' + link + '>; rel=\"' + grouped[link].join(' ') + '\"');\n      }, []);\n\n      return entries.join(', ');\n    }\n  };\n\n}, this);\n","import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nexport default throttle;\n","'use strict'\n\nvar messageIds = 0\n\nfunction onMessage (self, e) {\n  var message = e.data\n  if (!Array.isArray(message) || message.length < 2) {\n    // Ignore - this message is not for us.\n    return\n  }\n  var messageId = message[0]\n  var error = message[1]\n  var result = message[2]\n\n  var callback = self._callbacks[messageId]\n\n  if (!callback) {\n    // Ignore - user might have created multiple PromiseWorkers.\n    // This message is not for us.\n    return\n  }\n\n  delete self._callbacks[messageId]\n  callback(error, result)\n}\n\nfunction PromiseWorker (worker) {\n  var self = this\n  self._worker = worker\n  self._callbacks = {}\n\n  worker.addEventListener('message', function (e) {\n    onMessage(self, e)\n  })\n}\n\nPromiseWorker.prototype.postMessage = function (userMessage) {\n  var self = this\n  var messageId = messageIds++\n\n  var messageToSend = [messageId, userMessage]\n\n  return new Promise(function (resolve, reject) {\n    self._callbacks[messageId] = function (error, result) {\n      if (error) {\n        return reject(new Error(error.message))\n      }\n      resolve(result)\n    }\n\n    /* istanbul ignore if */\n    if (typeof self._worker.controller !== 'undefined') {\n      // service worker, use MessageChannels because e.source is broken in Chrome < 51:\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=543198\n      var channel = new MessageChannel()\n      channel.port1.onmessage = function (e) {\n        onMessage(self, e)\n      }\n      self._worker.controller.postMessage(messageToSend, [channel.port2])\n    } else {\n      // web worker\n      self._worker.postMessage(messageToSend)\n    }\n  })\n}\n\nmodule.exports = PromiseWorker\n"],"sourceRoot":""}