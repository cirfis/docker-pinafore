/*! For license information please see 792.5473627e7f4122be232f.792.js.LICENSE.txt */
(this.webpackChunkpinafore=this.webpackChunkpinafore||[]).push([[792],{792:(e,t,s)=>{"use strict";let i;s.r(t),s.d(t,{default:()=>b});try{new EventTarget,i=!0}catch(E){i=!1}var a=i?EventTarget:class{constructor(){this.e={}}addEventListener(e,t,s=!1){this.t(e).push(t)}removeEventListener(e,t,s=!1){const i=this.t(e),a=i.indexOf(t);a>-1&&i.splice(a,1)}dispatchEvent(e){return e.target=this,Object.freeze(e),this.t(e.type).forEach((t=>t(e))),!0}t(e){return this.e[e]=this.e[e]||[]}};var n=i?Event:class{constructor(e){this.type=e}};class r extends n{constructor(e,t){super(e),this.newState=t.newState,this.oldState=t.oldState,this.originalEvent=t.originalEvent}}const h="active",c="passive",o="hidden",d="frozen",u="terminated",l="object"==typeof safari&&safari.pushNotification,f=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"pagehide":"unload"],p=e=>(e.preventDefault(),e.returnValue="Are you sure?"),v=[[h,c,o,u],[h,c,o,d],[o,c,h],[d,o],[d,h],[d,c]].map((e=>e.reduce(((e,t,s)=>(e[t]=s,e)),{}))),g=()=>document.visibilityState===o?o:document.hasFocus()?h:c;const b=new class extends a{constructor(){super();const e=g();this.s=e,this.i=[],this.a=this.a.bind(this),f.forEach((e=>addEventListener(e,this.a,!0))),l&&addEventListener("beforeunload",(e=>{this.n=setTimeout((()=>{e.defaultPrevented||e.returnValue.length>0||this.r(e,o)}),0)}))}get state(){return this.s}get pageWasDiscarded(){return document.wasDiscarded||!1}addUnsavedChanges(e){!this.i.indexOf(e)>-1&&(0===this.i.length&&addEventListener("beforeunload",p),this.i.push(e))}removeUnsavedChanges(e){const t=this.i.indexOf(e);t>-1&&(this.i.splice(t,1),0===this.i.length&&removeEventListener("beforeunload",p))}r(e,t){if(t!==this.s){const s=((e,t)=>{for(let s,i=0;s=v[i];++i){const i=s[e],a=s[t];if(i>=0&&a>=0&&a>i)return Object.keys(s).slice(i,a+1)}return[]})(this.s,t);for(let t=0;t<s.length-1;++t){const i=s[t],a=s[t+1];this.s=a,this.dispatchEvent(new r("statechange",{oldState:i,newState:a,originalEvent:e}))}}}a(e){switch(l&&clearTimeout(this.n),e.type){case"pageshow":case"resume":this.r(e,g());break;case"focus":this.r(e,h);break;case"blur":this.s===h&&this.r(e,g());break;case"pagehide":case"unload":this.r(e,e.persisted?d:u);break;case"visibilitychange":this.s!==d&&this.s!==u&&this.r(e,g());break;case"freeze":this.r(e,d)}}}}}]);
//# sourceMappingURL=792.5473627e7f4122be232f.792.js.map