(this.webpackChunkpinafore=this.webpackChunkpinafore||[]).push([[3319],{3319:(e,t,n)=>{"use strict";var o=n(398);function i(){}function r(e){return e()}function a(){return Object.create(null)}function s(e){e.forEach(r)}function c(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function d(e){return e&&c(e.destroy)?e.destroy:i}function u(e,t){e.appendChild(t)}function f(e,t,n){e.insertBefore(t,n||null)}function m(e){e.parentNode.removeChild(e)}function p(e){return document.createElement(e)}function g(e){return document.createTextNode(e)}function h(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function b(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function v(e,t){e.value=null==t?"":t}function k(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}let $;function w(e){$=e}function j(){if(!$)throw new Error("Function called outside component initialization");return $}const x=[],E=[],T=[],z=[],C=Promise.resolve();let S=!1;function L(){S||(S=!0,C.then(D))}function M(){return L(),C}function _(e){T.push(e)}let A=!1;const R=new Set;function D(){if(!A){A=!0;do{for(let e=0;e<x.length;e+=1){const t=x[e];w(t),B(t.$$)}for(w(null),x.length=0;E.length;)E.pop()();for(let e=0;e<T.length;e+=1){const t=T[e];R.has(t)||(R.add(t),t())}T.length=0}while(x.length);for(;z.length;)z.pop()();S=!1,A=!1,R.clear()}}function B(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_)}}const O=new Set;function P(e,t){e&&e.i&&(O.delete(e),e.i(t))}const I="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function N(e,t){e.d(1),t.delete(e.key)}function U(e,t,n,o,i,r,a,s,c,l,d,u){let f=e.length,m=r.length,p=f;const g={};for(;p--;)g[e[p].key]=p;const h=[],b=new Map,y=new Map;for(p=m;p--;){const e=u(i,r,p),s=n(e);let c=a.get(s);c?o&&c.p(e,t):(c=l(s,e),c.c()),b.set(s,h[p]=c),s in g&&y.set(s,Math.abs(p-g[s]))}const v=new Set,k=new Set;function $(e){P(e,1),e.m(s,d),a.set(e.key,e),d=e.first,m--}for(;f&&m;){const t=h[m-1],n=e[f-1],o=t.key,i=n.key;t===n?(d=t.first,f--,m--):b.has(i)?!a.has(o)||v.has(o)?$(t):k.has(i)?f--:y.get(o)>y.get(i)?(k.add(o),$(t)):(v.add(i),f--):(c(n,a),f--)}for(;f--;){const t=e[f];b.has(t.key)||c(t,a)}for(;m;)$(h[m-1]);return h}function F(e,t,n,o,l,d,u=[-1]){const f=$;w(e);const p=t.props||{},g=e.$$={fragment:null,ctx:null,props:d,update:i,not_equal:l,bound:a(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:a(),dirty:u,skip_bound:!1};let h=!1;if(g.ctx=n?n(e,p,((t,n,...o)=>{const i=o.length?o[0]:n;return g.ctx&&l(g.ctx[t],g.ctx[t]=i)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](i),h&&function(e,t){-1===e.$$.dirty[0]&&(x.push(e),L(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],g.update(),h=!0,s(g.before_update),g.fragment=!!o&&o(g.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);g.fragment&&g.fragment.l(e),e.forEach(m)}else g.fragment&&g.fragment.c();t.intro&&P(e.$$.fragment),function(e,t,n){const{fragment:o,on_mount:i,on_destroy:a,after_update:l}=e.$$;o&&o.m(t,n),_((()=>{const t=i.map(r).filter(c);a?a.push(...t):s(t),e.$$.on_mount=[]})),l.forEach(_)}(e,t.target,t.anchor),D()}w(f)}let H;"function"==typeof HTMLElement&&(H=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=i}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var q={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading…",networkErrorMessage:"Could not load emoji. Try refreshing.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const W=[[-1,"✨","custom"],[0,"😀","smileys-emotion"],[1,"👋","people-body"],[3,"🐱","animals-nature"],[4,"🍎","food-drink"],[5,"🏠️","travel-places"],[6,"⚽","activities"],[7,"📝","objects"],[8,"⛔️","symbols"],[9,"🏁","flags"]].map((([e,t,n])=>({id:e,emoji:t,name:n}))),Y=W.slice(1),G=W[0],Q="function"==typeof requestIdleCallback?requestIdleCallback:setTimeout;function V(e){return e.unicode.includes("‍")}const X={"😃":.6,"😐️":.7,"😀":1,"👁️‍🗨️":2,"🤣":3,"👱‍♀️":4,"🤩":5,"🥰":11,"🥻":12,"🧑‍🦰":12.1,"🥲":13,"😵‍💫":13.1},Z="🖐️",J=["😊","😒","♥️","👍️","😍","😂","😭","☺️","😔","😩","😏","💕","🙌","😘"],K='"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Twemoji Mozilla","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',ee=(e,t)=>{try{const n=document.createElement("canvas");n.width=n.height=1;const o=n.getContext("2d");return o.textBaseline="top",o.font=`100px ${K}`,o.fillStyle=t,o.scale(.01,.01),o.fillText(e,0,0),o.getImageData(0,0,1,1).data}catch(n){}};function te(e){const t=ee(e,"#000"),n=ee(e,"#fff");return t&&n&&((e,t)=>{const n=[...e].join(",");return n===[...t].join(",")&&!n.startsWith("0,0,0,")})(t,n)}function ne(){console.error(...arguments)}const oe=new Promise((e=>Q((()=>e(function(){let e;for(const[t,n]of Object.entries(X)){if(!te(t))break;e=n}return e}()))))),ie=new Map;function re(e){e.preventDefault(),e.stopPropagation()}function ae(e,t,n){return(t+=e?-1:1)<0?t=n.length-1:t>=n.length&&(t=0),t}function se(e,t){const n=new Set,o=[];for(const i of e){const e=t(i);n.has(e)||(n.add(e),o.push(i))}return o}const ce=requestAnimationFrame;let le,de="function"==typeof ResizeObserver;function ue(e,t){let n;return de?(n=new ResizeObserver((e=>t(e[0].contentRect.width))),n.observe(e)):ce((()=>t(e.getBoundingClientRect().width))),{destroy(){n&&n.disconnect()}}}function fe(e){{const t=document.createRange();return t.selectNode(e.firstChild),t.getBoundingClientRect().width}}const{Map:me}=I;function pe(e,t,n){const o=e.slice();return o[67]=t[n],o[69]=n,o}function ge(e,t,n){const o=e.slice();return o[67]=t[n],o[69]=n,o}function he(e,t,n){const o=e.slice();return o[70]=t[n],o[69]=n,o}function be(e,t,n){const o=e.slice();return o[73]=t[n],o}function ye(e,t,n){const o=e.slice();return o[76]=t[n],o[69]=n,o}function ve(e,t){let n,o,i,r,a,s,c,l=t[76]+"";return{key:e,first:null,c(){n=p("div"),o=g(l),b(n,"id",i="skintone-"+t[69]),b(n,"class",r="emoji hide-focus "+(t[69]===t[15]?"active":"")),b(n,"aria-selected",a=t[69]===t[15]),b(n,"role","option"),b(n,"title",s=t[0].skinTones[t[69]]),b(n,"tabindex","-1"),b(n,"aria-label",c=t[0].skinTones[t[69]]),this.first=n},m(e,t){f(e,n,t),u(n,o)},p(e,t){524288&t[0]&&l!==(l=e[76]+"")&&y(o,l),524288&t[0]&&i!==(i="skintone-"+e[69])&&b(n,"id",i),557056&t[0]&&r!==(r="emoji hide-focus "+(e[69]===e[15]?"active":""))&&b(n,"class",r),557056&t[0]&&a!==(a=e[69]===e[15])&&b(n,"aria-selected",a),524289&t[0]&&s!==(s=e[0].skinTones[e[69]])&&b(n,"title",s),524289&t[0]&&c!==(c=e[0].skinTones[e[69]])&&b(n,"aria-label",c)},d(e){e&&m(n)}}}function ke(e,t){let n,o,i,r,a,s,c,l,d,v=t[73].emoji+"";function k(...e){return t[47](t[73],...e)}return{key:e,first:null,c(){n=p("button"),o=p("div"),i=g(v),b(o,"class","emoji"),b(n,"role","tab"),b(n,"class","nav-button"),b(n,"aria-controls",r="tab-"+t[73].id),b(n,"aria-label",a=t[0].categories[t[73].name]),b(n,"aria-selected",s=!t[7]&&t[23].id===t[73].id),b(n,"title",c=t[0].categories[t[73].name]),this.first=n},m(e,t){f(e,n,t),u(n,o),u(o,i),l||(d=h(n,"click",k),l=!0)},p(e,o){t=e,4194304&o[0]&&v!==(v=t[73].emoji+"")&&y(i,v),4194304&o[0]&&r!==(r="tab-"+t[73].id)&&b(n,"aria-controls",r),4194305&o[0]&&a!==(a=t[0].categories[t[73].name])&&b(n,"aria-label",a),12583040&o[0]&&s!==(s=!t[7]&&t[23].id===t[73].id)&&b(n,"aria-selected",s),4194305&o[0]&&c!==(c=t[0].categories[t[73].name])&&b(n,"title",c)},d(e){e&&m(n),l=!1,d()}}}function $e(e){let t,n;return{c(){t=p("img"),b(t,"class","custom-emoji"),t.src!==(n=e[67].url)&&b(t,"src",n),b(t,"alt",""),b(t,"loading","lazy")},m(e,n){f(e,t,n)},p(e,o){4&o[0]&&t.src!==(n=e[67].url)&&b(t,"src",n)},d(e){e&&m(t)}}}function we(e){let t,n=e[26](e[67],e[14])+"";return{c(){t=g(n)},m(e,n){f(e,t,n)},p(e,o){16388&o[0]&&n!==(n=e[26](e[67],e[14])+"")&&y(t,n)},d(e){e&&m(t)}}}function je(e,t){let n,o,i,r,a,s,c;function l(e,t){return e[67].unicode?we:$e}let d=l(t),u=d(t);return{key:e,first:null,c(){n=p("button"),u.c(),b(n,"role",o=t[7]?"option":"menuitem"),b(n,"aria-selected",i=t[7]?t[69]==t[8]:""),b(n,"aria-label",r=t[27](t[67],t[14])),b(n,"title",a=t[67].title),b(n,"class",s="emoji "+(t[7]&&t[69]===t[8]?"active":"")),b(n,"id",c="emo-"+t[67].id),this.first=n},m(e,t){f(e,n,t),u.m(n,null)},p(e,t){d===(d=l(e))&&u?u.p(e,t):(u.d(1),u=d(e),u&&(u.c(),u.m(n,null))),128&t[0]&&o!==(o=e[7]?"option":"menuitem")&&b(n,"role",o),388&t[0]&&i!==(i=e[7]?e[69]==e[8]:"")&&b(n,"aria-selected",i),16388&t[0]&&r!==(r=e[27](e[67],e[14]))&&b(n,"aria-label",r),4&t[0]&&a!==(a=e[67].title)&&b(n,"title",a),388&t[0]&&s!==(s="emoji "+(e[7]&&e[69]===e[8]?"active":""))&&b(n,"class",s),4&t[0]&&c!==(c="emo-"+e[67].id)&&b(n,"id",c)},d(e){e&&m(n),u.d()}}}function xe(e,t){let n,o,i,r,a,s,c,l,h,v,k,$=(t[7]?t[0].searchResultsLabel:t[70].category?t[70].category:t[2].length>1?t[0].categories.custom:t[0].categories[t[23].name])+"",w=[],j=new me,x=t[70].emojis;const E=e=>e[67].id;for(let d=0;d<x.length;d+=1){let e=ge(t,x,d),n=E(e);j.set(n,w[d]=je(n,e))}return{key:e,first:null,c(){n=p("div"),o=g($),a=p("div");for(let e=0;e<w.length;e+=1)w[e].c();b(n,"id",i="menu-label-"+t[69]),b(n,"class",r="category "+(t[2].length>1?"":"gone")),b(n,"aria-hidden","true"),b(a,"class","emoji-menu"),b(a,"role",s=t[7]?"listbox":"menu"),b(a,"aria-labelledby",c="menu-label-"+t[69]),b(a,"id",l=t[7]?"search-results":""),this.first=n},m(e,i){f(e,n,i),u(n,o),f(e,a,i);for(let t=0;t<w.length;t+=1)w[t].m(a,null);v||(k=d(h=t[28].call(null,a)),v=!0)},p(e,t){if(8388741&t[0]&&$!==($=(e[7]?e[0].searchResultsLabel:e[70].category?e[70].category:e[2].length>1?e[0].categories.custom:e[0].categories[e[23].name])+"")&&y(o,$),4&t[0]&&i!==(i="menu-label-"+e[69])&&b(n,"id",i),4&t[0]&&r!==(r="category "+(e[2].length>1?"":"gone"))&&b(n,"class",r),201343364&t[0]){const n=e[70].emojis;w=U(w,t,E,1,e,n,j,a,N,je,null,ge)}128&t[0]&&s!==(s=e[7]?"listbox":"menu")&&b(a,"role",s),4&t[0]&&c!==(c="menu-label-"+e[69])&&b(a,"aria-labelledby",c),128&t[0]&&l!==(l=e[7]?"search-results":"")&&b(a,"id",l)},d(e){e&&m(n),e&&m(a);for(let t=0;t<w.length;t+=1)w[t].d();v=!1,k()}}}function Ee(e){let t,n;return{c(){t=p("img"),b(t,"class","custom-emoji"),t.src!==(n=e[67].url)&&b(t,"src",n),b(t,"alt",""),b(t,"loading","lazy")},m(e,n){f(e,t,n)},p(e,o){1048576&o[0]&&t.src!==(n=e[67].url)&&b(t,"src",n)},d(e){e&&m(t)}}}function Te(e){let t,n=e[26](e[67],e[14])+"";return{c(){t=g(n)},m(e,n){f(e,t,n)},p(e,o){1064960&o[0]&&n!==(n=e[26](e[67],e[14])+"")&&y(t,n)},d(e){e&&m(t)}}}function ze(e,t){let n,o,i,r;function a(e,t){return e[67].unicode?Te:Ee}let s=a(t),c=s(t);return{key:e,first:null,c(){n=p("button"),c.c(),b(n,"role","menuitem"),b(n,"aria-label",o=t[27](t[67],t[14])),b(n,"title",i=t[67].title),b(n,"class","emoji"),b(n,"id",r="fav-"+t[67].id),this.first=n},m(e,t){f(e,n,t),c.m(n,null)},p(e,t){s===(s=a(e))&&c?c.p(e,t):(c.d(1),c=s(e),c&&(c.c(),c.m(n,null))),1064960&t[0]&&o!==(o=e[27](e[67],e[14]))&&b(n,"aria-label",o),1048576&t[0]&&i!==(i=e[67].title)&&b(n,"title",i),1048576&t[0]&&r!==(r="fav-"+e[67].id)&&b(n,"id",r)},d(e){e&&m(n),c.d()}}}function Ce(e){let t,n,o,r,a,c,l,$,w,j,x,E,T,z,C,S,L,M,_,A,R,D,B,O,P,I,F,H,q,W,Y,G,Q,V,X,Z,J,K,ee,te,ne,oe,ie,re,ae=e[0].searchLabel+"",se=e[0].searchDescription+"",ce=e[0].skinToneDescription+"",le=[],de=new me,ue=[],fe=new me,ge=[],$e=new me,we=[],je=new me,Ee=e[19];const Te=e=>e[76];for(let i=0;i<Ee.length;i+=1){let t=ye(e,Ee,i),n=Te(t);de.set(n,le[i]=ve(n,t))}let Ce=e[22];const Se=e=>e[73].id;for(let i=0;i<Ce.length;i+=1){let t=be(e,Ce,i),n=Se(t);fe.set(n,ue[i]=ke(n,t))}let Le=e[2];const Me=e=>e[70].category;for(let i=0;i<Le.length;i+=1){let t=he(e,Le,i),n=Me(t);$e.set(n,ge[i]=xe(n,t))}let _e=e[20];const Ae=e=>e[67].id;for(let i=0;i<_e.length;i+=1){let t=pe(e,_e,i),n=Ae(t);je.set(n,we[i]=ze(n,t))}return{c(){t=p("section"),n=p("div"),o=p("div"),r=p("div"),a=p("input"),w=p("label"),j=g(ae),x=p("span"),E=g(se),T=p("div"),z=p("button"),C=g(e[16]),M=p("span"),_=g(ce),A=p("div");for(let e=0;e<le.length;e+=1)le[e].c();P=p("div");for(let e=0;e<ue.length;e+=1)ue[e].c();F=p("div"),H=p("div"),W=p("div"),Y=g(e[9]),Q=p("div");for(let e=0;e<ge.length;e+=1)ge[e].c();K=p("div");for(let e=0;e<we.length;e+=1)we[e].c();ne=p("button"),ne.textContent="😀",this.c=i,b(n,"class","pad-top"),b(a,"id","search"),b(a,"class","search"),b(a,"type","search"),b(a,"role","combobox"),b(a,"enterkeyhint","search"),b(a,"placeholder",c=e[0].searchLabel),b(a,"autocapitalize","none"),b(a,"autocomplete","off"),b(a,"spellcheck","true"),b(a,"aria-expanded",l=!(!e[7]||!e[1].length)),b(a,"aria-controls","search-results"),b(a,"aria-owns","search-results"),b(a,"aria-describedby","search-description"),b(a,"aria-autocomplete","list"),b(a,"aria-activedescendant",$=e[25]?`emo-${e[25]}`:""),b(w,"class","sr-only"),b(w,"for","search"),b(x,"id","search-description"),b(x,"class","sr-only"),b(r,"class","search-wrapper"),b(z,"id","skintone-button"),b(z,"class",S="emoji "+(e[11]?"hide-focus":"")),b(z,"aria-label",e[18]),b(z,"title",e[18]),b(z,"aria-describedby","skintone-description"),b(z,"aria-haspopup","listbox"),b(z,"aria-expanded",e[11]),b(z,"aria-controls","skintone-list"),b(T,"class",L="skintone-button-wrapper "+(e[12]?"expanded":"")),b(M,"id","skintone-description"),b(M,"class","sr-only"),b(A,"id","skintone-list"),b(A,"class",R="skintone-list "+(e[11]?"":"hidden no-animate")),k(A,"transform","translateY("+(e[11]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),b(A,"role","listbox"),b(A,"aria-label",D=e[0].skinTonesLabel),b(A,"aria-activedescendant",B="skintone-"+e[15]),b(A,"aria-hidden",O=!e[11]),b(o,"class","search-row"),b(P,"class","nav"),b(P,"role","tablist"),k(P,"grid-template-columns","repeat("+e[22].length+", 1fr)"),b(P,"aria-label",I=e[0].categoriesLabel),b(H,"class","indicator"),b(H,"style",e[10]),b(F,"class","indicator-wrapper"),b(W,"class",G="message "+(e[9]?"":"gone")),b(W,"role","alert"),b(W,"aria-live","polite"),b(Q,"class",V="tabpanel "+(!e[24]||e[9]?"gone":"")),b(Q,"role",X=e[7]?"region":"tabpanel"),b(Q,"aria-label",Z=e[7]?e[0].searchResultsLabel:e[0].categories[e[23].name]),b(Q,"id",J=e[7]?"":`tab-${e[23].id}`),b(Q,"tabindex","0"),b(K,"class",ee="favorites emoji-menu "+(e[9]?"gone":"")),b(K,"role","menu"),b(K,"aria-label",te=e[0].favoritesLabel),k(K,"padding-right",e[21]+"px"),b(ne,"aria-hidden","true"),b(ne,"tabindex","-1"),b(ne,"class","abs-pos hidden emoji"),b(t,"class","picker"),b(t,"aria-label",oe=e[0].regionLabel),b(t,"style",e[17])},m(i,s){f(i,t,s),u(t,n),u(t,o),u(o,r),u(r,a),v(a,e[3]),u(r,w),u(w,j),u(r,x),u(x,E),u(o,T),u(T,z),u(z,C),u(o,M),u(M,_),u(o,A);for(let e=0;e<le.length;e+=1)le[e].m(A,null);e[46](A),u(t,P);for(let e=0;e<ue.length;e+=1)ue[e].m(P,null);u(t,F),u(F,H),u(t,W),u(W,Y),u(t,Q);for(let e=0;e<ge.length;e+=1)ge[e].m(Q,null);e[48](Q),u(t,K);for(let e=0;e<we.length;e+=1)we[e].m(K,null);u(t,ne),e[49](ne),e[50](t),ie||(re=[h(a,"input",e[45]),h(a,"keydown",e[30]),h(z,"click",e[35]),h(A,"focusout",e[38]),h(A,"click",e[34]),h(A,"keydown",e[36]),h(A,"keyup",e[37]),h(P,"keydown",e[32]),d(q=e[29].call(null,H)),h(Q,"click",e[33]),h(K,"click",e[33])],ie=!0)},p(e,n){if(1&n[0]&&c!==(c=e[0].searchLabel)&&b(a,"placeholder",c),130&n[0]&&l!==(l=!(!e[7]||!e[1].length))&&b(a,"aria-expanded",l),33554432&n[0]&&$!==($=e[25]?`emo-${e[25]}`:"")&&b(a,"aria-activedescendant",$),8&n[0]&&v(a,e[3]),1&n[0]&&ae!==(ae=e[0].searchLabel+"")&&y(j,ae),1&n[0]&&se!==(se=e[0].searchDescription+"")&&y(E,se),65536&n[0]&&y(C,e[16]),2048&n[0]&&S!==(S="emoji "+(e[11]?"hide-focus":""))&&b(z,"class",S),262144&n[0]&&b(z,"aria-label",e[18]),262144&n[0]&&b(z,"title",e[18]),2048&n[0]&&b(z,"aria-expanded",e[11]),4096&n[0]&&L!==(L="skintone-button-wrapper "+(e[12]?"expanded":""))&&b(T,"class",L),1&n[0]&&ce!==(ce=e[0].skinToneDescription+"")&&y(_,ce),557057&n[0]){const t=e[19];le=U(le,n,Te,1,e,t,de,A,N,ve,null,ye)}if(2048&n[0]&&R!==(R="skintone-list "+(e[11]?"":"hidden no-animate"))&&b(A,"class",R),2048&n[0]&&k(A,"transform","translateY("+(e[11]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),1&n[0]&&D!==(D=e[0].skinTonesLabel)&&b(A,"aria-label",D),32768&n[0]&&B!==(B="skintone-"+e[15])&&b(A,"aria-activedescendant",B),2048&n[0]&&O!==(O=!e[11])&&b(A,"aria-hidden",O),12583041&n[0]|1&n[1]){const t=e[22];ue=U(ue,n,Se,1,e,t,fe,P,N,ke,null,be)}if(4194304&n[0]&&k(P,"grid-template-columns","repeat("+e[22].length+", 1fr)"),1&n[0]&&I!==(I=e[0].categoriesLabel)&&b(P,"aria-label",I),1024&n[0]&&b(H,"style",e[10]),512&n[0]&&y(Y,e[9]),512&n[0]&&G!==(G="message "+(e[9]?"":"gone"))&&b(W,"class",G),209731973&n[0]){const t=e[2];ge=U(ge,n,Me,1,e,t,$e,Q,N,xe,null,he)}if(16777728&n[0]&&V!==(V="tabpanel "+(!e[24]||e[9]?"gone":""))&&b(Q,"class",V),128&n[0]&&X!==(X=e[7]?"region":"tabpanel")&&b(Q,"role",X),8388737&n[0]&&Z!==(Z=e[7]?e[0].searchResultsLabel:e[0].categories[e[23].name])&&b(Q,"aria-label",Z),8388736&n[0]&&J!==(J=e[7]?"":`tab-${e[23].id}`)&&b(Q,"id",J),202391552&n[0]){const t=e[20];we=U(we,n,Ae,1,e,t,je,K,N,ze,null,pe)}512&n[0]&&ee!==(ee="favorites emoji-menu "+(e[9]?"gone":""))&&b(K,"class",ee),1&n[0]&&te!==(te=e[0].favoritesLabel)&&b(K,"aria-label",te),2097152&n[0]&&k(K,"padding-right",e[21]+"px"),1&n[0]&&oe!==(oe=e[0].regionLabel)&&b(t,"aria-label",oe),131072&n[0]&&b(t,"style",e[17])},i,o:i,d(n){n&&m(t);for(let e=0;e<le.length;e+=1)le[e].d();e[46](null);for(let e=0;e<ue.length;e+=1)ue[e].d();for(let e=0;e<ge.length;e+=1)ge[e].d();e[48](null);for(let e=0;e<we.length;e+=1)we[e].d();e[49](null),e[50](null),ie=!1,s(re)}}}function Se(e,t,n){let i,r,a,s,c,l,d,u,f,m,{locale:p=null}=t,{dataSource:g=null}=t,{skinToneEmoji:h=Z}=t,{i18n:b=q}=t,{database:y=null}=t,{customEmoji:v=null}=t,{customCategorySorting:k=((e,t)=>e<t?-1:e>t?1:0)}=t,$=[],w=[],x="",T="",z=!1,C=-1,S=0,L="",_=!1,A=!1,R=0,D=0,B="",O=[],P=[],I=8,N=0,U=0,F=Y,H=!1;const W=e=>{i.getRootNode().getElementById(e).focus()},X=(e,t)=>{i.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))},ee=(e,t)=>t&&e.skins&&e.skins[t]||e.unicode,te=e=>/^skintone-/.test(e.id);var me;function pe(e){const t=i.getRootNode();!function(e,t,n){for(const o of e){const e=fe(n(o));void 0===le&&(le=fe(t));const i=e/1.8<le;ie.set(o.unicode,i),i?e!==le&&o.unicode:o.unicode}}(e,r,(e=>t.getElementById(`emo-${e.id}`))),n(1,$=$)}function ge(e){return!e.unicode||!V(e)||ie.get(e.unicode)}async function he(e){const t=await oe;return e.filter((({version:e})=>!e||e<=t))}async function be(e){return function(e,t){const n=e=>{const n={};for(const o of e)"number"==typeof o.tone&&o.version<=t&&(n[o.tone]=o.unicode);return n};return e.map((({unicode:e,skins:t,shortcodes:o,url:i,name:r,category:a})=>({unicode:e,name:r,shortcodes:o,url:i,category:a,id:e||r,skins:t&&n(t),title:(o||[]).join(", ")})))}(e,await oe)}function ye(e){n(3,x=""),n(52,T=""),n(8,C=-1),n(56,U=F.findIndex((t=>t.id===e.id)))}async function ve(e){const t=await y.getEmojiByUnicodeOrName(e),o=[...$,...P].find((t=>t.id===e)),i=o.unicode&&ee(o,R);await y.incrementFavoriteEmojiCount(e),n(54,u=u),X("emoji-click",{emoji:t,skinTone:R,...i&&{unicode:i},...o.name&&{name:o.name}})}async function ke(e){const{target:t}=e;if(!te(t))return;re(e);const o=parseInt(t.id.slice(9),10);n(14,R=o),n(11,_=!1),W("skintone-button"),X("skin-tone-change",{skinTone:o}),y.setPreferredSkinTone(o)}oe.then((e=>{e||n(9,s=b.emojiUnsupportedMessage)})),me=async()=>{await M(),n(39,p=p||"en"),n(40,g=g||"https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json")},j().$$.on_mount.push(me),function(e){j().$$.on_destroy.push(e)}((async()=>{if(y)try{await y.close()}catch(e){ne(e)}}));return e.$$set=e=>{"locale"in e&&n(39,p=e.locale),"dataSource"in e&&n(40,g=e.dataSource),"skinToneEmoji"in e&&n(42,h=e.skinToneEmoji),"i18n"in e&&n(0,b=e.i18n),"database"in e&&n(41,y=e.database),"customEmoji"in e&&n(43,v=e.customEmoji),"customCategorySorting"in e&&n(44,k=e.customCategorySorting)},e.$$.update=()=>{if(1792&e.$$.dirty[1]&&p&&g&&(!y||y.locale!==p&&y.dataSource!==g)&&n(41,y=new o.Z({dataSource:g,locale:p})),5120&e.$$.dirty[1]&&v&&y&&n(41,y.customEmoji=v,y),1&e.$$.dirty[0]|1024&e.$$.dirty[1]){y&&async function(){let e=!1;const t=setTimeout((()=>{e=!0,n(9,s=b.loadingMessage)}),1e3);try{await y.ready(),n(24,H=!0)}catch(o){ne(o),n(9,s=b.networkErrorMessage)}finally{clearTimeout(t),e&&(e=!1,n(9,s=""))}}()}if(4194304&e.$$.dirty[0]|4096&e.$$.dirty[1]&&(v&&v.length?n(22,F=[G,...Y]):F!==Y&&n(22,F=Y)),8&e.$$.dirty[0]&&Q((()=>{n(52,T=(x||"").trim()),n(8,C=-1)})),4194304&e.$$.dirty[0]|33554432&e.$$.dirty[1]&&n(23,f=F[U]),25165824&e.$$.dirty[0]|2097152&e.$$.dirty[1]){!async function(){if(H){if(T.length>=2){const e=T,t=await async function(e){return be(await he(await y.getEmojiBySearchQuery(e)))}(e);e===T&&(n(1,$=t),n(7,z=!0))}else if(f){const e=f.id,t=await async function(e){if(void 0===e)return[];const t=-1===e?v:await y.getEmojiByGroup(e);return be(await he(t))}(e);e===f.id&&(n(1,$=t),n(7,z=!1))}}else n(1,$=[]),n(7,z=!1)}()}if(4194432&e.$$.dirty[0]&&n(17,d=`\n  --font-family: ${K};\n  --num-groups: ${F.length}; \n  --indicator-opacity: ${z?0:1}; \n  --num-skintones: 6;`),16777216&e.$$.dirty[0]|1024&e.$$.dirty[1]){!async function(){H&&n(14,R=await y.getPreferredSkinTone())}()}if(2048&e.$$.dirty[1]&&n(19,O=Array(6).fill().map(((e,t)=>function(e,t){if(0===t)return e;const n=e.indexOf("‍");return-1!==n?e.substring(0,n)+String.fromCodePoint(127995+t-1)+e.substring(n):(e.endsWith("️")&&(e=e.substring(0,e.length-1)),e+"\ud83c"+String.fromCodePoint(57339+t-1))}(h,t)))),540672&e.$$.dirty[0]&&n(16,l=O[R]),16385&e.$$.dirty[0]&&n(18,B=b.skinToneLabel.replace("{skinTone}",b.skinTones[R])),16777216&e.$$.dirty[0]|1024&e.$$.dirty[1]){H&&async function(){n(54,u=(await Promise.all(J.map((e=>y.getEmojiByUnicodeOrName(e))))).filter(Boolean))}()}if(16777216&e.$$.dirty[0]|25166848&e.$$.dirty[1]){H&&u&&async function(){const e=await y.getTopFavoriteEmoji(I),t=await be(se([...e,...u],(e=>e.unicode||e.name)).slice(0,I));n(20,P=t)}()}if(37748736&e.$$.dirty[1]&&n(10,L=`transform: translateX(${de?U*S+"px":100*U+"%"})`),2&e.$$.dirty[0]){const e=$.filter((e=>e.unicode)).filter((e=>V(e)&&!ie.has(e.unicode)));e.length?ce((()=>pe(e))):(n(1,$=$.filter(ge)),ce((()=>{n(6,a.scrollTop=0,a)})))}if(e.$$.dirty[0],e.$$.dirty[1],130&e.$$.dirty[0]|8192&e.$$.dirty[1]){n(2,w=function(){if(z)return[{category:"",emojis:$}];const e=new Map;for(const t of $){const n=t.category||"";let o=e.get(n);o||(o=[],e.set(n,o)),o.push(t)}return[...e.entries()].map((([e,t])=>({category:e,emojis:t}))).sort(((e,t)=>k(e.category,t.category)))}())}258&e.$$.dirty[0]&&n(25,m=-1!==C&&$[C].id),10240&e.$$.dirty[0]&&(_?c.addEventListener("transitionend",(()=>{n(12,A=!0)}),{once:!0}):n(12,A=!1))},[b,$,w,x,i,r,a,z,C,s,L,_,A,c,R,D,l,d,B,O,P,N,F,f,H,m,ee,(e,t)=>{return(n=[e.name||ee(e,t),...e.shortcodes||[]],se(n,(e=>e))).join(", ");var n},function(e){return ue(e,(t=>{const o=parseInt(getComputedStyle(i).getPropertyValue("--num-columns"),10),r=e.parentElement.getBoundingClientRect().width-t;n(55,I=o),n(21,N=r)}))},function(e){return ue(e,(e=>{n(53,S=e)}))},function(e){if(!z||!$.length)return;const t=t=>{re(e),n(8,C=ae(t,C,$))};switch(e.key){case"ArrowDown":return t(!1);case"ArrowUp":return t(!0);case"Enter":if(-1!==C)return re(e),ve($[C].id);$.length&&n(8,C=0)}},ye,function(e){const{target:t,key:n}=e,o=t=>{t&&(re(e),t.focus())};switch(n){case"ArrowLeft":return o(t.previousSibling);case"ArrowRight":return o(t.nextSibling);case"Home":return o(t.parentElement.firstChild);case"End":return o(t.parentElement.lastChild)}},async function(e){const{target:t}=e;if(!t.classList.contains("emoji"))return;re(e),ve(t.id.substring(4))},ke,async function(e){n(11,_=!_),n(15,D=R),_&&(re(e),ce((()=>W(`skintone-${D}`))))},function(e){if(!_)return;const t=async t=>{re(e),n(15,D=t),await M(),W(`skintone-${D}`)};switch(e.key){case"ArrowUp":return t(ae(!0,D,O));case"ArrowDown":return t(ae(!1,D,O));case"Home":return t(0);case"End":return t(O.length-1);case"Enter":return ke(e);case"Escape":return re(e),W("skintone-button")}},function(e){if(_)switch(e.key){case" ":return ke(e)}},async function(e){const{relatedTarget:t}=e;t&&te(t)||n(11,_=!1)},p,g,y,h,v,k,function(){x=this.value,n(3,x)},function(e){E[e?"unshift":"push"]((()=>{c=e,n(13,c)}))},e=>ye(e),function(e){E[e?"unshift":"push"]((()=>{a=e,n(6,a),n(1,$),n(24,H),n(52,T),n(23,f),n(0,b),n(41,y),n(3,x),n(22,F),n(56,U),n(39,p),n(40,g),n(43,v)}))},function(e){E[e?"unshift":"push"]((()=>{r=e,n(5,r)}))},function(e){E[e?"unshift":"push"]((()=>{i=e,n(4,i)}))}]}class Le extends H{constructor(e){super(),this.shadowRoot.innerHTML="<style>:host{--emoji-padding:0.5rem;--emoji-size:1.375rem;--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555;--button-hover-background:#484848}@media(prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555;--button-hover-background:#484848}}button{margin:0;padding:0;border:none;background:none;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:none}:focus:not(:focus-visible){outline:none}.hide-focus{outline:none}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + 2*var(--emoji-padding))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;right:0;top:0;z-index:2;overflow:visible;background:var(--background);border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media(prefers-reduced-motion:reduce){.skintone-list{transition-duration:1ms}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--font-family);cursor:pointer}@media(hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{height:var(--total-emoji-size);width:var(--total-emoji-size);padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:50%;background-size:var(--emoji-size) var(--emoji-size)}.nav{display:grid;justify-content:space-between;contain:content}.nav,.nav-button{align-items:center}.nav-button{display:flex;justify-content:center}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media(prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top{width:100%;height:var(--emoji-padding);z-index:3;background:var(--background)}.search-row{display:flex;align-items:center;position:relative;padding-left:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);background:var(--background);color:var(--input-font-color);width:100%;font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}</style>",F(this,{target:this.shadowRoot},Se,Ce,l,{locale:39,dataSource:40,skinToneEmoji:42,i18n:0,database:41,customEmoji:43,customCategorySorting:44},[-1,-1,-1]),e&&(e.target&&f(e.target,this,e.anchor),e.props&&(this.$set(e.props),D()))}static get observedAttributes(){return["locale","dataSource","skinToneEmoji","i18n","database","customEmoji","customCategorySorting"]}get locale(){return this.$$.ctx[39]}set locale(e){this.$set({locale:e}),D()}get dataSource(){return this.$$.ctx[40]}set dataSource(e){this.$set({dataSource:e}),D()}get skinToneEmoji(){return this.$$.ctx[42]}set skinToneEmoji(e){this.$set({skinToneEmoji:e}),D()}get i18n(){return this.$$.ctx[0]}set i18n(e){this.$set({i18n:e}),D()}get database(){return this.$$.ctx[41]}set database(e){this.$set({database:e}),D()}get customEmoji(){return this.$$.ctx[43]}set customEmoji(e){this.$set({customEmoji:e}),D()}get customCategorySorting(){return this.$$.ctx[44]}set customCategorySorting(e){this.$set({customCategorySorting:e}),D()}}class Me extends Le{constructor(e){super({props:e})}disconnectedCallback(){this.$destroy()}static get observedAttributes(){return["locale","data-source","skin-tone-emoji"]}attributeChangedCallback(e,t,n){super.attributeChangedCallback(e.replace(/-([a-z])/g,((e,t)=>t.toUpperCase())),t,n)}}customElements.define("emoji-picker",Me)}}]);
//# sourceMappingURL=3319.d6f5929942377884c6d1.3319.js.map