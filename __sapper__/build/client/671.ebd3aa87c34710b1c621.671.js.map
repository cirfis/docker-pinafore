{"version":3,"sources":["webpack://pinafore/./src/routes/_components/AccountsListPage.html"],"names":["event","action","accountId","onclick","accountsFetcher","this","get","accounts","set","refreshAccounts","e","error","message","loading","on","account","accountActions","onClickAction","undefined","length"],"mappings":"iMA8Da,CACP,cAAeA,GACb,MAAM,OAAEC,EAAM,UAAEC,GAAcF,EAC9BC,EAAOE,QAAQD,IAEjB,wBACE,MAAM,gBAAEE,GAAoBC,KAAKC,MAC3BC,QAAiBH,IACvBC,KAAKG,IAAI,CAAED,SAAUA,M,mBA3BvB,UACQF,KAAKI,kBACX,MAAOC,GACQ,SAAU,OAAW,CAAC,UAAU,CAAC,UAAW,CAAEC,MAAQD,EAAEE,SAAW,MAClF,QACAP,KAAKG,IAAI,CAAEK,SAAS,KAEtB,IAAAC,IAAG,sBAAuBT,MAAM,IAAMA,KAAKI,oB,iGA7CpCF,S,aAAL,Y,mXAAKA,S,gBAAL,a,kHAAA,S,oOAEGQ,Q,UACQC,gB,iFACCC,cAAcjB,M,4GAFvBe,S,+BACQC,gB,kFAiDF,I,qBALA,CACXH,SAAS,EACTN,SAAU,GACVS,oBAAgBE,G,meAtDfL,QAAO,E,EAEHN,UAAY,EAAAA,SAASY,OAAM,O","file":"671.ebd3aa87c34710b1c621.671.js","sourcesContent":["<div class=\"accounts-page\">\n  {#if loading}\n    <LoadingPage />\n  {:elseif accounts && accounts.length}\n    <ul class=\"accounts-results\">\n      {#each accounts as account}\n        <AccountSearchResult\n          {account}\n          actions={accountActions}\n          on:click=\"onClickAction(event)\"\n        />\n      {/each}\n    </ul>\n  {/if}\n</div>\n<style>\n  .accounts-page {\n    padding: 20px 20px;\n    position: relative;\n  }\n  .accounts-results {\n    list-style: none;\n    box-sizing: border-box;\n    border: 1px solid var(--main-border);\n    border-radius: 2px;\n  }\n  @media (max-width: 767px) {\n    .accounts-page {\n      padding: 20px 10px;\n    }\n  }\n</style>\n<script>\n  import { store } from '../_store/store'\n  import LoadingPage from './LoadingPage.html'\n  import AccountSearchResult from './search/AccountSearchResult.html'\n  import { toast } from './toast/toast'\n  import { on } from '../_utils/eventBus'\n  import { formatIntl } from '../_utils/formatIntl'\n\n  // TODO: paginate\n  export default {\n    async oncreate () {\n      try {\n        await this.refreshAccounts()\n      } catch (e) {\n        /* no await */ toast.say(formatIntl([\"Error: \",[\"error\"]], { error: (e.message || '') }))\n      } finally {\n        this.set({ loading: false })\n      }\n      on('refreshAccountsList', this, () => this.refreshAccounts())\n    },\n    data: () => ({\n      loading: true,\n      accounts: [],\n      accountActions: undefined\n    }),\n    store: () => store,\n    components: {\n      LoadingPage,\n      AccountSearchResult\n    },\n    methods: {\n      onClickAction (event) {\n        const { action, accountId } = event\n        action.onclick(accountId)\n      },\n      async refreshAccounts () {\n        const { accountsFetcher } = this.get()\n        const accounts = await accountsFetcher()\n        this.set({ accounts: accounts })\n      }\n    }\n  }\n</script>\n"],"sourceRoot":""}