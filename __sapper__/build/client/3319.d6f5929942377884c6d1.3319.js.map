{"version":3,"sources":["webpack://pinafore/./node_modules/emoji-picker-element/picker.js"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","action_destroyer","action_result","destroy","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","text","data","createTextNode","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","wholeText","set_input_value","input","set_style","key","important","style","setProperty","current_component","set_current_component","component","get_current_component","Error","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","tick","add_render_callback","push","flushing","seen_callbacks","Set","i","length","update","$$","pop","callback","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","transition_in","block","local","delete","globals","window","globalThis","global","destroy_block","lookup","d","update_keyed_each","old_blocks","get_key","dynamic","list","create_each_block","next","get_context","o","n","old_indexes","new_blocks","new_lookup","Map","deltas","child_ctx","get","c","set","Math","abs","will_move","did_move","m","first","new_block","old_block","new_key","old_key","init","instance","create_fragment","not_equal","props","parent_component","prop_values","bound","on_mount","on_destroy","context","callbacks","skip_bound","ready","ret","rest","fill","make_dirty","hydrate","nodes","Array","from","childNodes","children","l","intro","new_on_destroy","map","filter","mount_component","SvelteElement","HTMLElement","super","this","attachShadow","mode","slotted","_oldValue","newValue","detaching","destroy_component","$destroy","type","index","indexOf","splice","$$props","obj","$$set","keys","enI18n","categoriesLabel","emojiUnsupportedMessage","favoritesLabel","loadingMessage","networkErrorMessage","regionLabel","searchDescription","searchLabel","searchResultsLabel","skinToneDescription","skinToneLabel","skinTonesLabel","skinTones","categories","custom","activities","objects","symbols","flags","allGroups","id","emoji","groups","slice","customGroup","rIC","requestIdleCallback","setTimeout","hasZwj","unicode","includes","versionsAndTestEmoji","DEFAULT_SKIN_TONE_EMOJI","MOST_COMMONLY_USED_EMOJI","FONT_FAMILY","getTextFeature","color","canvas","width","height","getContext","textBaseline","font","fillStyle","scale","fillText","getImageData","e","testColorEmojiSupported","feature1","feature2","feature1Str","join","startsWith","compareFeatures","logError","console","error","arguments","emojiSupportLevelPromise","res","version","entries","determineEmojiSupportLevel","supportedZwjEmojis","halt","preventDefault","stopPropagation","incrementOrDecrement","decrement","val","arr","uniqBy","func","item","rAF","requestAnimationFrame","baselineEmojiWidth","resizeObserverSupported","ResizeObserver","calculateWidth","onUpdate","resizeObserver","contentRect","observe","getBoundingClientRect","disconnect","calculateTextWidth","range","createRange","selectNode","firstChild","Map_1","get_each_context","get_each_context_2","get_each_context_1","get_each_context_3","get_each_context_4","create_each_block_4","key_1","div","t","div_id_value","div_class_value","div_aria_selected_value","div_title_value","div_aria_label_value","t_value","create_each_block_3","button","button_aria_controls_value","button_aria_label_value","button_aria_selected_value","button_title_value","mounted","dispose","click_handler","args","new_ctx","create_else_block_1","img","img_src_value","src","url","create_if_block_1","create_each_block_2","button_role_value","button_class_value","button_id_value","select_block_type","current_block_type","if_block","title","create_each_block_1","div0","div0_id_value","div0_class_value","div1","div1_role_value","div1_aria_labelledby_value","div1_id_value","calculateEmojiGridWidth_action","category","each_blocks","each_1_lookup","each_value_2","emojis","call","create_else_block","create_if_block","select_block_type_1","section","div4","input_placeholder_value","input_aria_expanded_value","input_aria_activedescendant_value","label","t0","span0","t1","div2","button0","t2","button0_class_value","div2_class_value","span1","t3","div3","div3_class_value","div3_aria_label_value","div3_aria_activedescendant_value","div3_aria_hidden_value","div5","div5_aria_label_value","div7","div6","calculateIndicatorWidth_action","div8","t4","div8_class_value","div9","div9_class_value","div9_role_value","div9_aria_label_value","div9_id_value","div10","div10_class_value","div10_aria_label_value","button1","section_aria_label_value","t0_value","t1_value","t3_value","each_blocks_3","each0_lookup","each_blocks_2","each1_lookup","each_blocks_1","each2_lookup","each3_lookup","each_value_4","each_value_3","get_key_1","each_value_1","get_key_2","each_value","get_key_3","textContent","$$self","$$invalidate","rootElement","baselineEmoji","tabpanelElement","message","skinToneDropdown","skinToneButtonText","pickerStyle","defaultFavoriteEmojis","currentGroup","activeSearchItemId","locale","dataSource","skinToneEmoji","i18n","database","customEmoji","customCategorySorting","currentEmojis","currentEmojisWithCategories","rawSearchText","searchText","searchMode","activeSearchItem","computedIndicatorWidth","indicatorStyle","skinTonePickerExpanded","skinTonePickerExpandedAfterAnimation","currentSkinTone","activeSkinTone","skinToneButtonLabel","currentFavorites","numColumns","scrollbarWidth","currentGroupIndex","groups$1","databaseLoaded","focus","getRootNode","getElementById","fireEvent","detail","dispatchEvent","CustomEvent","bubbles","composed","unicodeWithSkin","skins","isSkinToneOption","test","checkZwjSupportAndUpdate","zwjEmojisToCheck","rootNode","emojiToDomNode","emojiWidth","supported","checkZwjSupport","isZwjSupported","async","filterEmojisByVersion","emojiSupportLevel","summarizeEmojis","toSimpleSkinsMap","skin","tone","shortcodes","summarizeEmojisForUI","onNavClick","group","findIndex","_","clickEmoji","unicodeOrName","getEmojiByUnicodeOrName","emojiSummary","find","skinTonedUnicode","incrementFavoriteEmojiCount","skinTone","onSkinToneOptionsClick","parseInt","setPreferredSkinTone","level","onDestroy","close","err","showingLoadingMessage","timeoutHandle","clearTimeout","handleDatabaseLoading","trim","currentSearchText","newEmojis","query","getEmojiBySearchQuery","getEmojisBySearchQuery","currentGroupId","getEmojiByGroup","getEmojisByGroup","updateEmojis","getPreferredSkinTone","updatePreferredSkinTone","str","zwjIndex","substring","String","fromCodePoint","endsWith","applySkinTone","replace","all","Boolean","updateDefaultFavoriteEmojis","dbFavorites","getTopFavoriteEmoji","favorites","updateFavorites","scrollTop","categoriesToEmoji","sort","calculateCurrentEmojisWithCategories","once","uniq","newNumColumns","getComputedStyle","getPropertyValue","newScrollbarWidth","parentElement","goToNextOrPrevious","previous","doFocus","el","previousSibling","nextSibling","lastChild","classList","contains","changeActiveSkinTone","nextSkinTone","relatedTarget","$$value","Picker","shadowRoot","innerHTML","$set","Picker$1","attrName","oldValue","attributeChangedCallback","up","toUpperCase","customElements","define"],"mappings":"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","file":"3319.d6f5929942377884c6d1.3319.js","sourcesContent":["import Database from './database.js';\n\nfunction noop() { }\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\n\nconst dirty_components = [];\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\nconst outroing = new Set();\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n\nvar enI18n = {\n  categoriesLabel: 'Categories',\n  emojiUnsupportedMessage: 'Your browser does not support color emoji.',\n  favoritesLabel: 'Favorites',\n  loadingMessage: 'Loading…',\n  networkErrorMessage: 'Could not load emoji. Try refreshing.',\n  regionLabel: 'Emoji picker',\n  searchDescription: 'When search results are available, press up or down to select and enter to choose.',\n  searchLabel: 'Search',\n  searchResultsLabel: 'Search results',\n  skinToneDescription: 'When expanded, press up or down to select and enter to choose.',\n  skinToneLabel: 'Choose a skin tone (currently {skinTone})',\n  skinTonesLabel: 'Skin tones',\n  skinTones: [\n    'Default',\n    'Light',\n    'Medium-Light',\n    'Medium',\n    'Medium-Dark',\n    'Dark'\n  ],\n  categories: {\n    custom: 'Custom',\n    'smileys-emotion': 'Smileys and emoticons',\n    'people-body': 'People and body',\n    'animals-nature': 'Animals and nature',\n    'food-drink': 'Food and drink',\n    'travel-places': 'Travel and places',\n    activities: 'Activities',\n    objects: 'Objects',\n    symbols: 'Symbols',\n    flags: 'Flags'\n  }\n};\n\n// via https://unpkg.com/browse/emojibase-data@6.0.0/meta/groups.json\nconst allGroups = [\n  [-1, '✨', 'custom'],\n  [0, '😀', 'smileys-emotion'],\n  [1, '👋', 'people-body'],\n  [3, '🐱', 'animals-nature'],\n  [4, '🍎', 'food-drink'],\n  [5, '🏠️', 'travel-places'],\n  [6, '⚽', 'activities'],\n  [7, '📝', 'objects'],\n  [8, '⛔️', 'symbols'],\n  [9, '🏁', 'flags']\n].map(([id, emoji, name]) => ({ id, emoji, name }));\n\nconst groups = allGroups.slice(1);\nconst customGroup = allGroups[0];\n\nconst DEFAULT_DATA_SOURCE = 'https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json';\nconst DEFAULT_LOCALE = 'en';\n\nconst MIN_SEARCH_TEXT_LENGTH = 2;\nconst NUM_SKIN_TONES = 6;\n\n/* istanbul ignore next */\nconst rIC = typeof requestIdleCallback === 'function' ? requestIdleCallback : setTimeout;\n\n// check for ZWJ (zero width joiner) character\nfunction hasZwj (emoji) {\n  return emoji.unicode.includes('\\u200d')\n}\n\n// @rollup/plugin-strip doesn't properly strip performance.mark/measure\n\nfunction stop (str) {\n}\n\n// Find one good representative emoji to test. Ideally it should have color in the center.\n// For some inspiration, see: https://about.gitlab.com/blog/2018/05/30/journey-in-native-unicode-emoji/\nconst versionsAndTestEmoji = {\n  '😃': 0.6,\n  '😐️': 0.7,\n  '😀': 1,\n  '👁️‍🗨️': 2,\n  '🤣': 3,\n  '👱‍♀️': 4,\n  '🤩': 5,\n  '🥰': 11, // smiling face with hearts\n  '🥻': 12, // sari\n  '🧑‍🦰': 12.1, // person: red hair\n  '🥲': 13, // smiling face with tear\n  '😵‍💫': 13.1 // face with spiral eyes\n};\n\nconst TIMEOUT_BEFORE_LOADING_MESSAGE = 1000; // 1 second\nconst DEFAULT_SKIN_TONE_EMOJI = '🖐️';\nconst DEFAULT_NUM_COLUMNS = 8;\n\n// Based on https://fivethirtyeight.com/features/the-100-most-used-emojis/ and\n// https://blog.emojipedia.org/facebook-reveals-most-and-least-used-emojis/ with\n// a bit of my own curation. (E.g. avoid the \"OK\" gesture because of connotations:\n// https://emojipedia.org/ok-hand/)\nconst MOST_COMMONLY_USED_EMOJI = [\n  '😊',\n  '😒',\n  '♥️',\n  '👍️',\n  '😍',\n  '😂',\n  '😭',\n  '☺️',\n  '😔',\n  '😩',\n  '😏',\n  '💕',\n  '🙌',\n  '😘'\n];\n\nconst FONT_FAMILY = '\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",' +\n  '\"Twemoji Mozilla\",\"Noto Color Emoji\",\"EmojiOne Color\",\"Android Emoji\",sans-serif';\n\n// Test if an emoji is supported by rendering it to canvas and checking that the color is not black\n\nconst getTextFeature = (text, color) => {\n  try {\n    const canvas = document.createElement('canvas');\n    canvas.width = canvas.height = 1;\n\n    const ctx = canvas.getContext('2d');\n    ctx.textBaseline = 'top';\n    ctx.font = `100px ${FONT_FAMILY}`;\n    ctx.fillStyle = color;\n    ctx.scale(0.01, 0.01);\n    ctx.fillText(text, 0, 0);\n\n    return ctx.getImageData(0, 0, 1, 1).data\n  } catch (e) { /* ignore, return undefined */ }\n};\n\nconst compareFeatures = (feature1, feature2) => {\n  const feature1Str = [...feature1].join(',');\n  const feature2Str = [...feature2].join(',');\n  // This is RGBA, so for 0,0,0, we are checking that the first RGB is not all zeroes.\n  // Most of the time when unsupported this is 0,0,0,0, but on Chrome on Mac it is\n  // 0,0,0,61 - there is a transparency here.\n  return feature1Str === feature2Str && !feature1Str.startsWith('0,0,0,')\n};\n\nfunction testColorEmojiSupported (text) {\n  // Render white and black and then compare them to each other and ensure they're the same\n  // color, and neither one is black. This shows that the emoji was rendered in color.\n  const feature1 = getTextFeature(text, '#000');\n  const feature2 = getTextFeature(text, '#fff');\n  return feature1 && feature2 && compareFeatures(feature1, feature2)\n}\n\n// rather than check every emoji ever, which would be expensive, just check some representatives from the\n\nfunction determineEmojiSupportLevel () {\n  let res;\n  for (const [emoji, version] of Object.entries(versionsAndTestEmoji)) {\n    /* istanbul ignore else */\n    if (testColorEmojiSupported(emoji)) {\n      res = version;\n    } else {\n      break\n    }\n  }\n  return res\n}\n\n// @rollup/plugin-strip doesn't strip console.logs properly\n\nfunction log () {\n}\n\nfunction logError () {\n  /* istanbul ignore if */\n  {\n    console.error(...arguments);\n  }\n}\n\n// Check which emojis we know for sure aren't supported, based on Unicode version level\nconst emojiSupportLevelPromise = new Promise(resolve => (\n  rIC(() => (\n    resolve(determineEmojiSupportLevel()) // delay so ideally this can run while IDB is first populating\n  ))\n));\n// determine which emojis containing ZWJ (zero width joiner) characters\n// are supported (rendered as one glyph) rather than unsupported (rendered as two or more glyphs)\nconst supportedZwjEmojis = new Map();\n\nconst VARIATION_SELECTOR = '\\ufe0f';\nconst SKINTONE_MODIFIER = '\\ud83c';\nconst ZWJ = '\\u200d';\nconst LIGHT_SKIN_TONE = 0x1F3FB;\nconst LIGHT_SKIN_TONE_MODIFIER = 0xdffb;\n\n// TODO: this is a naive implementation, we can improve it later\n// It's only used for the skintone picker, so as long as people don't customize with\n// really exotic emoji then it should work fine\nfunction applySkinTone (str, skinTone) {\n  if (skinTone === 0) {\n    return str\n  }\n  const zwjIndex = str.indexOf(ZWJ);\n  if (zwjIndex !== -1) {\n    return str.substring(0, zwjIndex) +\n      String.fromCodePoint(LIGHT_SKIN_TONE + skinTone - 1) +\n      str.substring(zwjIndex)\n  }\n  if (str.endsWith(VARIATION_SELECTOR)) {\n    str = str.substring(0, str.length - 1);\n  }\n  return str + SKINTONE_MODIFIER + String.fromCodePoint(LIGHT_SKIN_TONE_MODIFIER + skinTone - 1)\n}\n\nfunction halt (event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\n// Implementation left/right or up/down navigation, circling back when you\n// reach the start/end of the list\nfunction incrementOrDecrement (decrement, val, arr) {\n  val += (decrement ? -1 : 1);\n  if (val < 0) {\n    val = arr.length - 1;\n  } else if (val >= arr.length) {\n    val = 0;\n  }\n  return val\n}\n\n// like lodash's uniqBy but much smaller\nfunction uniqBy (arr, func) {\n  const set = new Set();\n  const res = [];\n  for (const item of arr) {\n    const key = func(item);\n    if (!set.has(key)) {\n      set.add(key);\n      res.push(item);\n    }\n  }\n  return res\n}\n\n// We don't need all the data on every emoji, and there are specific things we need\n// for the UI, so build a \"view model\" from the emoji object we got from the database\n\nfunction summarizeEmojisForUI (emojis, emojiSupportLevel) {\n  const toSimpleSkinsMap = skins => {\n    const res = {};\n    for (const skin of skins) {\n      // ignore arrays like [1, 2] with multiple skin tones\n      // also ignore variants that are in an unsupported emoji version\n      // (these do exist - variants from a different version than their base emoji)\n      if (typeof skin.tone === 'number' && skin.version <= emojiSupportLevel) {\n        res[skin.tone] = skin.unicode;\n      }\n    }\n    return res\n  };\n\n  return emojis.map(({ unicode, skins, shortcodes, url, name, category }) => ({\n    unicode,\n    name,\n    shortcodes,\n    url,\n    category,\n    id: unicode || name,\n    skins: skins && toSimpleSkinsMap(skins),\n    title: (shortcodes || []).join(', ')\n  }))\n}\n\n// import rAF from one place so that the bundle size is a bit smaller\nconst rAF = requestAnimationFrame;\n\n// Svelte action to calculate the width of an element and auto-update\n\nlet resizeObserverSupported = typeof ResizeObserver === 'function';\n\nfunction calculateWidth (node, onUpdate) {\n  let resizeObserver;\n  if (resizeObserverSupported) {\n    resizeObserver = new ResizeObserver(entries => (\n      onUpdate(entries[0].contentRect.width)\n    ));\n    resizeObserver.observe(node);\n  } else { // just set the width once, don't bother trying to track it\n    rAF(() => (\n      onUpdate(node.getBoundingClientRect().width)\n    ));\n  }\n\n  return {\n    destroy () {\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n    }\n  }\n}\n\n// get the width of the text inside of a DOM node, via https://stackoverflow.com/a/59525891/680742\nfunction calculateTextWidth (node) {\n  /* istanbul ignore else */\n  {\n    const range = document.createRange();\n    range.selectNode(node.firstChild);\n    return range.getBoundingClientRect().width\n  }\n}\n\nlet baselineEmojiWidth;\n\nfunction checkZwjSupport (zwjEmojisToCheck, baselineEmoji, emojiToDomNode) {\n  for (const emoji of zwjEmojisToCheck) {\n    const domNode = emojiToDomNode(emoji);\n    const emojiWidth = calculateTextWidth(domNode);\n    if (typeof baselineEmojiWidth === 'undefined') { // calculate the baseline emoji width only once\n      baselineEmojiWidth = calculateTextWidth(baselineEmoji);\n    }\n    // On Windows, some supported emoji are ~50% bigger than the baseline emoji, but what we really want to guard\n    // against are the ones that are 2x the size, because those are truly broken (person with red hair = person with\n    // floating red wig, black cat = cat with black square, polar bear = bear with snowflake, etc.)\n    // So here we set the threshold at 1.8 times the size of the baseline emoji.\n    const supported = emojiWidth / 1.8 < baselineEmojiWidth;\n    supportedZwjEmojis.set(emoji.unicode, supported);\n    /* istanbul ignore next */\n    if (!supported) {\n      log('Filtered unsupported emoji', emoji.unicode);\n    } else if (emojiWidth !== baselineEmojiWidth) {\n      log('Allowed borderline emoji', emoji.unicode);\n    }\n  }\n}\n\n// Measure after style/layout are complete\n\nconst requestPostAnimationFrame = callback => {\n  rAF(() => {\n    setTimeout(callback);\n  });\n};\n\n// like lodash's uniq\n\nfunction uniq (arr) {\n  return uniqBy(arr, _ => _)\n}\n\n/* src/picker/components/Picker/Picker.svelte generated by Svelte v3.29.4 */\n\nconst { Map: Map_1 } = globals;\n\nfunction get_each_context(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[67] = list[i];\n\tchild_ctx[69] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_2(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[67] = list[i];\n\tchild_ctx[69] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_1(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[70] = list[i];\n\tchild_ctx[69] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_3(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[73] = list[i];\n\treturn child_ctx;\n}\n\nfunction get_each_context_4(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[76] = list[i];\n\tchild_ctx[69] = i;\n\treturn child_ctx;\n}\n\n// (44:38) {#each skinTones as skinTone, i (skinTone)}\nfunction create_each_block_4(key_1, ctx) {\n\tlet div;\n\tlet t_value = /*skinTone*/ ctx[76] + \"\";\n\tlet t;\n\tlet div_id_value;\n\tlet div_class_value;\n\tlet div_aria_selected_value;\n\tlet div_title_value;\n\tlet div_aria_label_value;\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tattr(div, \"id\", div_id_value = \"skintone-\" + /*i*/ ctx[69]);\n\n\t\t\tattr(div, \"class\", div_class_value = \"emoji hide-focus \" + (/*i*/ ctx[69] === /*activeSkinTone*/ ctx[15]\n\t\t\t? \"active\"\n\t\t\t: \"\"));\n\n\t\t\tattr(div, \"aria-selected\", div_aria_selected_value = /*i*/ ctx[69] === /*activeSkinTone*/ ctx[15]);\n\t\t\tattr(div, \"role\", \"option\");\n\t\t\tattr(div, \"title\", div_title_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[69]]);\n\t\t\tattr(div, \"tabindex\", \"-1\");\n\t\t\tattr(div, \"aria-label\", div_aria_label_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[69]]);\n\t\t\tthis.first = div;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*skinTones*/ 524288 && t_value !== (t_value = /*skinTone*/ ctx[76] + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*skinTones*/ 524288 && div_id_value !== (div_id_value = \"skintone-\" + /*i*/ ctx[69])) {\n\t\t\t\tattr(div, \"id\", div_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone*/ 557056 && div_class_value !== (div_class_value = \"emoji hide-focus \" + (/*i*/ ctx[69] === /*activeSkinTone*/ ctx[15]\n\t\t\t? \"active\"\n\t\t\t: \"\"))) {\n\t\t\t\tattr(div, \"class\", div_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone*/ 557056 && div_aria_selected_value !== (div_aria_selected_value = /*i*/ ctx[69] === /*activeSkinTone*/ ctx[15])) {\n\t\t\t\tattr(div, \"aria-selected\", div_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, skinTones*/ 524289 && div_title_value !== (div_title_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[69]])) {\n\t\t\t\tattr(div, \"title\", div_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, skinTones*/ 524289 && div_aria_label_value !== (div_aria_label_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[69]])) {\n\t\t\t\tattr(div, \"aria-label\", div_aria_label_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\n// (54:33) {#each groups as group (group.id)}\nfunction create_each_block_3(key_1, ctx) {\n\tlet button;\n\tlet div;\n\tlet t_value = /*group*/ ctx[73].emoji + \"\";\n\tlet t;\n\tlet button_aria_controls_value;\n\tlet button_aria_label_value;\n\tlet button_aria_selected_value;\n\tlet button_title_value;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction click_handler(...args) {\n\t\treturn /*click_handler*/ ctx[47](/*group*/ ctx[73], ...args);\n\t}\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tattr(div, \"class\", \"emoji\");\n\t\t\tattr(button, \"role\", \"tab\");\n\t\t\tattr(button, \"class\", \"nav-button\");\n\t\t\tattr(button, \"aria-controls\", button_aria_controls_value = \"tab-\" + /*group*/ ctx[73].id);\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[73].name]);\n\t\t\tattr(button, \"aria-selected\", button_aria_selected_value = !/*searchMode*/ ctx[7] && /*currentGroup*/ ctx[23].id === /*group*/ ctx[73].id);\n\t\t\tattr(button, \"title\", button_title_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[73].name]);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, div);\n\t\t\tappend(div, t);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(button, \"click\", click_handler);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty[0] & /*groups*/ 4194304 && t_value !== (t_value = /*group*/ ctx[73].emoji + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*groups*/ 4194304 && button_aria_controls_value !== (button_aria_controls_value = \"tab-\" + /*group*/ ctx[73].id)) {\n\t\t\t\tattr(button, \"aria-controls\", button_aria_controls_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, groups*/ 4194305 && button_aria_label_value !== (button_aria_label_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[73].name])) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentGroup, groups*/ 12583040 && button_aria_selected_value !== (button_aria_selected_value = !/*searchMode*/ ctx[7] && /*currentGroup*/ ctx[23].id === /*group*/ ctx[73].id)) {\n\t\t\t\tattr(button, \"aria-selected\", button_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, groups*/ 4194305 && button_title_value !== (button_title_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[73].name])) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (89:98) {:else}\nfunction create_else_block_1(ctx) {\n\tlet img;\n\tlet img_src_value;\n\n\treturn {\n\t\tc() {\n\t\t\timg = element(\"img\");\n\t\t\tattr(img, \"class\", \"custom-emoji\");\n\t\t\tif (img.src !== (img_src_value = /*emoji*/ ctx[67].url)) attr(img, \"src\", img_src_value);\n\t\t\tattr(img, \"alt\", \"\");\n\t\t\tattr(img, \"loading\", \"lazy\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, img, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && img.src !== (img_src_value = /*emoji*/ ctx[67].url)) {\n\t\t\t\tattr(img, \"src\", img_src_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(img);\n\t\t}\n\t};\n}\n\n// (89:38) {#if emoji.unicode}\nfunction create_if_block_1(ctx) {\n\tlet t_value = /*unicodeWithSkin*/ ctx[26](/*emoji*/ ctx[67], /*currentSkinTone*/ ctx[14]) + \"\";\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tt = text(t_value);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, t, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories, currentSkinTone*/ 16388 && t_value !== (t_value = /*unicodeWithSkin*/ ctx[26](/*emoji*/ ctx[67], /*currentSkinTone*/ ctx[14]) + \"\")) set_data(t, t_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(t);\n\t\t}\n\t};\n}\n\n// (84:39) {#each emojiWithCategory.emojis as emoji, i (emoji.id)}\nfunction create_each_block_2(key_1, ctx) {\n\tlet button;\n\tlet button_role_value;\n\tlet button_aria_selected_value;\n\tlet button_aria_label_value;\n\tlet button_title_value;\n\tlet button_class_value;\n\tlet button_id_value;\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*emoji*/ ctx[67].unicode) return create_if_block_1;\n\t\treturn create_else_block_1;\n\t}\n\n\tlet current_block_type = select_block_type(ctx);\n\tlet if_block = current_block_type(ctx);\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tif_block.c();\n\t\t\tattr(button, \"role\", button_role_value = /*searchMode*/ ctx[7] ? \"option\" : \"menuitem\");\n\n\t\t\tattr(button, \"aria-selected\", button_aria_selected_value = /*searchMode*/ ctx[7]\n\t\t\t? /*i*/ ctx[69] == /*activeSearchItem*/ ctx[8]\n\t\t\t: \"\");\n\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*labelWithSkin*/ ctx[27](/*emoji*/ ctx[67], /*currentSkinTone*/ ctx[14]));\n\t\t\tattr(button, \"title\", button_title_value = /*emoji*/ ctx[67].title);\n\n\t\t\tattr(button, \"class\", button_class_value = \"emoji \" + (/*searchMode*/ ctx[7] && /*i*/ ctx[69] === /*activeSearchItem*/ ctx[8]\n\t\t\t? \"active\"\n\t\t\t: \"\"));\n\n\t\t\tattr(button, \"id\", button_id_value = \"emo-\" + /*emoji*/ ctx[67].id);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tif_block.m(button, null);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) {\n\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = current_block_type(ctx);\n\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(button, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 128 && button_role_value !== (button_role_value = /*searchMode*/ ctx[7] ? \"option\" : \"menuitem\")) {\n\t\t\t\tattr(button, \"role\", button_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem*/ 388 && button_aria_selected_value !== (button_aria_selected_value = /*searchMode*/ ctx[7]\n\t\t\t? /*i*/ ctx[69] == /*activeSearchItem*/ ctx[8]\n\t\t\t: \"\")) {\n\t\t\t\tattr(button, \"aria-selected\", button_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories, currentSkinTone*/ 16388 && button_aria_label_value !== (button_aria_label_value = /*labelWithSkin*/ ctx[27](/*emoji*/ ctx[67], /*currentSkinTone*/ ctx[14]))) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && button_title_value !== (button_title_value = /*emoji*/ ctx[67].title)) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem*/ 388 && button_class_value !== (button_class_value = \"emoji \" + (/*searchMode*/ ctx[7] && /*i*/ ctx[69] === /*activeSearchItem*/ ctx[8]\n\t\t\t? \"active\"\n\t\t\t: \"\"))) {\n\t\t\t\tattr(button, \"class\", button_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && button_id_value !== (button_id_value = \"emo-\" + /*emoji*/ ctx[67].id)) {\n\t\t\t\tattr(button, \"id\", button_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tif_block.d();\n\t\t}\n\t};\n}\n\n// (71:3) {#each currentEmojisWithCategories as emojiWithCategory, i (emojiWithCategory.category)}\nfunction create_each_block_1(key_1, ctx) {\n\tlet div0;\n\n\tlet t_value = (/*searchMode*/ ctx[7]\n\t? /*i18n*/ ctx[0].searchResultsLabel\n\t: /*emojiWithCategory*/ ctx[70].category\n\t\t? /*emojiWithCategory*/ ctx[70].category\n\t\t: /*currentEmojisWithCategories*/ ctx[2].length > 1\n\t\t\t? /*i18n*/ ctx[0].categories.custom\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[23].name]) + \"\";\n\n\tlet t;\n\tlet div0_id_value;\n\tlet div0_class_value;\n\tlet div1;\n\tlet each_blocks = [];\n\tlet each_1_lookup = new Map_1();\n\tlet div1_role_value;\n\tlet div1_aria_labelledby_value;\n\tlet div1_id_value;\n\tlet calculateEmojiGridWidth_action;\n\tlet mounted;\n\tlet dispose;\n\tlet each_value_2 = /*emojiWithCategory*/ ctx[70].emojis;\n\tconst get_key = ctx => /*emoji*/ ctx[67].id;\n\n\tfor (let i = 0; i < each_value_2.length; i += 1) {\n\t\tlet child_ctx = get_each_context_2(ctx, each_value_2, i);\n\t\tlet key = get_key(child_ctx);\n\t\teach_1_lookup.set(key, each_blocks[i] = create_each_block_2(key, child_ctx));\n\t}\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tdiv0 = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tdiv1 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(div0, \"id\", div0_id_value = \"menu-label-\" + /*i*/ ctx[69]);\n\n\t\t\tattr(div0, \"class\", div0_class_value = \"category \" + (/*currentEmojisWithCategories*/ ctx[2].length > 1\n\t\t\t? \"\"\n\t\t\t: \"gone\"));\n\n\t\t\tattr(div0, \"aria-hidden\", \"true\");\n\t\t\tattr(div1, \"class\", \"emoji-menu\");\n\t\t\tattr(div1, \"role\", div1_role_value = /*searchMode*/ ctx[7] ? \"listbox\" : \"menu\");\n\t\t\tattr(div1, \"aria-labelledby\", div1_aria_labelledby_value = \"menu-label-\" + /*i*/ ctx[69]);\n\t\t\tattr(div1, \"id\", div1_id_value = /*searchMode*/ ctx[7] ? \"search-results\" : \"\");\n\t\t\tthis.first = div0;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div0, anchor);\n\t\t\tappend(div0, t);\n\t\t\tinsert(target, div1, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div1, null);\n\t\t\t}\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = action_destroyer(calculateEmojiGridWidth_action = /*calculateEmojiGridWidth*/ ctx[28].call(null, div1));\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*searchMode, i18n, currentEmojisWithCategories, currentGroup*/ 8388741 && t_value !== (t_value = (/*searchMode*/ ctx[7]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*emojiWithCategory*/ ctx[70].category\n\t\t\t\t? /*emojiWithCategory*/ ctx[70].category\n\t\t\t\t: /*currentEmojisWithCategories*/ ctx[2].length > 1\n\t\t\t\t\t? /*i18n*/ ctx[0].categories.custom\n\t\t\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[23].name]) + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && div0_id_value !== (div0_id_value = \"menu-label-\" + /*i*/ ctx[69])) {\n\t\t\t\tattr(div0, \"id\", div0_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && div0_class_value !== (div0_class_value = \"category \" + (/*currentEmojisWithCategories*/ ctx[2].length > 1\n\t\t\t? \"\"\n\t\t\t: \"gone\"))) {\n\t\t\t\tattr(div0, \"class\", div0_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem, labelWithSkin, currentSkinTone, unicodeWithSkin*/ 201343364) {\n\t\t\t\tconst each_value_2 = /*emojiWithCategory*/ ctx[70].emojis;\n\t\t\t\teach_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx, each_value_2, each_1_lookup, div1, destroy_block, create_each_block_2, null, get_each_context_2);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 128 && div1_role_value !== (div1_role_value = /*searchMode*/ ctx[7] ? \"listbox\" : \"menu\")) {\n\t\t\t\tattr(div1, \"role\", div1_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && div1_aria_labelledby_value !== (div1_aria_labelledby_value = \"menu-label-\" + /*i*/ ctx[69])) {\n\t\t\t\tattr(div1, \"aria-labelledby\", div1_aria_labelledby_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 128 && div1_id_value !== (div1_id_value = /*searchMode*/ ctx[7] ? \"search-results\" : \"\")) {\n\t\t\t\tattr(div1, \"id\", div1_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div0);\n\t\t\tif (detaching) detach(div1);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].d();\n\t\t\t}\n\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (101:94) {:else}\nfunction create_else_block(ctx) {\n\tlet img;\n\tlet img_src_value;\n\n\treturn {\n\t\tc() {\n\t\t\timg = element(\"img\");\n\t\t\tattr(img, \"class\", \"custom-emoji\");\n\t\t\tif (img.src !== (img_src_value = /*emoji*/ ctx[67].url)) attr(img, \"src\", img_src_value);\n\t\t\tattr(img, \"alt\", \"\");\n\t\t\tattr(img, \"loading\", \"lazy\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, img, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1048576 && img.src !== (img_src_value = /*emoji*/ ctx[67].url)) {\n\t\t\t\tattr(img, \"src\", img_src_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(img);\n\t\t}\n\t};\n}\n\n// (101:34) {#if emoji.unicode}\nfunction create_if_block(ctx) {\n\tlet t_value = /*unicodeWithSkin*/ ctx[26](/*emoji*/ ctx[67], /*currentSkinTone*/ ctx[14]) + \"\";\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tt = text(t_value);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, t, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentFavorites, currentSkinTone*/ 1064960 && t_value !== (t_value = /*unicodeWithSkin*/ ctx[26](/*emoji*/ ctx[67], /*currentSkinTone*/ ctx[14]) + \"\")) set_data(t, t_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(t);\n\t\t}\n\t};\n}\n\n// (97:62) {#each currentFavorites as emoji, i (emoji.id)}\nfunction create_each_block(key_1, ctx) {\n\tlet button;\n\tlet button_aria_label_value;\n\tlet button_title_value;\n\tlet button_id_value;\n\n\tfunction select_block_type_1(ctx, dirty) {\n\t\tif (/*emoji*/ ctx[67].unicode) return create_if_block;\n\t\treturn create_else_block;\n\t}\n\n\tlet current_block_type = select_block_type_1(ctx);\n\tlet if_block = current_block_type(ctx);\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tif_block.c();\n\t\t\tattr(button, \"role\", \"menuitem\");\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*labelWithSkin*/ ctx[27](/*emoji*/ ctx[67], /*currentSkinTone*/ ctx[14]));\n\t\t\tattr(button, \"title\", button_title_value = /*emoji*/ ctx[67].title);\n\t\t\tattr(button, \"class\", \"emoji\");\n\t\t\tattr(button, \"id\", button_id_value = \"fav-\" + /*emoji*/ ctx[67].id);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tif_block.m(button, null);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (current_block_type === (current_block_type = select_block_type_1(ctx)) && if_block) {\n\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = current_block_type(ctx);\n\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(button, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites, currentSkinTone*/ 1064960 && button_aria_label_value !== (button_aria_label_value = /*labelWithSkin*/ ctx[27](/*emoji*/ ctx[67], /*currentSkinTone*/ ctx[14]))) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1048576 && button_title_value !== (button_title_value = /*emoji*/ ctx[67].title)) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1048576 && button_id_value !== (button_id_value = \"fav-\" + /*emoji*/ ctx[67].id)) {\n\t\t\t\tattr(button, \"id\", button_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tif_block.d();\n\t\t}\n\t};\n}\n\nfunction create_fragment(ctx) {\n\tlet section;\n\tlet div0;\n\tlet div4;\n\tlet div1;\n\tlet input;\n\tlet input_placeholder_value;\n\tlet input_aria_expanded_value;\n\tlet input_aria_activedescendant_value;\n\tlet label;\n\tlet t0_value = /*i18n*/ ctx[0].searchLabel + \"\";\n\tlet t0;\n\tlet span0;\n\tlet t1_value = /*i18n*/ ctx[0].searchDescription + \"\";\n\tlet t1;\n\tlet div2;\n\tlet button0;\n\tlet t2;\n\tlet button0_class_value;\n\tlet div2_class_value;\n\tlet span1;\n\tlet t3_value = /*i18n*/ ctx[0].skinToneDescription + \"\";\n\tlet t3;\n\tlet div3;\n\tlet each_blocks_3 = [];\n\tlet each0_lookup = new Map_1();\n\tlet div3_class_value;\n\tlet div3_aria_label_value;\n\tlet div3_aria_activedescendant_value;\n\tlet div3_aria_hidden_value;\n\tlet div5;\n\tlet each_blocks_2 = [];\n\tlet each1_lookup = new Map_1();\n\tlet div5_aria_label_value;\n\tlet div7;\n\tlet div6;\n\tlet calculateIndicatorWidth_action;\n\tlet div8;\n\tlet t4;\n\tlet div8_class_value;\n\tlet div9;\n\tlet each_blocks_1 = [];\n\tlet each2_lookup = new Map_1();\n\tlet div9_class_value;\n\tlet div9_role_value;\n\tlet div9_aria_label_value;\n\tlet div9_id_value;\n\tlet div10;\n\tlet each_blocks = [];\n\tlet each3_lookup = new Map_1();\n\tlet div10_class_value;\n\tlet div10_aria_label_value;\n\tlet button1;\n\tlet section_aria_label_value;\n\tlet mounted;\n\tlet dispose;\n\tlet each_value_4 = /*skinTones*/ ctx[19];\n\tconst get_key = ctx => /*skinTone*/ ctx[76];\n\n\tfor (let i = 0; i < each_value_4.length; i += 1) {\n\t\tlet child_ctx = get_each_context_4(ctx, each_value_4, i);\n\t\tlet key = get_key(child_ctx);\n\t\teach0_lookup.set(key, each_blocks_3[i] = create_each_block_4(key, child_ctx));\n\t}\n\n\tlet each_value_3 = /*groups*/ ctx[22];\n\tconst get_key_1 = ctx => /*group*/ ctx[73].id;\n\n\tfor (let i = 0; i < each_value_3.length; i += 1) {\n\t\tlet child_ctx = get_each_context_3(ctx, each_value_3, i);\n\t\tlet key = get_key_1(child_ctx);\n\t\teach1_lookup.set(key, each_blocks_2[i] = create_each_block_3(key, child_ctx));\n\t}\n\n\tlet each_value_1 = /*currentEmojisWithCategories*/ ctx[2];\n\tconst get_key_2 = ctx => /*emojiWithCategory*/ ctx[70].category;\n\n\tfor (let i = 0; i < each_value_1.length; i += 1) {\n\t\tlet child_ctx = get_each_context_1(ctx, each_value_1, i);\n\t\tlet key = get_key_2(child_ctx);\n\t\teach2_lookup.set(key, each_blocks_1[i] = create_each_block_1(key, child_ctx));\n\t}\n\n\tlet each_value = /*currentFavorites*/ ctx[20];\n\tconst get_key_3 = ctx => /*emoji*/ ctx[67].id;\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\tlet child_ctx = get_each_context(ctx, each_value, i);\n\t\tlet key = get_key_3(child_ctx);\n\t\teach3_lookup.set(key, each_blocks[i] = create_each_block(key, child_ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tdiv0 = element(\"div\");\n\t\t\tdiv4 = element(\"div\");\n\t\t\tdiv1 = element(\"div\");\n\t\t\tinput = element(\"input\");\n\t\t\tlabel = element(\"label\");\n\t\t\tt0 = text(t0_value);\n\t\t\tspan0 = element(\"span\");\n\t\t\tt1 = text(t1_value);\n\t\t\tdiv2 = element(\"div\");\n\t\t\tbutton0 = element(\"button\");\n\t\t\tt2 = text(/*skinToneButtonText*/ ctx[16]);\n\t\t\tspan1 = element(\"span\");\n\t\t\tt3 = text(t3_value);\n\t\t\tdiv3 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\teach_blocks_3[i].c();\n\t\t\t}\n\n\t\t\tdiv5 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].c();\n\t\t\t}\n\n\t\t\tdiv7 = element(\"div\");\n\t\t\tdiv6 = element(\"div\");\n\t\t\tdiv8 = element(\"div\");\n\t\t\tt4 = text(/*message*/ ctx[9]);\n\t\t\tdiv9 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].c();\n\t\t\t}\n\n\t\t\tdiv10 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tbutton1 = element(\"button\");\n\t\t\tbutton1.textContent = \"😀\";\n\t\t\tthis.c = noop;\n\t\t\tattr(div0, \"class\", \"pad-top\");\n\t\t\tattr(input, \"id\", \"search\");\n\t\t\tattr(input, \"class\", \"search\");\n\t\t\tattr(input, \"type\", \"search\");\n\t\t\tattr(input, \"role\", \"combobox\");\n\t\t\tattr(input, \"enterkeyhint\", \"search\");\n\t\t\tattr(input, \"placeholder\", input_placeholder_value = /*i18n*/ ctx[0].searchLabel);\n\t\t\tattr(input, \"autocapitalize\", \"none\");\n\t\t\tattr(input, \"autocomplete\", \"off\");\n\t\t\tattr(input, \"spellcheck\", \"true\");\n\t\t\tattr(input, \"aria-expanded\", input_aria_expanded_value = !!(/*searchMode*/ ctx[7] && /*currentEmojis*/ ctx[1].length));\n\t\t\tattr(input, \"aria-controls\", \"search-results\");\n\t\t\tattr(input, \"aria-owns\", \"search-results\");\n\t\t\tattr(input, \"aria-describedby\", \"search-description\");\n\t\t\tattr(input, \"aria-autocomplete\", \"list\");\n\n\t\t\tattr(input, \"aria-activedescendant\", input_aria_activedescendant_value = /*activeSearchItemId*/ ctx[25]\n\t\t\t? `emo-${/*activeSearchItemId*/ ctx[25]}`\n\t\t\t: \"\");\n\n\t\t\tattr(label, \"class\", \"sr-only\");\n\t\t\tattr(label, \"for\", \"search\");\n\t\t\tattr(span0, \"id\", \"search-description\");\n\t\t\tattr(span0, \"class\", \"sr-only\");\n\t\t\tattr(div1, \"class\", \"search-wrapper\");\n\t\t\tattr(button0, \"id\", \"skintone-button\");\n\t\t\tattr(button0, \"class\", button0_class_value = \"emoji \" + (/*skinTonePickerExpanded*/ ctx[11] ? \"hide-focus\" : \"\"));\n\t\t\tattr(button0, \"aria-label\", /*skinToneButtonLabel*/ ctx[18]);\n\t\t\tattr(button0, \"title\", /*skinToneButtonLabel*/ ctx[18]);\n\t\t\tattr(button0, \"aria-describedby\", \"skintone-description\");\n\t\t\tattr(button0, \"aria-haspopup\", \"listbox\");\n\t\t\tattr(button0, \"aria-expanded\", /*skinTonePickerExpanded*/ ctx[11]);\n\t\t\tattr(button0, \"aria-controls\", \"skintone-list\");\n\n\t\t\tattr(div2, \"class\", div2_class_value = \"skintone-button-wrapper \" + (/*skinTonePickerExpandedAfterAnimation*/ ctx[12]\n\t\t\t? \"expanded\"\n\t\t\t: \"\"));\n\n\t\t\tattr(span1, \"id\", \"skintone-description\");\n\t\t\tattr(span1, \"class\", \"sr-only\");\n\t\t\tattr(div3, \"id\", \"skintone-list\");\n\n\t\t\tattr(div3, \"class\", div3_class_value = \"skintone-list \" + (/*skinTonePickerExpanded*/ ctx[11]\n\t\t\t? \"\"\n\t\t\t: \"hidden no-animate\"));\n\n\t\t\tset_style(div3, \"transform\", \"translateY(\" + (/*skinTonePickerExpanded*/ ctx[11]\n\t\t\t? 0\n\t\t\t: \"calc(-1 * var(--num-skintones) * var(--total-emoji-size))\") + \")\");\n\n\t\t\tattr(div3, \"role\", \"listbox\");\n\t\t\tattr(div3, \"aria-label\", div3_aria_label_value = /*i18n*/ ctx[0].skinTonesLabel);\n\t\t\tattr(div3, \"aria-activedescendant\", div3_aria_activedescendant_value = \"skintone-\" + /*activeSkinTone*/ ctx[15]);\n\t\t\tattr(div3, \"aria-hidden\", div3_aria_hidden_value = !/*skinTonePickerExpanded*/ ctx[11]);\n\t\t\tattr(div4, \"class\", \"search-row\");\n\t\t\tattr(div5, \"class\", \"nav\");\n\t\t\tattr(div5, \"role\", \"tablist\");\n\t\t\tset_style(div5, \"grid-template-columns\", \"repeat(\" + /*groups*/ ctx[22].length + \", 1fr)\");\n\t\t\tattr(div5, \"aria-label\", div5_aria_label_value = /*i18n*/ ctx[0].categoriesLabel);\n\t\t\tattr(div6, \"class\", \"indicator\");\n\t\t\tattr(div6, \"style\", /*indicatorStyle*/ ctx[10]);\n\t\t\tattr(div7, \"class\", \"indicator-wrapper\");\n\t\t\tattr(div8, \"class\", div8_class_value = \"message \" + (/*message*/ ctx[9] ? \"\" : \"gone\"));\n\t\t\tattr(div8, \"role\", \"alert\");\n\t\t\tattr(div8, \"aria-live\", \"polite\");\n\n\t\t\tattr(div9, \"class\", div9_class_value = \"tabpanel \" + (!/*databaseLoaded*/ ctx[24] || /*message*/ ctx[9]\n\t\t\t? \"gone\"\n\t\t\t: \"\"));\n\n\t\t\tattr(div9, \"role\", div9_role_value = /*searchMode*/ ctx[7] ? \"region\" : \"tabpanel\");\n\n\t\t\tattr(div9, \"aria-label\", div9_aria_label_value = /*searchMode*/ ctx[7]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[23].name]);\n\n\t\t\tattr(div9, \"id\", div9_id_value = /*searchMode*/ ctx[7]\n\t\t\t? \"\"\n\t\t\t: `tab-${/*currentGroup*/ ctx[23].id}`);\n\n\t\t\tattr(div9, \"tabindex\", \"0\");\n\t\t\tattr(div10, \"class\", div10_class_value = \"favorites emoji-menu \" + (/*message*/ ctx[9] ? \"gone\" : \"\"));\n\t\t\tattr(div10, \"role\", \"menu\");\n\t\t\tattr(div10, \"aria-label\", div10_aria_label_value = /*i18n*/ ctx[0].favoritesLabel);\n\t\t\tset_style(div10, \"padding-right\", /*scrollbarWidth*/ ctx[21] + \"px\");\n\t\t\tattr(button1, \"aria-hidden\", \"true\");\n\t\t\tattr(button1, \"tabindex\", \"-1\");\n\t\t\tattr(button1, \"class\", \"abs-pos hidden emoji\");\n\t\t\tattr(section, \"class\", \"picker\");\n\t\t\tattr(section, \"aria-label\", section_aria_label_value = /*i18n*/ ctx[0].regionLabel);\n\t\t\tattr(section, \"style\", /*pickerStyle*/ ctx[17]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, div0);\n\t\t\tappend(section, div4);\n\t\t\tappend(div4, div1);\n\t\t\tappend(div1, input);\n\t\t\tset_input_value(input, /*rawSearchText*/ ctx[3]);\n\t\t\tappend(div1, label);\n\t\t\tappend(label, t0);\n\t\t\tappend(div1, span0);\n\t\t\tappend(span0, t1);\n\t\t\tappend(div4, div2);\n\t\t\tappend(div2, button0);\n\t\t\tappend(button0, t2);\n\t\t\tappend(div4, span1);\n\t\t\tappend(span1, t3);\n\t\t\tappend(div4, div3);\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\teach_blocks_3[i].m(div3, null);\n\t\t\t}\n\n\t\t\t/*div3_binding*/ ctx[46](div3);\n\t\t\tappend(section, div5);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].m(div5, null);\n\t\t\t}\n\n\t\t\tappend(section, div7);\n\t\t\tappend(div7, div6);\n\t\t\tappend(section, div8);\n\t\t\tappend(div8, t4);\n\t\t\tappend(section, div9);\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].m(div9, null);\n\t\t\t}\n\n\t\t\t/*div9_binding*/ ctx[48](div9);\n\t\t\tappend(section, div10);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div10, null);\n\t\t\t}\n\n\t\t\tappend(section, button1);\n\t\t\t/*button1_binding*/ ctx[49](button1);\n\t\t\t/*section_binding*/ ctx[50](section);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(input, \"input\", /*input_input_handler*/ ctx[45]),\n\t\t\t\t\tlisten(input, \"keydown\", /*onSearchKeydown*/ ctx[30]),\n\t\t\t\t\tlisten(button0, \"click\", /*onClickSkinToneButton*/ ctx[35]),\n\t\t\t\t\tlisten(div3, \"focusout\", /*onSkinToneOptionsFocusOut*/ ctx[38]),\n\t\t\t\t\tlisten(div3, \"click\", /*onSkinToneOptionsClick*/ ctx[34]),\n\t\t\t\t\tlisten(div3, \"keydown\", /*onSkinToneOptionsKeydown*/ ctx[36]),\n\t\t\t\t\tlisten(div3, \"keyup\", /*onSkinToneOptionsKeyup*/ ctx[37]),\n\t\t\t\t\tlisten(div5, \"keydown\", /*onNavKeydown*/ ctx[32]),\n\t\t\t\t\taction_destroyer(calculateIndicatorWidth_action = /*calculateIndicatorWidth*/ ctx[29].call(null, div6)),\n\t\t\t\t\tlisten(div9, \"click\", /*onEmojiClick*/ ctx[33]),\n\t\t\t\t\tlisten(div10, \"click\", /*onEmojiClick*/ ctx[33])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*i18n*/ 1 && input_placeholder_value !== (input_placeholder_value = /*i18n*/ ctx[0].searchLabel)) {\n\t\t\t\tattr(input, \"placeholder\", input_placeholder_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojis*/ 130 && input_aria_expanded_value !== (input_aria_expanded_value = !!(/*searchMode*/ ctx[7] && /*currentEmojis*/ ctx[1].length))) {\n\t\t\t\tattr(input, \"aria-expanded\", input_aria_expanded_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*activeSearchItemId*/ 33554432 && input_aria_activedescendant_value !== (input_aria_activedescendant_value = /*activeSearchItemId*/ ctx[25]\n\t\t\t? `emo-${/*activeSearchItemId*/ ctx[25]}`\n\t\t\t: \"\")) {\n\t\t\t\tattr(input, \"aria-activedescendant\", input_aria_activedescendant_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*rawSearchText*/ 8) {\n\t\t\t\tset_input_value(input, /*rawSearchText*/ ctx[3]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t0_value !== (t0_value = /*i18n*/ ctx[0].searchLabel + \"\")) set_data(t0, t0_value);\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t1_value !== (t1_value = /*i18n*/ ctx[0].searchDescription + \"\")) set_data(t1, t1_value);\n\t\t\tif (dirty[0] & /*skinToneButtonText*/ 65536) set_data(t2, /*skinToneButtonText*/ ctx[16]);\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 2048 && button0_class_value !== (button0_class_value = \"emoji \" + (/*skinTonePickerExpanded*/ ctx[11] ? \"hide-focus\" : \"\"))) {\n\t\t\t\tattr(button0, \"class\", button0_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinToneButtonLabel*/ 262144) {\n\t\t\t\tattr(button0, \"aria-label\", /*skinToneButtonLabel*/ ctx[18]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinToneButtonLabel*/ 262144) {\n\t\t\t\tattr(button0, \"title\", /*skinToneButtonLabel*/ ctx[18]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 2048) {\n\t\t\t\tattr(button0, \"aria-expanded\", /*skinTonePickerExpanded*/ ctx[11]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpandedAfterAnimation*/ 4096 && div2_class_value !== (div2_class_value = \"skintone-button-wrapper \" + (/*skinTonePickerExpandedAfterAnimation*/ ctx[12]\n\t\t\t? \"expanded\"\n\t\t\t: \"\"))) {\n\t\t\t\tattr(div2, \"class\", div2_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t3_value !== (t3_value = /*i18n*/ ctx[0].skinToneDescription + \"\")) set_data(t3, t3_value);\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone, i18n*/ 557057) {\n\t\t\t\tconst each_value_4 = /*skinTones*/ ctx[19];\n\t\t\t\teach_blocks_3 = update_keyed_each(each_blocks_3, dirty, get_key, 1, ctx, each_value_4, each0_lookup, div3, destroy_block, create_each_block_4, null, get_each_context_4);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 2048 && div3_class_value !== (div3_class_value = \"skintone-list \" + (/*skinTonePickerExpanded*/ ctx[11]\n\t\t\t? \"\"\n\t\t\t: \"hidden no-animate\"))) {\n\t\t\t\tattr(div3, \"class\", div3_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 2048) {\n\t\t\t\tset_style(div3, \"transform\", \"translateY(\" + (/*skinTonePickerExpanded*/ ctx[11]\n\t\t\t\t? 0\n\t\t\t\t: \"calc(-1 * var(--num-skintones) * var(--total-emoji-size))\") + \")\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div3_aria_label_value !== (div3_aria_label_value = /*i18n*/ ctx[0].skinTonesLabel)) {\n\t\t\t\tattr(div3, \"aria-label\", div3_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*activeSkinTone*/ 32768 && div3_aria_activedescendant_value !== (div3_aria_activedescendant_value = \"skintone-\" + /*activeSkinTone*/ ctx[15])) {\n\t\t\t\tattr(div3, \"aria-activedescendant\", div3_aria_activedescendant_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 2048 && div3_aria_hidden_value !== (div3_aria_hidden_value = !/*skinTonePickerExpanded*/ ctx[11])) {\n\t\t\t\tattr(div3, \"aria-hidden\", div3_aria_hidden_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*groups, i18n, searchMode, currentGroup*/ 12583041 | dirty[1] & /*onNavClick*/ 1) {\n\t\t\t\tconst each_value_3 = /*groups*/ ctx[22];\n\t\t\t\teach_blocks_2 = update_keyed_each(each_blocks_2, dirty, get_key_1, 1, ctx, each_value_3, each1_lookup, div5, destroy_block, create_each_block_3, null, get_each_context_3);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*groups*/ 4194304) {\n\t\t\t\tset_style(div5, \"grid-template-columns\", \"repeat(\" + /*groups*/ ctx[22].length + \", 1fr)\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div5_aria_label_value !== (div5_aria_label_value = /*i18n*/ ctx[0].categoriesLabel)) {\n\t\t\t\tattr(div5, \"aria-label\", div5_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*indicatorStyle*/ 1024) {\n\t\t\t\tattr(div6, \"style\", /*indicatorStyle*/ ctx[10]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*message*/ 512) set_data(t4, /*message*/ ctx[9]);\n\n\t\t\tif (dirty[0] & /*message*/ 512 && div8_class_value !== (div8_class_value = \"message \" + (/*message*/ ctx[9] ? \"\" : \"gone\"))) {\n\t\t\t\tattr(div8, \"class\", div8_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem, labelWithSkin, currentSkinTone, unicodeWithSkin, i18n, currentGroup*/ 209731973) {\n\t\t\t\tconst each_value_1 = /*currentEmojisWithCategories*/ ctx[2];\n\t\t\t\teach_blocks_1 = update_keyed_each(each_blocks_1, dirty, get_key_2, 1, ctx, each_value_1, each2_lookup, div9, destroy_block, create_each_block_1, null, get_each_context_1);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*databaseLoaded, message*/ 16777728 && div9_class_value !== (div9_class_value = \"tabpanel \" + (!/*databaseLoaded*/ ctx[24] || /*message*/ ctx[9]\n\t\t\t? \"gone\"\n\t\t\t: \"\"))) {\n\t\t\t\tattr(div9, \"class\", div9_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 128 && div9_role_value !== (div9_role_value = /*searchMode*/ ctx[7] ? \"region\" : \"tabpanel\")) {\n\t\t\t\tattr(div9, \"role\", div9_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, i18n, currentGroup*/ 8388737 && div9_aria_label_value !== (div9_aria_label_value = /*searchMode*/ ctx[7]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[23].name])) {\n\t\t\t\tattr(div9, \"aria-label\", div9_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentGroup*/ 8388736 && div9_id_value !== (div9_id_value = /*searchMode*/ ctx[7]\n\t\t\t? \"\"\n\t\t\t: `tab-${/*currentGroup*/ ctx[23].id}`)) {\n\t\t\t\tattr(div9, \"id\", div9_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*labelWithSkin, currentFavorites, currentSkinTone, unicodeWithSkin*/ 202391552) {\n\t\t\t\tconst each_value = /*currentFavorites*/ ctx[20];\n\t\t\t\teach_blocks = update_keyed_each(each_blocks, dirty, get_key_3, 1, ctx, each_value, each3_lookup, div10, destroy_block, create_each_block, null, get_each_context);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*message*/ 512 && div10_class_value !== (div10_class_value = \"favorites emoji-menu \" + (/*message*/ ctx[9] ? \"gone\" : \"\"))) {\n\t\t\t\tattr(div10, \"class\", div10_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div10_aria_label_value !== (div10_aria_label_value = /*i18n*/ ctx[0].favoritesLabel)) {\n\t\t\t\tattr(div10, \"aria-label\", div10_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*scrollbarWidth*/ 2097152) {\n\t\t\t\tset_style(div10, \"padding-right\", /*scrollbarWidth*/ ctx[21] + \"px\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && section_aria_label_value !== (section_aria_label_value = /*i18n*/ ctx[0].regionLabel)) {\n\t\t\t\tattr(section, \"aria-label\", section_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*pickerStyle*/ 131072) {\n\t\t\t\tattr(section, \"style\", /*pickerStyle*/ ctx[17]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\teach_blocks_3[i].d();\n\t\t\t}\n\n\t\t\t/*div3_binding*/ ctx[46](null);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].d();\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].d();\n\t\t\t}\n\n\t\t\t/*div9_binding*/ ctx[48](null);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].d();\n\t\t\t}\n\n\t\t\t/*button1_binding*/ ctx[49](null);\n\t\t\t/*section_binding*/ ctx[50](null);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction instance($$self, $$props, $$invalidate) {\n\tlet { locale = null } = $$props;\n\tlet { dataSource = null } = $$props;\n\tlet { skinToneEmoji = DEFAULT_SKIN_TONE_EMOJI } = $$props;\n\tlet { i18n = enI18n } = $$props;\n\tlet { database = null } = $$props;\n\tlet { customEmoji = null } = $$props;\n\tlet { customCategorySorting = (a, b) => a < b ? -1 : a > b ? 1 : 0 } = $$props;\n\n\t// private\n\tlet initialLoad = true;\n\n\tlet currentEmojis = [];\n\tlet currentEmojisWithCategories = []; // eslint-disable-line no-unused-vars\n\tlet rawSearchText = \"\";\n\tlet searchText = \"\";\n\tlet rootElement;\n\tlet baselineEmoji;\n\tlet tabpanelElement;\n\tlet searchMode = false; // eslint-disable-line no-unused-vars\n\tlet activeSearchItem = -1;\n\tlet message; // eslint-disable-line no-unused-vars\n\tlet computedIndicatorWidth = 0;\n\tlet indicatorStyle = \"\"; // eslint-disable-line no-unused-vars\n\tlet skinTonePickerExpanded = false;\n\tlet skinTonePickerExpandedAfterAnimation = false; // eslint-disable-line no-unused-vars\n\tlet skinToneDropdown;\n\tlet currentSkinTone = 0;\n\tlet activeSkinTone = 0;\n\tlet skinToneButtonText; // eslint-disable-line no-unused-vars\n\tlet pickerStyle; // eslint-disable-line no-unused-vars\n\tlet skinToneButtonLabel = \"\"; // eslint-disable-line no-unused-vars\n\tlet skinTones = [];\n\tlet currentFavorites = []; // eslint-disable-line no-unused-vars\n\tlet defaultFavoriteEmojis;\n\tlet numColumns = DEFAULT_NUM_COLUMNS;\n\tlet scrollbarWidth = 0; // eslint-disable-line no-unused-vars\n\tlet currentGroupIndex = 0;\n\tlet groups$1 = groups;\n\tlet currentGroup;\n\tlet databaseLoaded = false; // eslint-disable-line no-unused-vars\n\tlet activeSearchItemId; // eslint-disable-line no-unused-vars\n\n\t//\n\t// Utils/helpers\n\t//\n\tconst focus = id => {\n\t\trootElement.getRootNode().getElementById(id).focus();\n\t};\n\n\t// fire a custom event that crosses the shadow boundary\n\tconst fireEvent = (name, detail) => {\n\t\trootElement.dispatchEvent(new CustomEvent(name, { detail, bubbles: true, composed: true }));\n\t};\n\n\t// eslint-disable-next-line no-unused-vars\n\tconst unicodeWithSkin = (emoji, currentSkinTone) => currentSkinTone && emoji.skins && emoji.skins[currentSkinTone] || emoji.unicode;\n\n\t// eslint-disable-next-line no-unused-vars\n\tconst labelWithSkin = (emoji, currentSkinTone) => uniq([\n\t\temoji.name || unicodeWithSkin(emoji, currentSkinTone),\n\t\t...emoji.shortcodes || []\n\t]).join(\", \");\n\n\t// Detect a skintone option button\n\tconst isSkinToneOption = element => (/^skintone-/).test(element.id);\n\n\t//\n\t// Determine the emoji support level (in requestIdleCallback)\n\t//\n\temojiSupportLevelPromise.then(level => {\n\t\t// Can't actually test emoji support in Jest/JSDom, emoji never render in color in Cairo\n\t\t/* istanbul ignore next */\n\t\tif (!level) {\n\t\t\t$$invalidate(9, message = i18n.emojiUnsupportedMessage);\n\t\t}\n\t});\n\n\t// TODO: this is a bizarre way to set these default properties, but currently Svelte\n\t// renders custom elements in an odd way - props are not set when calling the constructor,\n\t// but are only set later. This would cause a double render or a double-fetch of\n\t// the dataSource, which is bad. Delaying with a microtask avoids this.\n\t// See https://github.com/sveltejs/svelte/pull/4527\n\tonMount(async () => {\n\t\tawait tick();\n\t\t$$invalidate(39, locale = locale || DEFAULT_LOCALE);\n\t\t$$invalidate(40, dataSource = dataSource || DEFAULT_DATA_SOURCE);\n\t});\n\n\tonDestroy(async () => {\n\t\tif (database) {\n\n\t\t\ttry {\n\t\t\t\tawait database.close();\n\t\t\t} catch(err) {\n\t\t\t\tlogError(err); // only happens if the database failed to load in the first place, so we don't care\n\t\t\t}\n\t\t}\n\t});\n\n\t//\n\t// Calculate the width of the emoji grid. This serves two purposes:\n\t// 1) Re-calculate the --num-columns var because it may have changed\n\t// 2) Re-calculate the scrollbar width because it may have changed\n\t//   (i.e. because the number of items changed)\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction calculateEmojiGridWidth(node) {\n\t\treturn calculateWidth(node, width => {\n\t\t\t/* istanbul ignore next */\n\t\t\tconst newNumColumns = \"production\" === \"test\"\n\t\t\t? DEFAULT_NUM_COLUMNS\n\t\t\t: parseInt(getComputedStyle(rootElement).getPropertyValue(\"--num-columns\"), 10);\n\n\t\t\t/* istanbul ignore next */\n\t\t\tconst parentWidth = \"production\" === \"test\"\n\t\t\t? 1\n\t\t\t: node.parentElement.getBoundingClientRect().width; // jsdom throws an error here occasionally\n\n\t\t\tconst newScrollbarWidth = parentWidth - width;\n\t\t\t$$invalidate(55, numColumns = newNumColumns);\n\t\t\t$$invalidate(21, scrollbarWidth = newScrollbarWidth); // eslint-disable-line no-unused-vars\n\t\t});\n\t}\n\n\t//\n\t// Animate the indicator\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction calculateIndicatorWidth(node) {\n\t\treturn calculateWidth(node, width => {\n\t\t\t$$invalidate(53, computedIndicatorWidth = width);\n\t\t});\n\t}\n\n\tfunction checkZwjSupportAndUpdate(zwjEmojisToCheck) {\n\t\tconst rootNode = rootElement.getRootNode();\n\t\tconst emojiToDomNode = emoji => rootNode.getElementById(`emo-${emoji.id}`);\n\t\tcheckZwjSupport(zwjEmojisToCheck, baselineEmoji, emojiToDomNode);\n\n\t\t// force update\n\t\t$$invalidate(1, currentEmojis = currentEmojis); // eslint-disable-line no-self-assign\n\t}\n\n\tfunction isZwjSupported(emoji) {\n\t\treturn !emoji.unicode || !hasZwj(emoji) || supportedZwjEmojis.get(emoji.unicode);\n\t}\n\n\tasync function filterEmojisByVersion(emojis) {\n\t\tconst emojiSupportLevel = await emojiSupportLevelPromise;\n\n\t\t// !version corresponds to custom emoji\n\t\treturn emojis.filter(({ version }) => !version || version <= emojiSupportLevel);\n\t}\n\n\tasync function summarizeEmojis(emojis) {\n\t\treturn summarizeEmojisForUI(emojis, await emojiSupportLevelPromise);\n\t}\n\n\tasync function getEmojisByGroup(group) {\n\n\t\tif (typeof group === \"undefined\") {\n\t\t\treturn [];\n\t\t}\n\n\t\t// -1 is custom emoji\n\t\tconst emoji = group === -1\n\t\t? customEmoji\n\t\t: await database.getEmojiByGroup(group);\n\n\t\treturn summarizeEmojis(await filterEmojisByVersion(emoji));\n\t}\n\n\tasync function getEmojisBySearchQuery(query) {\n\t\treturn summarizeEmojis(await filterEmojisByVersion(await database.getEmojiBySearchQuery(query)));\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSearchKeydown(event) {\n\t\tif (!searchMode || !currentEmojis.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst goToNextOrPrevious = previous => {\n\t\t\thalt(event);\n\t\t\t$$invalidate(8, activeSearchItem = incrementOrDecrement(previous, activeSearchItem, currentEmojis));\n\t\t};\n\n\t\tswitch (event.key) {\n\t\t\tcase \"ArrowDown\":\n\t\t\t\treturn goToNextOrPrevious(false);\n\t\t\tcase \"ArrowUp\":\n\t\t\t\treturn goToNextOrPrevious(true);\n\t\t\tcase \"Enter\":\n\t\t\t\tif (activeSearchItem !== -1) {\n\t\t\t\t\thalt(event);\n\t\t\t\t\treturn clickEmoji(currentEmojis[activeSearchItem].id);\n\t\t\t\t} else if (currentEmojis.length) {\n\t\t\t\t\t$$invalidate(8, activeSearchItem = 0);\n\t\t\t\t}\n\t\t}\n\t}\n\n\t//\n\t// Handle user input on nav\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onNavClick(group) {\n\t\t$$invalidate(3, rawSearchText = \"\");\n\t\t$$invalidate(52, searchText = \"\");\n\t\t$$invalidate(8, activeSearchItem = -1);\n\t\t$$invalidate(56, currentGroupIndex = groups$1.findIndex(_ => _.id === group.id));\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onNavKeydown(event) {\n\t\tconst { target, key } = event;\n\n\t\tconst doFocus = el => {\n\t\t\tif (el) {\n\t\t\t\thalt(event);\n\t\t\t\tel.focus();\n\t\t\t}\n\t\t};\n\n\t\tswitch (key) {\n\t\t\tcase \"ArrowLeft\":\n\t\t\t\treturn doFocus(target.previousSibling);\n\t\t\tcase \"ArrowRight\":\n\t\t\t\treturn doFocus(target.nextSibling);\n\t\t\tcase \"Home\":\n\t\t\t\treturn doFocus(target.parentElement.firstChild);\n\t\t\tcase \"End\":\n\t\t\t\treturn doFocus(target.parentElement.lastChild);\n\t\t}\n\t}\n\n\t//\n\t// Handle user input on an emoji\n\t//\n\tasync function clickEmoji(unicodeOrName) {\n\t\tconst emoji = await database.getEmojiByUnicodeOrName(unicodeOrName);\n\t\tconst emojiSummary = [...currentEmojis, ...currentFavorites].find(_ => _.id === unicodeOrName);\n\t\tconst skinTonedUnicode = emojiSummary.unicode && unicodeWithSkin(emojiSummary, currentSkinTone);\n\t\tawait database.incrementFavoriteEmojiCount(unicodeOrName);\n\n\t\t// eslint-disable-next-line no-self-assign\n\t\t$$invalidate(54, defaultFavoriteEmojis = defaultFavoriteEmojis); // force favorites to re-render\n\n\t\tfireEvent(\"emoji-click\", {\n\t\t\temoji,\n\t\t\tskinTone: currentSkinTone,\n\t\t\t...skinTonedUnicode && { unicode: skinTonedUnicode },\n\t\t\t...emojiSummary.name && { name: emojiSummary.name }\n\t\t});\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onEmojiClick(event) {\n\t\tconst { target } = event;\n\n\t\tif (!target.classList.contains(\"emoji\")) {\n\t\t\treturn;\n\t\t}\n\n\t\thalt(event);\n\t\tconst id = target.id.substring(4); // replace 'emo-' or 'fav-' prefix\n\n\t\t/* no await */\n\t\tclickEmoji(id);\n\t}\n\n\t//\n\t// Handle user input on the skintone picker\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onSkinToneOptionsClick(event) {\n\t\tconst { target } = event;\n\n\t\tif (!isSkinToneOption(target)) {\n\t\t\treturn;\n\t\t}\n\n\t\thalt(event);\n\t\tconst skinTone = parseInt(target.id.slice(9), 10); // remove 'skintone-' prefix\n\t\t$$invalidate(14, currentSkinTone = skinTone);\n\t\t$$invalidate(11, skinTonePickerExpanded = false);\n\t\tfocus(\"skintone-button\");\n\t\tfireEvent(\"skin-tone-change\", { skinTone });\n\n\t\t/* no await */\n\t\tdatabase.setPreferredSkinTone(skinTone);\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onClickSkinToneButton(event) {\n\t\t$$invalidate(11, skinTonePickerExpanded = !skinTonePickerExpanded);\n\t\t$$invalidate(15, activeSkinTone = currentSkinTone);\n\n\t\tif (skinTonePickerExpanded) {\n\t\t\thalt(event);\n\t\t\trAF(() => focus(`skintone-${activeSkinTone}`));\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSkinToneOptionsKeydown(event) {\n\t\tif (!skinTonePickerExpanded) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst changeActiveSkinTone = async nextSkinTone => {\n\t\t\thalt(event);\n\t\t\t$$invalidate(15, activeSkinTone = nextSkinTone);\n\t\t\tawait tick();\n\t\t\tfocus(`skintone-${activeSkinTone}`);\n\t\t};\n\n\t\tswitch (event.key) {\n\t\t\tcase \"ArrowUp\":\n\t\t\t\treturn changeActiveSkinTone(incrementOrDecrement(true, activeSkinTone, skinTones));\n\t\t\tcase \"ArrowDown\":\n\t\t\t\treturn changeActiveSkinTone(incrementOrDecrement(false, activeSkinTone, skinTones));\n\t\t\tcase \"Home\":\n\t\t\t\treturn changeActiveSkinTone(0);\n\t\t\tcase \"End\":\n\t\t\t\treturn changeActiveSkinTone(skinTones.length - 1);\n\t\t\tcase \"Enter\":\n\t\t\t\t// enter on keydown, space on keyup. this is just how browsers work for buttons\n\t\t\t\t// https://lists.w3.org/Archives/Public/w3c-wai-ig/2019JanMar/0086.html\n\t\t\t\treturn onSkinToneOptionsClick(event);\n\t\t\tcase \"Escape\":\n\t\t\t\thalt(event);\n\t\t\t\treturn focus(\"skintone-button\");\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSkinToneOptionsKeyup(event) {\n\t\tif (!skinTonePickerExpanded) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (event.key) {\n\t\t\tcase \" \":\n\t\t\t\t// enter on keydown, space on keyup. this is just how browsers work for buttons\n\t\t\t\t// https://lists.w3.org/Archives/Public/w3c-wai-ig/2019JanMar/0086.html\n\t\t\t\treturn onSkinToneOptionsClick(event);\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onSkinToneOptionsFocusOut(event) {\n\t\t// On blur outside of the skintone options, collapse the skintone picker.\n\t\t// Except if focus is just moving to another skintone option, e.g. pressing up/down to change focus\n\t\tconst { relatedTarget } = event;\n\n\t\tif (!relatedTarget || !isSkinToneOption(relatedTarget)) {\n\t\t\t$$invalidate(11, skinTonePickerExpanded = false);\n\t\t}\n\t}\n\n\tfunction input_input_handler() {\n\t\trawSearchText = this.value;\n\t\t$$invalidate(3, rawSearchText);\n\t}\n\n\tfunction div3_binding($$value) {\n\t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n\t\t\tskinToneDropdown = $$value;\n\t\t\t$$invalidate(13, skinToneDropdown);\n\t\t});\n\t}\n\n\tconst click_handler = group => onNavClick(group);\n\n\tfunction div9_binding($$value) {\n\t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n\t\t\ttabpanelElement = $$value;\n\t\t\t(((((((((((($$invalidate(6, tabpanelElement), $$invalidate(1, currentEmojis)), $$invalidate(24, databaseLoaded)), $$invalidate(52, searchText)), $$invalidate(23, currentGroup)), $$invalidate(0, i18n)), $$invalidate(41, database)), $$invalidate(3, rawSearchText)), $$invalidate(22, groups$1)), $$invalidate(56, currentGroupIndex)), $$invalidate(39, locale)), $$invalidate(40, dataSource)), $$invalidate(43, customEmoji));\n\t\t});\n\t}\n\n\tfunction button1_binding($$value) {\n\t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n\t\t\tbaselineEmoji = $$value;\n\t\t\t$$invalidate(5, baselineEmoji);\n\t\t});\n\t}\n\n\tfunction section_binding($$value) {\n\t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n\t\t\trootElement = $$value;\n\t\t\t$$invalidate(4, rootElement);\n\t\t});\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif (\"locale\" in $$props) $$invalidate(39, locale = $$props.locale);\n\t\tif (\"dataSource\" in $$props) $$invalidate(40, dataSource = $$props.dataSource);\n\t\tif (\"skinToneEmoji\" in $$props) $$invalidate(42, skinToneEmoji = $$props.skinToneEmoji);\n\t\tif (\"i18n\" in $$props) $$invalidate(0, i18n = $$props.i18n);\n\t\tif (\"database\" in $$props) $$invalidate(41, database = $$props.database);\n\t\tif (\"customEmoji\" in $$props) $$invalidate(43, customEmoji = $$props.customEmoji);\n\t\tif (\"customCategorySorting\" in $$props) $$invalidate(44, customCategorySorting = $$props.customCategorySorting);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty[1] & /*locale, dataSource, database*/ 1792) {\n\t\t\t {\n\t\t\t\tif (locale && dataSource && (!database || database.locale !== locale && database.dataSource !== dataSource)) {\n\t\t\t\t\t$$invalidate(41, database = new Database({ dataSource, locale }));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[1] & /*customEmoji, database*/ 5120) {\n\t\t\t/* eslint-enable no-unused-vars */\n\t\t\t//\n\t\t\t// Set or update the customEmoji\n\t\t\t//\n\t\t\t {\n\t\t\t\tif (customEmoji && database) {\n\t\t\t\t\t$$invalidate(41, database.customEmoji = customEmoji, database);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*i18n*/ 1 | $$self.$$.dirty[1] & /*database*/ 1024) {\n\t\t\t//\n\t\t\t// Set or update the database object\n\t\t\t//\n\t\t\t {\n\t\t\t\t// show a Loading message if it takes a long time, or show an error if there's a network/IDB error\n\t\t\t\tasync function handleDatabaseLoading() {\n\t\t\t\t\tlet showingLoadingMessage = false;\n\n\t\t\t\t\tconst timeoutHandle = setTimeout(\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tshowingLoadingMessage = true;\n\t\t\t\t\t\t\t$$invalidate(9, message = i18n.loadingMessage);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tTIMEOUT_BEFORE_LOADING_MESSAGE\n\t\t\t\t\t);\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait database.ready();\n\t\t\t\t\t\t$$invalidate(24, databaseLoaded = true); // eslint-disable-line no-unused-vars\n\t\t\t\t\t} catch(err) {\n\t\t\t\t\t\tlogError(err);\n\t\t\t\t\t\t$$invalidate(9, message = i18n.networkErrorMessage);\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tclearTimeout(timeoutHandle);\n\n\t\t\t\t\t\tif (showingLoadingMessage) {\n\t\t\t\t\t\t\t// Seems safer than checking the i18n string, which may change\n\t\t\t\t\t\t\tshowingLoadingMessage = false;\n\n\t\t\t\t\t\t\t$$invalidate(9, message = \"\"); // eslint-disable-line no-unused-vars\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (database) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\thandleDatabaseLoading();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups*/ 4194304 | $$self.$$.dirty[1] & /*customEmoji*/ 4096) {\n\t\t\t {\n\t\t\t\tif (customEmoji && customEmoji.length) {\n\t\t\t\t\t$$invalidate(22, groups$1 = [customGroup, ...groups]);\n\t\t\t\t} else if (groups$1 !== groups) {\n\t\t\t\t\t$$invalidate(22, groups$1 = groups);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*rawSearchText*/ 8) {\n\t\t\t/* eslint-enable no-unused-vars */\n\t\t\t//\n\t\t\t// Handle user input on the search input\n\t\t\t//\n\t\t\t {\n\t\t\t\trIC(() => {\n\t\t\t\t\t$$invalidate(52, searchText = (rawSearchText || \"\").trim()); // defer to avoid input delays, plus we can trim here\n\t\t\t\t\t$$invalidate(8, activeSearchItem = -1);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups*/ 4194304 | $$self.$$.dirty[1] & /*currentGroupIndex*/ 33554432) {\n\t\t\t//\n\t\t\t// Update the current group based on the currentGroupIndex\n\t\t\t//\n\t\t\t $$invalidate(23, currentGroup = groups$1[currentGroupIndex]);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded, currentGroup*/ 25165824 | $$self.$$.dirty[1] & /*searchText*/ 2097152) {\n\t\t\t//\n\t\t\t// Set or update the currentEmojis. Check for invalid ZWJ renderings\n\t\t\t// (i.e. double emoji).\n\t\t\t//\n\t\t\t {\n\t\t\t\tasync function updateEmojis() {\n\n\t\t\t\t\tif (!databaseLoaded) {\n\t\t\t\t\t\t$$invalidate(1, currentEmojis = []);\n\t\t\t\t\t\t$$invalidate(7, searchMode = false);\n\t\t\t\t\t} else if (searchText.length >= MIN_SEARCH_TEXT_LENGTH) {\n\t\t\t\t\t\tconst currentSearchText = searchText;\n\t\t\t\t\t\tconst newEmojis = await getEmojisBySearchQuery(currentSearchText);\n\n\t\t\t\t\t\tif (currentSearchText === searchText) {\n\t\t\t\t\t\t\t// if the situation changes asynchronously, do not update\n\t\t\t\t\t\t\t$$invalidate(1, currentEmojis = newEmojis);\n\n\t\t\t\t\t\t\t$$invalidate(7, searchMode = true);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (currentGroup) {\n\t\t\t\t\t\tconst currentGroupId = currentGroup.id;\n\t\t\t\t\t\tconst newEmojis = await getEmojisByGroup(currentGroupId);\n\n\t\t\t\t\t\tif (currentGroupId === currentGroup.id) {\n\t\t\t\t\t\t\t// if the situation changes asynchronously, do not update\n\t\t\t\t\t\t\t$$invalidate(1, currentEmojis = newEmojis);\n\n\t\t\t\t\t\t\t$$invalidate(7, searchMode = false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* no await */\n\t\t\t\tupdateEmojis();\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups, searchMode*/ 4194432) {\n\t\t\t//\n\t\t\t// Global styles for the entire picker\n\t\t\t//\n\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t $$invalidate(17, pickerStyle = `\n  --font-family: ${FONT_FAMILY};\n  --num-groups: ${groups$1.length}; \n  --indicator-opacity: ${searchMode ? 0 : 1}; \n  --num-skintones: ${NUM_SKIN_TONES};`);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded*/ 16777216 | $$self.$$.dirty[1] & /*database*/ 1024) {\n\t\t\t//\n\t\t\t// Set or update the preferred skin tone\n\t\t\t//\n\t\t\t {\n\t\t\t\tasync function updatePreferredSkinTone() {\n\t\t\t\t\tif (databaseLoaded) {\n\t\t\t\t\t\t$$invalidate(14, currentSkinTone = await database.getPreferredSkinTone());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* no await */\n\t\t\t\tupdatePreferredSkinTone();\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[1] & /*skinToneEmoji*/ 2048) {\n\t\t\t $$invalidate(19, skinTones = Array(NUM_SKIN_TONES).fill().map((_, i) => applySkinTone(skinToneEmoji, i)));\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*skinTones, currentSkinTone*/ 540672) {\n\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t $$invalidate(16, skinToneButtonText = skinTones[currentSkinTone]);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*i18n, currentSkinTone*/ 16385) {\n\t\t\t $$invalidate(18, skinToneButtonLabel = i18n.skinToneLabel.replace(\"{skinTone}\", i18n.skinTones[currentSkinTone]));\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded*/ 16777216 | $$self.$$.dirty[1] & /*database*/ 1024) {\n\t\t\t/* eslint-enable no-unused-vars */\n\t\t\t//\n\t\t\t// Set or update the favorites emojis\n\t\t\t//\n\t\t\t {\n\t\t\t\tasync function updateDefaultFavoriteEmojis() {\n\t\t\t\t\t$$invalidate(54, defaultFavoriteEmojis = (await Promise.all(MOST_COMMONLY_USED_EMOJI.map(unicode => database.getEmojiByUnicodeOrName(unicode)))).filter(Boolean)); // filter because in Jest tests we don't have all the emoji in the DB\n\t\t\t\t}\n\n\t\t\t\tif (databaseLoaded) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\tupdateDefaultFavoriteEmojis();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded*/ 16777216 | $$self.$$.dirty[1] & /*database, numColumns, defaultFavoriteEmojis*/ 25166848) {\n\t\t\t {\n\t\t\t\tasync function updateFavorites() {\n\t\t\t\t\tconst dbFavorites = await database.getTopFavoriteEmoji(numColumns);\n\t\t\t\t\tconst favorites = await summarizeEmojis(uniqBy([...dbFavorites, ...defaultFavoriteEmojis], _ => _.unicode || _.name).slice(0, numColumns));\n\t\t\t\t\t$$invalidate(20, currentFavorites = favorites);\n\t\t\t\t}\n\n\t\t\t\tif (databaseLoaded && defaultFavoriteEmojis) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\tupdateFavorites();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[1] & /*currentGroupIndex, computedIndicatorWidth*/ 37748736) {\n\t\t\t// TODO: Chrome has an unfortunate bug where we can't use a simple percent-based transform\n\t\t\t// here, becuause it's janky. You can especially see this on a Nexus 5.\n\t\t\t// So we calculate of the indicator and use exact pixel values in the animation instead\n\t\t\t// (where ResizeObserver is supported).\n\t\t\t {\n\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\t$$invalidate(10, indicatorStyle = `transform: translateX(${resizeObserverSupported\n\t\t\t\t? `${currentGroupIndex * computedIndicatorWidth}px`\n\t\t\t\t: `${currentGroupIndex * 100}%`})`); // exact pixels\n\t\t\t\t// fallback to percent-based\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*currentEmojis*/ 2) {\n\t\t\t// Some emojis have their ligatures rendered as two or more consecutive emojis\n\t\t\t// We want to treat these the same as unsupported emojis, so we compare their\n\t\t\t// widths against the baseline widths and remove them as necessary\n\t\t\t {\n\t\t\t\tconst zwjEmojisToCheck = currentEmojis.filter(emoji => emoji.unicode).filter(emoji => hasZwj(emoji) && !supportedZwjEmojis.has(emoji.unicode)); // filter custom emoji\n\n\t\t\t\tif (zwjEmojisToCheck.length) {\n\t\t\t\t\t// render now, check their length later\n\t\t\t\t\trAF(() => checkZwjSupportAndUpdate(zwjEmojisToCheck));\n\t\t\t\t} else {\n\t\t\t\t\t$$invalidate(1, currentEmojis = currentEmojis.filter(isZwjSupported));\n\n\t\t\t\t\trAF(() => {\n\t\t\t\t\t\t// reset scroll top to 0 when emojis change\n\t\t\t\t\t\t$$invalidate(6, tabpanelElement.scrollTop = 0, tabpanelElement);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*currentEmojis, currentFavorites*/ 1048578 | $$self.$$.dirty[1] & /*initialLoad*/ 1048576) {\n\t\t\t {\n\t\t\t\t// consider initialLoad to be complete when the first tabpanel and favorites are rendered\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tif (\"production\" !== \"production\" || false) {\n\t\t\t\t\tif (currentEmojis.length && currentFavorites.length && initialLoad) {\n\t\t\t\t\t\t$$invalidate(51, initialLoad = false);\n\t\t\t\t\t\trequestPostAnimationFrame(() => stop());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*searchMode, currentEmojis*/ 130 | $$self.$$.dirty[1] & /*customCategorySorting*/ 8192) {\n\t\t\t//\n\t\t\t// Derive currentEmojisWithCategories from currentEmojis. This is always done even if there\n\t\t\t// are no categories, because it's just easier to code the HTML this way.\n\t\t\t//\n\t\t\t {\n\t\t\t\tfunction calculateCurrentEmojisWithCategories() {\n\t\t\t\t\tif (searchMode) {\n\t\t\t\t\t\treturn [{ category: \"\", emojis: currentEmojis }];\n\t\t\t\t\t}\n\n\t\t\t\t\tconst categoriesToEmoji = new Map();\n\n\t\t\t\t\tfor (const emoji of currentEmojis) {\n\t\t\t\t\t\tconst category = emoji.category || \"\";\n\t\t\t\t\t\tlet emojis = categoriesToEmoji.get(category);\n\n\t\t\t\t\t\tif (!emojis) {\n\t\t\t\t\t\t\temojis = [];\n\t\t\t\t\t\t\tcategoriesToEmoji.set(category, emojis);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\temojis.push(emoji);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [...categoriesToEmoji.entries()].map(([category, emojis]) => ({ category, emojis })).sort((a, b) => customCategorySorting(a.category, b.category));\n\t\t\t\t}\n\n\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\t$$invalidate(2, currentEmojisWithCategories = calculateCurrentEmojisWithCategories());\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*activeSearchItem, currentEmojis*/ 258) {\n\t\t\t//\n\t\t\t// Handle active search item (i.e. pressing up or down while searching)\n\t\t\t//\n\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t $$invalidate(25, activeSearchItemId = activeSearchItem !== -1 && currentEmojis[activeSearchItem].id);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*skinTonePickerExpanded, skinToneDropdown*/ 10240) {\n\t\t\t// To make the animation nicer, change the z-index of the skintone picker button\n\t\t\t// *after* the animation has played. This makes it appear that the picker box\n\t\t\t// is expanding \"below\" the button\n\t\t\t {\n\t\t\t\tif (skinTonePickerExpanded) {\n\t\t\t\t\tskinToneDropdown.addEventListener(\n\t\t\t\t\t\t\"transitionend\",\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t$$invalidate(12, skinTonePickerExpandedAfterAnimation = true); // eslint-disable-line no-unused-vars\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ once: true }\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t$$invalidate(12, skinTonePickerExpandedAfterAnimation = false); // eslint-disable-line no-unused-vars\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\ti18n,\n\t\tcurrentEmojis,\n\t\tcurrentEmojisWithCategories,\n\t\trawSearchText,\n\t\trootElement,\n\t\tbaselineEmoji,\n\t\ttabpanelElement,\n\t\tsearchMode,\n\t\tactiveSearchItem,\n\t\tmessage,\n\t\tindicatorStyle,\n\t\tskinTonePickerExpanded,\n\t\tskinTonePickerExpandedAfterAnimation,\n\t\tskinToneDropdown,\n\t\tcurrentSkinTone,\n\t\tactiveSkinTone,\n\t\tskinToneButtonText,\n\t\tpickerStyle,\n\t\tskinToneButtonLabel,\n\t\tskinTones,\n\t\tcurrentFavorites,\n\t\tscrollbarWidth,\n\t\tgroups$1,\n\t\tcurrentGroup,\n\t\tdatabaseLoaded,\n\t\tactiveSearchItemId,\n\t\tunicodeWithSkin,\n\t\tlabelWithSkin,\n\t\tcalculateEmojiGridWidth,\n\t\tcalculateIndicatorWidth,\n\t\tonSearchKeydown,\n\t\tonNavClick,\n\t\tonNavKeydown,\n\t\tonEmojiClick,\n\t\tonSkinToneOptionsClick,\n\t\tonClickSkinToneButton,\n\t\tonSkinToneOptionsKeydown,\n\t\tonSkinToneOptionsKeyup,\n\t\tonSkinToneOptionsFocusOut,\n\t\tlocale,\n\t\tdataSource,\n\t\tdatabase,\n\t\tskinToneEmoji,\n\t\tcustomEmoji,\n\t\tcustomCategorySorting,\n\t\tinput_input_handler,\n\t\tdiv3_binding,\n\t\tclick_handler,\n\t\tdiv9_binding,\n\t\tbutton1_binding,\n\t\tsection_binding\n\t];\n}\n\nclass Picker extends SvelteElement {\n\tconstructor(options) {\n\t\tsuper();\n\t\tthis.shadowRoot.innerHTML = `<style>:host{--emoji-padding:0.5rem;--emoji-size:1.375rem;--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555;--button-hover-background:#484848}@media(prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555;--button-hover-background:#484848}}button{margin:0;padding:0;border:none;background:none;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:none}:focus:not(:focus-visible){outline:none}.hide-focus{outline:none}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + 2*var(--emoji-padding))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;right:0;top:0;z-index:2;overflow:visible;background:var(--background);border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media(prefers-reduced-motion:reduce){.skintone-list{transition-duration:1ms}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--font-family);cursor:pointer}@media(hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{height:var(--total-emoji-size);width:var(--total-emoji-size);padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:50%;background-size:var(--emoji-size) var(--emoji-size)}.nav{display:grid;justify-content:space-between;contain:content}.nav,.nav-button{align-items:center}.nav-button{display:flex;justify-content:center}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media(prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top{width:100%;height:var(--emoji-padding);z-index:3;background:var(--background)}.search-row{display:flex;align-items:center;position:relative;padding-left:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);background:var(--background);color:var(--input-font-color);width:100%;font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}</style>`;\n\n\t\tinit(\n\t\t\tthis,\n\t\t\t{ target: this.shadowRoot },\n\t\t\tinstance,\n\t\t\tcreate_fragment,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tlocale: 39,\n\t\t\t\tdataSource: 40,\n\t\t\t\tskinToneEmoji: 42,\n\t\t\t\ti18n: 0,\n\t\t\t\tdatabase: 41,\n\t\t\t\tcustomEmoji: 43,\n\t\t\t\tcustomCategorySorting: 44\n\t\t\t},\n\t\t\t[-1, -1, -1]\n\t\t);\n\n\t\tif (options) {\n\t\t\tif (options.target) {\n\t\t\t\tinsert(options.target, this, options.anchor);\n\t\t\t}\n\n\t\t\tif (options.props) {\n\t\t\t\tthis.$set(options.props);\n\t\t\t\tflush();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic get observedAttributes() {\n\t\treturn [\n\t\t\t\"locale\",\n\t\t\t\"dataSource\",\n\t\t\t\"skinToneEmoji\",\n\t\t\t\"i18n\",\n\t\t\t\"database\",\n\t\t\t\"customEmoji\",\n\t\t\t\"customCategorySorting\"\n\t\t];\n\t}\n\n\tget locale() {\n\t\treturn this.$$.ctx[39];\n\t}\n\n\tset locale(locale) {\n\t\tthis.$set({ locale });\n\t\tflush();\n\t}\n\n\tget dataSource() {\n\t\treturn this.$$.ctx[40];\n\t}\n\n\tset dataSource(dataSource) {\n\t\tthis.$set({ dataSource });\n\t\tflush();\n\t}\n\n\tget skinToneEmoji() {\n\t\treturn this.$$.ctx[42];\n\t}\n\n\tset skinToneEmoji(skinToneEmoji) {\n\t\tthis.$set({ skinToneEmoji });\n\t\tflush();\n\t}\n\n\tget i18n() {\n\t\treturn this.$$.ctx[0];\n\t}\n\n\tset i18n(i18n) {\n\t\tthis.$set({ i18n });\n\t\tflush();\n\t}\n\n\tget database() {\n\t\treturn this.$$.ctx[41];\n\t}\n\n\tset database(database) {\n\t\tthis.$set({ database });\n\t\tflush();\n\t}\n\n\tget customEmoji() {\n\t\treturn this.$$.ctx[43];\n\t}\n\n\tset customEmoji(customEmoji) {\n\t\tthis.$set({ customEmoji });\n\t\tflush();\n\t}\n\n\tget customCategorySorting() {\n\t\treturn this.$$.ctx[44];\n\t}\n\n\tset customCategorySorting(customCategorySorting) {\n\t\tthis.$set({ customCategorySorting });\n\t\tflush();\n\t}\n}\n\nclass Picker$1 extends Picker {\n  constructor (props) {\n    // Make the API simpler, directly pass in the props\n    super({ props });\n  }\n\n  disconnectedCallback () {\n    this.$destroy();\n  }\n\n  static get observedAttributes () {\n    return ['locale', 'data-source', 'skin-tone-emoji'] // complex objects aren't supported, also use kebab-case\n  }\n\n  // via https://github.com/sveltejs/svelte/issues/3852#issuecomment-665037015\n  attributeChangedCallback (attrName, oldValue, newValue) {\n    super.attributeChangedCallback(\n      attrName.replace(/-([a-z])/g, (_, up) => up.toUpperCase()),\n      oldValue,\n      newValue\n    );\n  }\n}\n\ncustomElements.define('emoji-picker', Picker$1);\n\nexport default Picker$1;\n"],"sourceRoot":""}