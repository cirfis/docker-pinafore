(this.webpackChunkpinafore=this.webpackChunkpinafore||[]).push([[4826],{3512:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(4178),r=a(372);function i(){setTimeout((()=>{this.set({shown:!0})}),700)}function o(e){var t,a,o,s,l,h;if((0,n.S1)(this,e),this._state=(0,n.f0)({shown:!1},e.data),this._intro=!0,document.getElementById("svelte-10e8c6q-style")||((t=(0,n.az)("style")).id="svelte-10e8c6q-style",t.textContent=".loading-page.svelte-10e8c6q{position:absolute;top:0;left:0;right:0;height:150px;display:flex;align-items:center;justify-content:center;z-index:50;transition:opacity 0.25s linear}",(0,n.R3)(document.head,t)),this._fragment=(a=this,o=this._state,h=new r.Z({root:a.root,store:a.store}),{c(){s=(0,n.az)("div"),h._fragment.c(),this.h()},l(e){s=(0,n.d$)(e,"DIV",{class:!0},!1);var t=(0,n.pI)(s);h._fragment.l(t),t.forEach(n.r2),this.h()},h(){s.className=l="loading-page "+(o.shown?"":"hidden")+" svelte-10e8c6q"},m(e,t){(0,n.$T)(e,s,t),h._mount(s,null)},p(e,t){e.shown&&l!==(l="loading-page "+(t.shown?"":"hidden")+" svelte-10e8c6q")&&(s.className=l)},d(e){e&&(0,n.r2)(s),h.destroy()}}),this.root._oncreate.push((()=>{i.call(this),this.fire("update",{changed:(0,n.lZ)({},this._state),current:this._state})})),e.target){var d=(0,n.pI)(e.target);e.hydrate?this._fragment.l(d):this._fragment.c(),d.forEach(n.r2),this._mount(e.target,e.anchor),(0,n.yl)(this)}}(0,n.f0)(o.prototype,n.uS);const s=o},5710:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var n=a(4178),r=a(2905),i=a(1382),o=a(4207),s=a(8836),l=a(2311);function h(e){var t,a,r,i,h,d,m,c,g,f,u,p,_,v,y,I,w;if((0,n.S1)(this,e),this._state=(0,n.f0)({},e.data),this._intro=!0,document.getElementById("svelte-10yaha1-style")||((t=(0,n.az)("style")).id="svelte-10yaha1-style",t.textContent=".not-logged-in-home.svelte-10yaha1{margin:10px}.not-logged-in-home.svelte-10yaha1 .banner.svelte-10yaha1{display:flex;align-items:center;margin:0 0 30px}.not-logged-in-home-svg{width:70px;height:70px;fill:var(--banner-fill);display:inline-block}.not-logged-in-home.svelte-10yaha1 h1.svelte-10yaha1{color:var(--banner-fill);display:inline-block;font-size:3em;margin:auto 15px}@media(max-width: 767px){.not-logged-in-home.svelte-10yaha1 h1.svelte-10yaha1{font-size:2.7em}}@media(max-width: 240px){.not-logged-in-home.svelte-10yaha1 h1.svelte-10yaha1{font-size:2.5em}}",(0,n.R3)(document.head,t)),this._fragment=(a=this,this._state,y=new l.Z({root:a.root,store:a.store,data:{className:"not-logged-in-home-svg",href:"#pinafore-logo"}}),I=new o.Z({root:a.root,store:a.store,slots:{default:(0,n.xJ)()}}),w=new s.Z({root:a.root,store:a.store,slots:{default:(0,n.xJ)()}}),{c(){r=(0,n.az)("div"),i=(0,n.az)("div"),y._fragment.c(),h=(0,n.rw)("\n        "),d=(0,n.az)("h1"),m=(0,n.rw)("Pinafore"),c=(0,n.rw)("\n      "),g=(0,n.az)("div"),f=(0,n.az)("noscript"),u=(0,n.rw)("\n        "),p=(0,n.az)("p"),_=(0,n.az)("a"),v=(0,n.rw)("Log in"),I._fragment.c(),w._fragment.c(),this.h()},l(e){r=(0,n.d$)(e,"DIV",{class:!0},!1);var t=(0,n.pI)(r);i=(0,n.d$)(t,"DIV",{class:!0},!1);var a=(0,n.pI)(i);y._fragment.l(a),h=(0,n.M4)(a,"\n        "),d=(0,n.d$)(a,"H1",{class:!0},!1);var o=(0,n.pI)(d);m=(0,n.M4)(o,"Pinafore"),o.forEach(n.r2),a.forEach(n.r2),c=(0,n.M4)(t,"\n      "),g=(0,n.d$)(t,"DIV",{},!1);var s=(0,n.pI)(g);f=(0,n.az)("noscript"),u=(0,n.M4)(s,"\n        "),p=(0,n.d$)(s,"P",{style:!0},!1);var l=(0,n.pI)(p);_=(0,n.d$)(l,"A",{class:!0,rel:!0,href:!0},!1);var z=(0,n.pI)(_);v=(0,n.M4)(z,"Log in"),z.forEach(n.r2),l.forEach(n.r2),s.forEach(n.r2),t.forEach(n.r2),I._fragment.l(e),w._fragment.l(e),this.h()},h(){d.className="svelte-10yaha1",i.className="banner svelte-10yaha1",_.className="button primary",_.rel="prefetch",_.href="/settings/instances/add",(0,n.A_)(p,"text-align","right"),r.className="not-logged-in-home svelte-10yaha1"},m(e,t){(0,n.R3)(I._slotted.default,r),(0,n.R3)(r,i),y._mount(i,null),(0,n.R3)(i,h),(0,n.R3)(i,d),(0,n.R3)(d,m),(0,n.R3)(r,c),(0,n.R3)(r,g),(0,n.R3)(g,f),f.insertAdjacentHTML("beforebegin",'<p> Pinafore is a web client for <a rel="noopener" target="_blank" href="https://joinmastodon.org">Mastodon</a>, designed for speed and simplicity. </p> <p> Read the <a rel="noopener" target="_blank" href="https://nolanlawson.com/2018/04/09/introducing-pinafore-for-mastodon/">introductory blog post</a>, or get started by logging in to an instance: </p>'),(0,n.R3)(g,u),(0,n.R3)(g,p),(0,n.R3)(p,_),(0,n.R3)(_,v),I._mount(w._slotted.default,null),w._mount(e,t)},p:n.ZT,d(e){y.destroy(),I.destroy(),w.destroy(e)}}),e.target){var z=(0,n.pI)(e.target);e.hydrate?this._fragment.l(z):this._fragment.c(),z.forEach(n.r2),this._mount(e.target,e.anchor),(0,n.yl)(this)}}(0,n.f0)(h.prototype,n.uS);const d=h;var m=a(2936),c=a(8863),g=a(3512);var f=a(3836);async function u(){const[e]=await Promise.all([Promise.all([a.e(8322),a.e(9921),a.e(1632),a.e(2392),a.e(5451),a.e(2943),a.e(4736),a.e(6905),a.e(6077)]).then(a.bind(a,6905)).then((e=>e.default)),(0,f.L)()]);this.set({composeBox:e})}function p(e,t){var a,r=t.composeBox;function i(t){var a={realm:t.realm,hidden:t.hidden};return{root:e.root,store:e.store,data:a}}if(r)var o=new r(i(t));return{c(){o&&o._fragment.c(),a=(0,n.Yr)()},l(e){o&&o._fragment.l(e),a=(0,n.Yr)()},m(e,t){o&&o._mount(e,t),(0,n.$T)(e,a,t)},p(e,t){var n={};e.realm&&(n.realm=t.realm),e.hidden&&(n.hidden=t.hidden),r!==(r=t.composeBox)?(o&&o.destroy(),r?((o=new r(i(t)))._fragment.c(),o._mount(a.parentNode,a)):o=null):r&&o._set(n)},d(e){e&&(0,n.r2)(a),o&&o.destroy(e)}}}function _(e){var t,a,r,i;if((0,n.S1)(this,e),this._state=(0,n.f0)({composeBox:void 0},e.data),this._intro=!0,this._fragment=(t=this,a=this._state,i=a.composeBox&&p(t,a),{c(){i&&i.c(),r=(0,n.Yr)()},l(e){i&&i.l(e),r=(0,n.Yr)()},m(e,t){i&&i.m(e,t),(0,n.$T)(e,r,t)},p(e,a){a.composeBox?i?i.p(e,a):((i=p(t,a)).c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(e){i&&i.d(e),e&&(0,n.r2)(r)}}),this.root._oncreate.push((()=>{u.call(this),this.fire("update",{changed:(0,n.lZ)({},this._state),current:this._state})})),e.target){var o=(0,n.pI)(e.target);e.hydrate?this._fragment.l(o):this._fragment.c(),o.forEach(n.r2),this._mount(e.target,e.anchor),(0,n.yl)(this)}}(0,n.f0)(_.prototype,n.uS);const v=_;function y(){this.store.set({timelineInitialized:!1,timelinePreinitialized:!1})}function I(e,t){var a=new g.Z({root:e.root,store:e.store});return{c(){a._fragment.c()},l(e){a._fragment.l(e)},m(e,t){a._mount(e,t)},d(e){a.destroy(e)}}}function w(e,t){var a=new g.Z({root:e.root,store:e.store});return{c(){a._fragment.c()},l(e){a._fragment.l(e)},m(e,t){a._mount(e,t)},d(e){a.destroy(e)}}}function z(e){var t,a,r,i,o,s,l,h,d,g,f,u,p,_,z;if((0,n.S1)(this,e),this.store=m.h,this._state=(0,n.f0)(this.store._init(["timelineInitialized","timelinePreinitialized"]),e.data),this.store._add(this,["timelineInitialized","timelinePreinitialized"]),this._recompute({$timelineInitialized:1,$timelinePreinitialized:1},this._state),this._intro=!0,this._handlers.destroy=[n.iT],document.getElementById("svelte-65re5u-style")||((t=(0,n.az)("style")).id="svelte-65re5u-style",t.textContent=".timeline-home-page.svelte-65re5u,.timeline-home-anchor-container.svelte-65re5u{position:relative}.timeline-home-reveal-container.svelte-65re5u{transition:opacity 0.2s linear}",(0,n.R3)(document.head,t)),this._fragment=(a=this,r=this._state,f=r.hidePage&&I(a),u={realm:"home",hidden:r.hidePage},p=new v({root:a.root,store:a.store,data:u}),_=!r.hidePage&&r.hideTimeline&&w(a),z=new c.Z({root:a.root,store:a.store,data:{timeline:"home"}}),{c(){i=(0,n.az)("div"),f&&f.c(),o=(0,n.rw)("\n  "),p._fragment.c(),s=(0,n.rw)("\n  "),l=(0,n.az)("div"),_&&_.c(),h=(0,n.rw)("\n    "),d=(0,n.az)("div"),z._fragment.c(),this.h()},l(e){i=(0,n.d$)(e,"DIV",{class:!0,"aria-busy":!0},!1);var t=(0,n.pI)(i);f&&f.l(t),o=(0,n.M4)(t,"\n  "),p._fragment.l(t),s=(0,n.M4)(t,"\n  "),l=(0,n.d$)(t,"DIV",{class:!0},!1);var a=(0,n.pI)(l);_&&_.l(a),h=(0,n.M4)(a,"\n    "),d=(0,n.d$)(a,"DIV",{class:!0},!1);var r=(0,n.pI)(d);z._fragment.l(r),r.forEach(n.r2),a.forEach(n.r2),t.forEach(n.r2),this.h()},h(){d.className=g="timeline-home-reveal-container "+(r.hideTimeline?"hidden":"")+" svelte-65re5u",l.className="timeline-home-anchor-container svelte-65re5u",i.className="timeline-home-page svelte-65re5u",(0,n.P$)(i,"aria-busy",r.hideTimeline)},m(e,t){(0,n.$T)(e,i,t),f&&f.m(i,null),(0,n.R3)(i,o),p._mount(i,null),(0,n.R3)(i,s),(0,n.R3)(i,l),_&&_.m(l,null),(0,n.R3)(l,h),(0,n.R3)(l,d),z._mount(d,null)},p(e,t){t.hidePage?f||((f=I(a)).c(),f.m(i,o)):f&&(f.d(1),f=null);var r={};e.hidePage&&(r.hidden=t.hidePage),p._set(r),!t.hidePage&&t.hideTimeline?_||((_=w(a)).c(),_.m(l,h)):_&&(_.d(1),_=null),e.hideTimeline&&g!==(g="timeline-home-reveal-container "+(t.hideTimeline?"hidden":"")+" svelte-65re5u")&&(d.className=g),e.hideTimeline&&(0,n.P$)(i,"aria-busy",t.hideTimeline)},d(e){e&&(0,n.r2)(i),f&&f.d(),p.destroy(),_&&_.d(),z.destroy()}}),this.root._oncreate.push((()=>{y.call(this),this.fire("update",{changed:(0,n.lZ)({},this._state),current:this._state})})),e.target){var $=(0,n.pI)(e.target);e.hydrate?this._fragment.l($):this._fragment.c(),$.forEach(n.r2),this._mount(e.target,e.anchor),(0,n.yl)(this)}}(0,n.f0)(z.prototype,n.uS),z.prototype._recompute=function(e,t){(e.$timelineInitialized||e.$timelinePreinitialized)&&this._differs(t.hidePage,t.hidePage=function({$timelineInitialized:e,$timelinePreinitialized:t}){return!e&&!t}(t))&&(e.hidePage=!0),e.$timelineInitialized&&this._differs(t.hideTimeline,t.hideTimeline=function({$timelineInitialized:e}){return!e}(t))&&(e.hideTimeline=!0)};const $=z;var x=a(1372),P=a(8313);var T={observe:x.N7};async function b(){!function(){const e=new URLSearchParams(location.search),t=e.get("accessToken"),a=e.get("instanceName");if(!t||!a)return;const{loggedInInstances:n,loggedInInstancesInOrder:r}=m.h.get();n[a]={access_token:t},r.includes(a)||r.push(a),m.h.set({currentInstance:a,loggedInInstances:n,loggedInInstancesInOrder:r}),m.h.save(),(0,P.E9)("/")}()}function R(e,t){var a=new d({root:e.root,store:e.store});return{c(){a._fragment.c()},l(e){a._fragment.l(e)},m(e,t){a._mount(e,t)},d(e){a.destroy(e)}}}function E(e,t){var a=new $({root:e.root,store:e.store});return{c(){a._fragment.c()},l(e){a._fragment.l(e)},m(e,t){a._mount(e,t)},d(e){a.destroy(e)}}}function N(e){if((0,n.S1)(this,e),this.store=m.h,this._state=(0,n.f0)(this.store._init(["isUserLoggedIn"]),e.data),this.store._add(this,["isUserLoggedIn"]),this._intro=!0,this._handlers.destroy=[n.iT],this._fragment=function(e,t){var a;function r(e){return e.$isUserLoggedIn?E:R}var i=r(t),o=i(e,t);return{c(){o.c(),a=(0,n.Yr)()},l(e){o.l(e),a=(0,n.Yr)()},m(e,t){o.m(e,t),(0,n.$T)(e,a,t)},p(t,n){i!==(i=r(n))&&(o.d(1),(o=i(e,n)).c(),o.m(a.parentNode,a))},d(e){o.d(e),e&&(0,n.r2)(a)}}}(this,this._state),this.root._oncreate.push((()=>{b.call(this),this.fire("update",{changed:(0,n.lZ)({},this._state),current:this._state})})),e.target){var t=(0,n.pI)(e.target);e.hydrate?this._fragment.l(t):this._fragment.c(),t.forEach(n.r2),this._mount(e.target,e.anchor),(0,n.yl)(this)}}(0,n.f0)(N.prototype,n.uS),(0,n.f0)(N.prototype,T);const Z=N;function S(e){var t,a,o,s,l,h;if((0,n.S1)(this,e),this._state=(0,n.f0)({pageComponent:Z},e.data),this._intro=!0,this._fragment=(t=this,a=this._state,s=new r.Z({root:t.root,store:t.store,data:{name:"Home"}}),l={pageComponent:a.pageComponent,params:a.params},h=new i.Z({root:t.root,store:t.store,data:l}),{c(){s._fragment.c(),o=(0,n.rw)("\n\n  "),h._fragment.c()},l(e){s._fragment.l(e),o=(0,n.M4)(e,"\n\n  "),h._fragment.l(e)},m(e,t){s._mount(e,t),(0,n.$T)(e,o,t),h._mount(e,t)},p(e,t){var a={};e.pageComponent&&(a.pageComponent=t.pageComponent),e.params&&(a.params=t.params),h._set(a)},d(e){s.destroy(e),e&&(0,n.r2)(o),h.destroy(e)}}),e.target){var d=(0,n.pI)(e.target);e.hydrate?this._fragment.l(d):this._fragment.c(),d.forEach(n.r2),this._mount(e.target,e.anchor),(0,n.yl)(this)}}(0,n.f0)(S.prototype,n.uS);const C=S}}]);
//# sourceMappingURL=4826.5fc073f1d3f03208f591.index.js.map