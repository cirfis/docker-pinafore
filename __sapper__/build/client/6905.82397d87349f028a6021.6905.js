(this.webpackChunkpinafore=this.webpackChunkpinafore||[]).push([[6905],{324:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var o=s(4178),a=s(7569),i=s(2936),r=s(1372),n=s(6849),l=s(267);const c=(0,n.g)(requestAnimationFrame);var u={observe:r.N7};function d(){const{lengthAsFraction:e}=this.get();this.set({lengthAsFractionDeferred:e}),this.observe("lengthAsFraction",(()=>{c((()=>{(0,a.B)("set lengthAsFractionDeferred");const{lengthAsFraction:e}=this.get();this.set({lengthAsFractionDeferred:e}),(0,a.s)("set lengthAsFractionDeferred"),requestAnimationFrame((()=>this.set({shouldAnimate:!0})))}))}),{init:!1})}function h(e){var t,s,a;if((0,o.S1)(this,e),this.store=i.h,this._state=(0,o.f0)((0,o.f0)(this.store._init(["reduceMotion"]),{shouldAnimate:!1,lengthAsFractionDeferred:0,style:""}),e.data),this.store._add(this,["reduceMotion"]),this._recompute({length:1,max:1,shouldAnimate:1,overLimit:1,$reduceMotion:1,style:1,lengthAsFractionDeferred:1},this._state),this._intro=!0,this._handlers.destroy=[o.iT],document.getElementById("svelte-18bfu03-style")||((t=(0,o.az)("style")).id="svelte-18bfu03-style",t.textContent=".length-gauge.svelte-18bfu03{height:2px;background:var(--main-theme-color);transform-origin:left}.length-gauge.should-animate.svelte-18bfu03{transition:transform 0.2s linear}.length-gauge.over-char-limit.svelte-18bfu03{background:var(--warning-color)}",(0,o.R3)(document.head,t)),this._fragment=(s=this._state,{c(){a=(0,o.az)("div"),this.h()},l(e){a=(0,o.d$)(e,"DIV",{class:!0,style:!0,"aria-hidden":!0},!1),(0,o.pI)(a).forEach(o.r2),this.h()},h(){a.className=s.computedClass+" svelte-18bfu03",a.style.cssText=s.computedStyle,(0,o.P$)(a,"aria-hidden","true")},m(e,t){(0,o.$T)(e,a,t)},p(e,t){e.computedClass&&(a.className=t.computedClass+" svelte-18bfu03"),e.computedStyle&&(a.style.cssText=t.computedStyle)},d(e){e&&(0,o.r2)(a)}}),this.root._oncreate.push((()=>{d.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),e.target){var r=(0,o.pI)(e.target);e.hydrate?this._fragment.l(r):this._fragment.c(),r.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(h.prototype,o.uS),(0,o.f0)(h.prototype,u),h.prototype._recompute=function(e,t){(e.length||e.max)&&this._differs(t.lengthAsFraction,t.lengthAsFraction=function({length:e,max:t}){const s=Math.round(Math.min(t,e)/t*100);return(s-s%2)/100}(t))&&(e.lengthAsFraction=!0),(e.shouldAnimate||e.overLimit||e.$reduceMotion)&&this._differs(t.computedClass,t.computedClass=function({shouldAnimate:e,overLimit:t,$reduceMotion:s}){return(0,l.q)("length-gauge",!s&&e&&"should-animate",t&&"over-char-limit")}(t))&&(e.computedClass=!0),(e.style||e.lengthAsFractionDeferred)&&this._differs(t.computedStyle,t.computedStyle=function({style:e,lengthAsFractionDeferred:t}){return`transform: scaleX(${t}); ${e}`}(t))&&(e.computedStyle=!0)};const m=h},48:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var o=s(4178),a=s(7569),i=s(2936),r=s(1372),n=s(6849),l=s(7265);const c=(0,n.g)(requestAnimationFrame);var u={observe:r.N7};function d(){const{lengthToDisplay:e}=this.get();this.set({lengthToDisplayDeferred:e}),this.observe("lengthToDisplay",(()=>{c((()=>{(0,a.B)("set lengthToDisplayDeferred");const{lengthToDisplay:e}=this.get();this.set({lengthToDisplayDeferred:e}),(0,a.s)("set lengthToDisplayDeferred")}))}),{init:!1})}function h(e){var t,s,a,r,n;if((0,o.S1)(this,e),this.store=i.h,this._state=(0,o.f0)({lengthToDisplayDeferred:0,style:""},e.data),this._recompute({length:1,max:1,overLimit:1,lengthToDisplayDeferred:1},this._state),this._intro=!0,document.getElementById("svelte-rucd90-style")||((t=(0,o.az)("style")).id="svelte-rucd90-style",t.textContent=".length-indicator.svelte-rucd90{color:var(--length-indicator-color);font-size:1.3em}.length-indicator.over-char-limit.svelte-rucd90{color:var(--warning-color)}",(0,o.R3)(document.head,t)),this._fragment=(s=this._state,{c(){a=(0,o.az)("span"),r=(0,o.rw)(s.lengthToDisplayDeferred),this.h()},l(e){a=(0,o.d$)(e,"SPAN",{class:!0,"aria-label":!0,style:!0},!1);var t=(0,o.pI)(a);r=(0,o.M4)(t,s.lengthToDisplayDeferred),t.forEach(o.r2),this.h()},h(){a.className=n="length-indicator "+(s.overLimit?"over-char-limit":"")+" svelte-rucd90",(0,o.P$)(a,"aria-label",s.lengthLabel),a.style.cssText=s.style},m(e,t){(0,o.$T)(e,a,t),(0,o.R3)(a,r)},p(e,t){e.lengthToDisplayDeferred&&(0,o.a_)(r,t.lengthToDisplayDeferred),e.overLimit&&n!==(n="length-indicator "+(t.overLimit?"over-char-limit":"")+" svelte-rucd90")&&(a.className=n),e.lengthLabel&&(0,o.P$)(a,"aria-label",t.lengthLabel),e.style&&(a.style.cssText=t.style)},d(e){e&&(0,o.r2)(a)}}),this.root._oncreate.push((()=>{d.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),e.target){var l=(0,o.pI)(e.target);e.hydrate?this._fragment.l(l):this._fragment.c(),l.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(h.prototype,o.uS),(0,o.f0)(h.prototype,u),h.prototype._recompute=function(e,t){(e.length||e.max)&&this._differs(t.lengthToDisplay,t.lengthToDisplay=function({length:e,max:t}){return t-e}(t))&&(e.lengthToDisplay=!0),(e.overLimit||e.lengthToDisplayDeferred)&&this._differs(t.lengthLabel,t.lengthLabel=function({overLimit:e,lengthToDisplayDeferred:t}){return e?(0,l.A)([["count"]," ",["count","plural",0,{"=1":["character"],other:["characters"]}]," over limit"],{count:-t}):(0,l.A)([["count"]," ",["count","plural",0,{"=1":["character"],other:["characters"]}]," remaining"],{count:t})}(t))&&(e.lengthLabel=!0)};const m=h},6905:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Nt});var o=s(4178),a=s(4644),i=s(2936);var r=s(6877);var n=s(4988);var l=s(1312),c=s(7265);var u={async onEmojiClick(){const{realm:e}=this.get(),{currentInstance:t}=this.store.get(),[o]=await Promise.all([Promise.all([s.e(398),s.e(3319),s.e(7500),s.e(7608),s.e(7901)]).then(s.bind(s,7901)).then((e=>e.default)),(0,l.Mj)(t)]);o(e)},onMediaClick(){this.refs.input.click()},async onFileChange(e){const{files:t}=e.target,{realm:s}=this.get();for(const o of t)await(0,r.m)(s,o)},async onPostPrivacyClick(){const{realm:e}=this.get();(await Promise.all([s.e(7500),s.e(7608),s.e(9379),s.e(3362)]).then(s.bind(s,3362)).then((e=>e.default)))(e)},onContentWarningClick(){const{realm:e}=this.get();!function(e){const t=i.h.getComposeData(e,"contentWarningShown"),s=i.h.getComposeData(e,"contentWarning"),o=!t;i.h.setComposeData(e,{contentWarning:o?s:"",contentWarningShown:o,sensitive:s&&o})}(e)},onPollClick(){const{poll:e,realm:t}=this.get();e&&e.options&&e.options.length?function(e){i.h.setComposeData(e,{poll:null})}(t):function(e){i.h.setComposeData(e,{poll:{options:["",""]}})}(t)}};function d(e){var t;if((0,o.S1)(this,e),this.store=i.h,this.refs={},this._state=(0,o.f0)((0,o.f0)(this.store._init(["uploadingMedia"]),{mediaAccept:n.ZG}),e.data),this.store._add(this,["uploadingMedia"]),this._recompute({postPrivacy:1},this._state),this._intro=!0,this._handlers.destroy=[o.iT],document.getElementById("svelte-1r2xfng-style")||((t=(0,o.az)("style")).id="svelte-1r2xfng-style",t.textContent=".compose-box-toolbar.svelte-1r2xfng{grid-area:toolbar;align-self:center}.compose-box-toolbar-items.svelte-1r2xfng{display:flex;align-items:center}@media(max-width: 320px){button.icon-button.compose-toolbar-button{padding-left:5px;padding-right:5px}}@media(max-width: 240px){button.icon-button.compose-toolbar-button .icon-button-svg{width:20px;height:20px}}",(0,o.R3)(document.head,t)),this._fragment=function(e,t){var s,i,r,n,l,c,u,d,h=new a.Z({root:e.root,store:e.store,data:{className:"compose-toolbar-button",label:"Insert emoji",href:"#fa-smile"}});h.on("click",(function(t){e.onEmojiClick()}));var m={className:"compose-toolbar-button",svgClassName:t.$uploadingMedia?"spin":"",label:"Add media (images, video, audio)",href:t.$uploadingMedia?"#fa-spinner":"#fa-camera",disabled:t.$uploadingMedia||4===t.media.length},p=new a.Z({root:e.root,store:e.store,data:m});p.on("click",(function(t){e.onMediaClick()}));var g={className:"compose-toolbar-button",label:"Add poll",pressedLabel:"Remove poll",href:"#fa-bar-chart",pressable:!0,pressed:t.poll&&t.poll.options&&t.poll.options.length},f=new a.Z({root:e.root,store:e.store,data:g});f.on("click",(function(t){e.onPollClick()}));var v={className:"compose-toolbar-button",label:t.postPrivacyLabel,href:t.postPrivacy.icon},y=new a.Z({root:e.root,store:e.store,data:v});y.on("click",(function(t){e.onPostPrivacyClick()}));var b={className:"compose-toolbar-button",label:"Add content warning",pressedLabel:"Remove content warning",href:"#fa-exclamation-triangle",pressable:!0,pressed:t.contentWarningShown},x=new a.Z({root:e.root,store:e.store,data:b});function _(t){e.onFileChange(t)}return x.on("click",(function(t){e.onContentWarningClick()})),{c(){s=(0,o.az)("div"),i=(0,o.az)("div"),h._fragment.c(),r=(0,o.rw)("\n    "),p._fragment.c(),n=(0,o.rw)("\n    "),f._fragment.c(),l=(0,o.rw)("\n    "),y._fragment.c(),c=(0,o.rw)("\n    "),x._fragment.c(),u=(0,o.rw)("\n  "),d=(0,o.az)("input"),this.h()},l(e){s=(0,o.d$)(e,"DIV",{class:!0},!1);var t=(0,o.pI)(s);i=(0,o.d$)(t,"DIV",{class:!0},!1);var a=(0,o.pI)(i);h._fragment.l(a),r=(0,o.M4)(a,"\n    "),p._fragment.l(a),n=(0,o.M4)(a,"\n    "),f._fragment.l(a),l=(0,o.M4)(a,"\n    "),y._fragment.l(a),c=(0,o.M4)(a,"\n    "),x._fragment.l(a),a.forEach(o.r2),u=(0,o.M4)(t,"\n  "),d=(0,o.d$)(t,"INPUT",{style:!0,type:!0,multiple:!0,accept:!0},!1),(0,o.pI)(d).forEach(o.r2),t.forEach(o.r2),this.h()},h(){i.className="compose-box-toolbar-items svelte-1r2xfng",(0,o.NH)(d,"change",_),(0,o.A_)(d,"display","none"),(0,o.P$)(d,"type","file"),d.multiple=!0,d.accept=t.mediaAccept,s.className="compose-box-toolbar svelte-1r2xfng"},m(t,a){(0,o.$T)(t,s,a),(0,o.R3)(s,i),h._mount(i,null),(0,o.R3)(i,r),p._mount(i,null),(0,o.R3)(i,n),f._mount(i,null),(0,o.R3)(i,l),y._mount(i,null),(0,o.R3)(i,c),x._mount(i,null),(0,o.R3)(s,u),(0,o.R3)(s,d),e.refs.input=d},p(e,t){var s={};e.$uploadingMedia&&(s.svgClassName=t.$uploadingMedia?"spin":""),e.$uploadingMedia&&(s.href=t.$uploadingMedia?"#fa-spinner":"#fa-camera"),(e.$uploadingMedia||e.media)&&(s.disabled=t.$uploadingMedia||4===t.media.length),p._set(s);var o={};e.poll&&(o.pressed=t.poll&&t.poll.options&&t.poll.options.length),f._set(o);var a={};e.postPrivacyLabel&&(a.label=t.postPrivacyLabel),e.postPrivacy&&(a.href=t.postPrivacy.icon),y._set(a);var i={};e.contentWarningShown&&(i.pressed=t.contentWarningShown),x._set(i),e.mediaAccept&&(d.accept=t.mediaAccept)},d(t){t&&(0,o.r2)(s),h.destroy(),p.destroy(),f.destroy(),y.destroy(),x.destroy(),(0,o.ys)(d,"change",_),e.refs.input===d&&(e.refs.input=null)}}}(this,this._state),e.target){var s=(0,o.pI)(e.target);e.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(d.prototype,o.uS),(0,o.f0)(d.prototype,u),d.prototype._recompute=function(e,t){e.postPrivacy&&this._differs(t.postPrivacyLabel,t.postPrivacyLabel=function({postPrivacy:e}){return(0,c.A)(["Adjust privacy (currently ",["label"],")"],{label:e.label})}(t))&&(e.postPrivacyLabel=!0)};const h=d;var m=s(324);function p(e){var t,s,a,r;if((0,o.S1)(this,e),this.store=i.h,this._state=(0,o.f0)(this.store._init(["maxStatusChars"]),e.data),this.store._add(this,["maxStatusChars"]),this._intro=!0,this._handlers.destroy=[o.iT],this._fragment=(t=this,s=this._state,a={style:"grid-area: gauge; margin: 0 0 5px 5px;",length:s.length,overLimit:s.overLimit,max:s.$maxStatusChars},r=new m.Z({root:t.root,store:t.store,data:a}),{c(){r._fragment.c()},l(e){r._fragment.l(e)},m(e,t){r._mount(e,t)},p(e,t){var s={};e.length&&(s.length=t.length),e.overLimit&&(s.overLimit=t.overLimit),e.$maxStatusChars&&(s.max=t.$maxStatusChars),r._set(s)},d(e){r.destroy(e)}}),e.target){var n=(0,o.pI)(e.target);e.hydrate?this._fragment.l(n):this._fragment.c(),n.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(p.prototype,o.uS);const g=p;var f=s(48);function v(e){var t,s,a,r;if((0,o.S1)(this,e),this.store=i.h,this._state=(0,o.f0)(this.store._init(["maxStatusChars"]),e.data),this.store._add(this,["maxStatusChars"]),this._intro=!0,this._handlers.destroy=[o.iT],this._fragment=(t=this,s=this._state,a={length:s.length,overLimit:s.overLimit,max:s.$maxStatusChars,style:"grid-area: length; justify-self: right; align-self: center;"},r=new f.Z({root:t.root,store:t.store,data:a}),{c(){r._fragment.c()},l(e){r._fragment.l(e)},m(e,t){r._mount(e,t)},p(e,t){var s={};e.length&&(s.length=t.length),e.overLimit&&(s.overLimit=t.overLimit),e.$maxStatusChars&&(s.max=t.$maxStatusChars),r._set(s)},d(e){r.destroy(e)}}),e.target){var n=(0,o.pI)(e.target);e.hydrate?this._fragment.l(n):this._fragment.c(),n.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(v.prototype,o.uS);const y=v;var b=s(2322),x=s(9867),_=s(652),w=s(8313);var k={onClick(e){const{realm:t,dialogId:s,href:o}=this.get();"dialog"===t&&(e.preventDefault(),e.stopPropagation(),(0,_.j)("closeDialog",s),setTimeout((()=>{(0,w.E9)(o)})))}};function S(e){var t;if((0,o.S1)(this,e),this.store=i.h,this._state=(0,o.f0)(this.store._init(["currentVerifyCredentials","isVeryTinyMobileSize"]),e.data),this.store._add(this,["currentVerifyCredentials","isVeryTinyMobileSize"]),this._recompute({$currentVerifyCredentials:1,verifyCredentials:1,id:1,$isVeryTinyMobileSize:1},this._state),this._intro=!0,this._handlers.destroy=[o.iT],document.getElementById("svelte-12d3287-style")||((t=(0,o.az)("style")).id="svelte-12d3287-style",t.textContent=".compose-box-avatar.svelte-12d3287{grid-area:avatar;margin-right:15px}.compose-box-display-name.svelte-12d3287{color:var(--deemphasized-text-color);grid-area:name;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:1.1em;margin-left:5px;font-weight:600}.compose-box-display-name.svelte-12d3287,.compose-box-display-name.svelte-12d3287:hover,.compose-box-display-name.svelte-12d3287:visited{color:var(--body-text-color)}.compose-box-handle{grid-area:handle;color:var(--deemphasized-text-color);min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:1.1em;margin-left:5px}.not-loaded.svelte-12d3287{visibility:hidden}.loaded.svelte-12d3287{visibility:visible}@media(max-width: 767px){.compose-box-avatar.svelte-12d3287{margin-right:5px}}@media(max-width: 240px){.compose-box-avatar.svelte-12d3287{margin-right:0}}",(0,o.R3)(document.head,t)),this._fragment=function(e,t){var s,a,i,r,n,l,c,u,d,h,m,p="@"+t.verifyCredentials.acct,g={account:t.verifyCredentials,size:t.avatarSize},f=new b.Z({root:e.root,store:e.store,data:g});function v(t){e.onClick(t)}var y={account:t.verifyCredentials},_=new x.Z({root:e.root,store:e.store,data:y});function w(t){e.onClick(t)}return{c(){s=(0,o.az)("a"),f._fragment.c(),i=(0,o.rw)("\n"),r=(0,o.az)("a"),_._fragment.c(),c=(0,o.rw)("\n\n"),u=(0,o.az)("span"),d=(0,o.rw)(p),this.h()},l(e){s=(0,o.d$)(e,"A",{href:!0,rel:!0,class:!0,"aria-hidden":!0,tabindex:!0},!1);var t=(0,o.pI)(s);f._fragment.l(t),t.forEach(o.r2),i=(0,o.M4)(e,"\n"),r=(0,o.d$)(e,"A",{class:!0,href:!0,"aria-busy":!0,"aria-live":!0,rel:!0},!1);var a=(0,o.pI)(r);_._fragment.l(a),a.forEach(o.r2),c=(0,o.M4)(e,"\n\n"),u=(0,o.d$)(e,"SPAN",{class:!0,"aria-busy":!0,"aria-live":!0},!1);var n=(0,o.pI)(u);d=(0,o.M4)(n,p),n.forEach(o.r2),this.h()},h(){(0,o.NH)(s,"click",v),s.href=t.href,s.rel="prefetch",s.className=a="compose-box-avatar "+(t.loaded?"loaded":"not-loaded")+" svelte-12d3287",(0,o.P$)(s,"aria-hidden","true"),s.tabIndex="-1",(0,o.NH)(r,"click",w),r.className=n="compose-box-display-name "+(t.loaded?"loaded":"not-loaded")+" svelte-12d3287",r.href=t.href,(0,o.P$)(r,"aria-busy",l=!t.loaded),(0,o.P$)(r,"aria-live","off"),r.rel="prefetch",u.className=h="compose-box-handle "+(t.loaded?"loaded":"not-loaded")+" svelte-12d3287",(0,o.P$)(u,"aria-busy",m=!t.loaded),(0,o.P$)(u,"aria-live","off")},m(e,t){(0,o.$T)(e,s,t),f._mount(s,null),(0,o.$T)(e,i,t),(0,o.$T)(e,r,t),_._mount(r,null),(0,o.$T)(e,c,t),(0,o.$T)(e,u,t),(0,o.R3)(u,d)},p(e,t){var i={};e.verifyCredentials&&(i.account=t.verifyCredentials),e.avatarSize&&(i.size=t.avatarSize),f._set(i),e.href&&(s.href=t.href),e.loaded&&a!==(a="compose-box-avatar "+(t.loaded?"loaded":"not-loaded")+" svelte-12d3287")&&(s.className=a);var c={};e.verifyCredentials&&(c.account=t.verifyCredentials),_._set(c),e.loaded&&n!==(n="compose-box-display-name "+(t.loaded?"loaded":"not-loaded")+" svelte-12d3287")&&(r.className=n),e.href&&(r.href=t.href),e.loaded&&l!==(l=!t.loaded)&&(0,o.P$)(r,"aria-busy",l),e.verifyCredentials&&p!==(p="@"+t.verifyCredentials.acct)&&(0,o.a_)(d,p),e.loaded&&h!==(h="compose-box-handle "+(t.loaded?"loaded":"not-loaded")+" svelte-12d3287")&&(u.className=h),e.loaded&&m!==(m=!t.loaded)&&(0,o.P$)(u,"aria-busy",m)},d(e){e&&(0,o.r2)(s),f.destroy(),(0,o.ys)(s,"click",v),e&&((0,o.r2)(i),(0,o.r2)(r)),_.destroy(),(0,o.ys)(r,"click",w),e&&((0,o.r2)(c),(0,o.r2)(u))}}}(this,this._state),e.target){var s=(0,o.pI)(e.target);e.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(S.prototype,o.uS),(0,o.f0)(S.prototype,k),S.prototype._recompute=function(e,t){e.$currentVerifyCredentials&&(this._differs(t.loaded,t.loaded=function({$currentVerifyCredentials:e}){return!!e}(t))&&(e.loaded=!0),this._differs(t.verifyCredentials,t.verifyCredentials=function({$currentVerifyCredentials:e}){return e||{display_name:"",acct:"",avatar:n.Pf,avatar_static:n.Pf}}(t))&&(e.verifyCredentials=!0)),e.verifyCredentials&&this._differs(t.id,t.id=function({verifyCredentials:e}){return e&&e.id}(t))&&(e.id=!0),e.id&&this._differs(t.href,t.href=function({id:e}){return e?`/accounts/${e}`:"#"}(t))&&(e.href=!0),e.$isVeryTinyMobileSize&&this._differs(t.avatarSize,t.avatarSize=function({$isVeryTinyMobileSize:e}){return e?"extra-small":"small"}(t))&&(e.avatarSize=!0)};const $=S;var I=s(8875),z=s(2846),F=s(7569),D=s(1484);const T=e=>e.unicode?e.unicode:`:${e.shortcodes[0]}:`,C=e=>`#${e.name}`,E=e=>`@${e.acct}`;async function A(e,t,s,o){const{currentInstance:a}=i.h.get(),r=i.h.getComposeData(e,"text"),n=`${r.substring(0,s)}${t} ${r.substring(o)}`;i.h.setComposeData(e,{text:n}),i.h.setForAutosuggest(a,e,{autosuggestSearchResults:[]})}async function N(e,t){const{composeSelectionStart:s,autosuggestSearchText:o,autosuggestSelected:a,autosuggestSearchResults:r}=i.h.get(),n=r[a],l=s-o.length,c=s;await A(e,t(n),l,c)}function P(e){const{currentComposeRealm:t,composeSelectionStart:s,autosuggestSearchText:o}=i.h.get(),a=s-o.length,r=s;e.acct?async function(e,t,s,o){await A(e,E(t),s,o)}(t,e,a,r):e.shortcodes?async function(e,t,s,o){await A(e,T(t),s,o)}(t,e,a,r):async function(e,t,s,o){await A(e,C(t),s,o)}(t,e,a,r)}var R=s(1372),M=s(6826),L=s(3236),j=s(6849);const W=(0,s(6918).I)((()=>"undefined"!=typeof webkitIndexedDB)),q=(0,j.g)(z.F);var B={observe:R.N7,setupSyncFromStore(){const e=this.refs.textarea;let t=!0;this.observe("text",(s=>{const{rawText:o}=this.get();if(o!==s){let a;if(!t){const{selectionStart:t,selectionEnd:i}=e;t>0&&t===i&&(a=s.length-o.length+t)}this.set({rawText:s}),"number"==typeof a&&a>0&&(e.selectionStart=e.selectionEnd=a),(0,F.B)("autosize.update()"),I.i.update(e),(0,F.s)("autosize.update()")}if(t){t=!1;const{autoFocus:s}=this.get();s&&requestAnimationFrame((()=>e.focus({preventScroll:!0})))}}))},setupSyncToStore(){const{realm:e}=this.get();this.observe("rawText",(t=>{q((()=>{(0,F.B)("updateComposeTextInStore"),this.store.setComposeData(e,{text:t}),this.store.save(),(0,F.s)("updateComposeTextInStore")}))}),{init:!1})},setupAutosize(){const e=this.refs.textarea;(0,L.b)((()=>{(0,F.B)("autosize()"),(0,I.i)(e),(0,F.s)("autosize()")}))},teardownAutosize(){(0,F.B)("autosize.destroy()"),I.i.destroy(this.refs.textarea),(0,F.s)("autosize.destroy()")},onBlur(){requestAnimationFrame((()=>{this.store.setForCurrentAutosuggest({composeFocused:!1})}))},onFocus(){(0,z.F)((()=>{const{realm:e}=this.get();this.store.set({currentComposeRealm:e}),this.store.setForCurrentAutosuggest({composeFocused:!0})}))},onSelectionChange(e){(0,z.F)((()=>{this.store.setForCurrentAutosuggest({composeSelectionStart:e})}))},onKeydown(e){const{keyCode:t}=e,s=e.getModifierState("Control")||e.getModifierState("Meta");switch(t){case 9:this.clickSelectedAutosuggestion(e);break;case 13:!this.clickSelectedAutosuggestion(e)&&s&&this.fire("postAction");break;case 38:this.incrementAutosuggestSelected(-1,e);break;case 40:this.incrementAutosuggestSelected(1,e);break;case 27:this.clearAutosuggestions(e)}},clickSelectedAutosuggestion(e){const{autosuggestShown:t,autosuggestType:s}=this.store.get();if(!t)return!1;e.preventDefault(),e.stopPropagation();return(async()=>{const{realm:e}=this.get();this.store.setForCurrentAutosuggest({autosuggestSelecting:!0}),"account"===s?await async function(e){return N(e,E)}(e):"hashtag"===s?await async function(e){return N(e,C)}(e):await async function(e){return N(e,T)}(e),this.store.setForCurrentAutosuggest({autosuggestSelecting:!1})})(),!0},incrementAutosuggestSelected(e,t){let{autosuggestShown:s,autosuggestSelected:o,autosuggestSearchResults:a}=this.store.get();s&&(o+=e,o>=0?o%=a.length:o=a.length+o,this.store.setForCurrentAutosuggest({autosuggestSelected:o}),t.preventDefault(),t.stopPropagation())},clearAutosuggestions(e){const{autosuggestShown:t}=this.store.get();t&&(this.store.setForCurrentAutosuggest({autosuggestSearchResults:[],autosuggestSelected:0}),e.preventDefault(),e.stopPropagation())},setupResize(){(0,_.on)("resizeComposeInput",this,(e=>{e===this.get().realm&&I.i.update(this.refs.textarea)}))},setCursorIfNecessary(){const{realm:e}=this.get();W()&&"dialog"!==e&&"home"!==e&&requestAnimationFrame((()=>{this.refs.textarea.selectionStart=this.refs.textarea.value.length}))}};function V(){this.setupSyncFromStore(),this.setupSyncToStore(),this.setupAutosize(),this.setupResize(),this.setCursorIfNecessary()}function Z(){this.teardownAutosize()}function O(e){var t;if((0,o.S1)(this,e),this.store=i.h,this.refs={},this._state=(0,o.f0)((0,o.f0)(this.store._init(["autosuggestData_composeFocused","currentInstance","autosuggestShown","autosuggestData_autosuggestSelected"]),{rawText:""}),e.data),this.store._add(this,["autosuggestData_composeFocused","currentInstance","autosuggestShown","autosuggestData_autosuggestSelected"]),this._recompute({$autosuggestData_composeFocused:1,$currentInstance:1,realm:1,$autosuggestShown:1,composeFocused:1,$autosuggestData_autosuggestSelected:1,autosuggestSelected:1,autosuggestShownForThisInput:1},this._state),this._intro=!0,this._handlers.destroy=[Z,o.iT],document.getElementById("svelte-jk36in-style")||((t=(0,o.az)("style")).id="svelte-jk36in-style",t.textContent=".compose-box-input.svelte-jk36in{grid-area:input;margin:10px 0 0 5px;padding:10px;border:1px solid var(--input-border);min-height:75px;resize:none;overflow:hidden;word-wrap:break-word;font-size:1.2em;width:calc(100% - 5px)}.compose-box-input-realm-dialog.svelte-jk36in{max-height:40vh;overflow-y:auto}@media(max-width: 767px){.compose-box-input-realm-dialog.svelte-jk36in{max-height:30vh}}@media(max-width: 479px){.compose-box-input-realm-dialog.svelte-jk36in{max-height:20vh}}",(0,o.R3)(document.head,t)),this._fragment=function(e,t){var s,a,i,r,n,l,c,u,d,h,m,p,g,f,v=!1;function y(){v=!0,e.set({rawText:s.value}),v=!1}function b(t){e.onFocus()}function x(t){e.onBlur()}function _(t){e.onKeydown(t)}return{c(){s=(0,o.az)("textarea"),c=(0,o.rw)("\n"),u=(0,o.az)("label"),d=(0,o.rw)("What's on your mind?"),m=(0,o.rw)("\n"),p=(0,o.az)("span"),g=(0,o.rw)("When autocomplete results are available, press up or down arrows and enter to select."),this.h()},l(e){s=(0,o.d$)(e,"TEXTAREA",{id:!0,class:!0,placeholder:!0,"aria-describedby":!0,"aria-owns":!0,"aria-expanded":!0,"aria-autocomplete":!0,"aria-activedescendant":!0},!1),(0,o.pI)(s).forEach(o.r2),c=(0,o.M4)(e,"\n"),u=(0,o.d$)(e,"LABEL",{for:!0,class:!0},!1);var t=(0,o.pI)(u);d=(0,o.M4)(t,"What's on your mind?"),t.forEach(o.r2),m=(0,o.M4)(e,"\n"),p=(0,o.d$)(e,"SPAN",{id:!0,class:!0},!1);var a=(0,o.pI)(p);g=(0,o.M4)(a,"When autocomplete results are available, press up or down arrows and enter to select."),a.forEach(o.r2),this.h()},h(){(0,o.NH)(s,"input",y),(0,o.NH)(s,"focus",b),(0,o.NH)(s,"blur",x),a=D.j3.call(e,s,(function(t){e.onSelectionChange(t)})),(0,o.NH)(s,"keydown",_),s.id=i="the-compose-box-input-"+t.realm,s.className=r="compose-box-input compose-box-input-realm-"+t.realm+" svelte-jk36in",s.placeholder="What's on your mind?",(0,o.P$)(s,"aria-describedby",n="compose-box-input-description-"+t.realm),(0,o.P$)(s,"aria-owns",l="compose-autosuggest-list-"+t.realm),(0,o.P$)(s,"aria-expanded",t.autosuggestShownForThisInput),(0,o.P$)(s,"aria-autocomplete","both"),(0,o.P$)(s,"aria-activedescendant",t.activeDescendant),u.htmlFor=h="the-compose-box-input-"+t.realm,u.className="sr-only",p.id=f="compose-box-input-description-"+t.realm,p.className="sr-only"},m(a,i){(0,o.$T)(a,s,i),e.refs.textarea=s,s.value=t.rawText,(0,o.$T)(a,c,i),(0,o.$T)(a,u,i),(0,o.R3)(u,d),(0,o.$T)(a,m,i),(0,o.$T)(a,p,i),(0,o.R3)(p,g)},p(e,t){!v&&e.rawText&&(s.value=t.rawText),e.realm&&i!==(i="the-compose-box-input-"+t.realm)&&(s.id=i),e.realm&&r!==(r="compose-box-input compose-box-input-realm-"+t.realm+" svelte-jk36in")&&(s.className=r),e.realm&&n!==(n="compose-box-input-description-"+t.realm)&&(0,o.P$)(s,"aria-describedby",n),e.realm&&l!==(l="compose-autosuggest-list-"+t.realm)&&(0,o.P$)(s,"aria-owns",l),e.autosuggestShownForThisInput&&(0,o.P$)(s,"aria-expanded",t.autosuggestShownForThisInput),e.activeDescendant&&(0,o.P$)(s,"aria-activedescendant",t.activeDescendant),e.realm&&h!==(h="the-compose-box-input-"+t.realm)&&(u.htmlFor=h),e.realm&&f!==(f="compose-box-input-description-"+t.realm)&&(p.id=f)},d(t){t&&(0,o.r2)(s),(0,o.ys)(s,"input",y),(0,o.ys)(s,"focus",b),(0,o.ys)(s,"blur",x),a.destroy(),(0,o.ys)(s,"keydown",_),e.refs.textarea===s&&(e.refs.textarea=null),t&&((0,o.r2)(c),(0,o.r2)(u),(0,o.r2)(m),(0,o.r2)(p))}}}(this,this._state),this.root._oncreate.push((()=>{V.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),e.target){var s=(0,o.pI)(e.target);e.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(O.prototype,o.uS),(0,o.f0)(O.prototype,B),O.prototype._recompute=function(e,t){(e.$autosuggestData_composeFocused||e.$currentInstance||e.realm)&&this._differs(t.composeFocused,t.composeFocused=function({$autosuggestData_composeFocused:e,$currentInstance:t,realm:s}){return(0,M.U2)(e,[t,s],!1)}(t))&&(e.composeFocused=!0),(e.$autosuggestShown||e.composeFocused)&&this._differs(t.autosuggestShownForThisInput,t.autosuggestShownForThisInput=function({$autosuggestShown:e,composeFocused:t}){return!(!e||!t)}(t))&&(e.autosuggestShownForThisInput=!0),(e.$autosuggestData_autosuggestSelected||e.$currentInstance||e.realm)&&this._differs(t.autosuggestSelected,t.autosuggestSelected=function({$autosuggestData_autosuggestSelected:e,$currentInstance:t,realm:s}){return(0,M.U2)(e,[t,s],0)}(t))&&(e.autosuggestSelected=!0),(e.autosuggestSelected||e.autosuggestShownForThisInput||e.realm)&&this._differs(t.activeDescendant,t.activeDescendant=function({autosuggestSelected:e,autosuggestShownForThisInput:t,realm:s}){return t?`compose-autosuggest-active-item-${s}-${e}`:void 0}(t))&&(e.activeDescendant=!0)};const U=O;var H=s(2311);function K(e){var t;if((0,o.S1)(this,e),this.store=i.h,this._state=(0,o.f0)(this.store._init(["postingStatus"]),e.data),this.store._add(this,["postingStatus"]),this._recompute({$postingStatus:1,overLimit:1},this._state),this._intro=!0,this._handlers.destroy=[o.iT],document.getElementById("svelte-1gztkkv-style")||((t=(0,o.az)("style")).id="svelte-1gztkkv-style",t.textContent=".compose-box-button-halo.svelte-1gztkkv{border-radius:2px;margin:5px 15px 15px 5px;pointer-events:auto}.compose-box-button-halo-sticky.svelte-1gztkkv{background-color:var(--compose-button-halo)}.compose-box-button.svelte-1gztkkv{grid-area:button;justify-self:right;text-transform:uppercase;position:relative;margin:5px;pointer-events:auto}.compose-box-button-spinner.svelte-1gztkkv,.compose-box-button-compose.svelte-1gztkkv{position:absolute;display:flex;justify-content:center;align-items:center;z-index:10;top:0;bottom:0;left:0;right:0}.compose-box-button-svg{width:24px;height:24px;fill:var(--button-primary-text)}@media(max-width: 767px){.compose-box-button-halo.svelte-1gztkkv{margin:5px}.compose-box-button.svelte-1gztkkv{margin:5px}}",(0,o.R3)(document.head,t)),this._fragment=function(e,t){var s,a,i,r,n,l,c,u,d,h,m,p,g={className:"compose-box-button-svg "+(t.$postingStatus?"spin":"hidden"),href:"#fa-spinner"},f=new H.Z({root:e.root,store:e.store,data:g}),v=new H.Z({root:e.root,store:e.store,data:{className:"compose-box-button-svg",href:"#fa-pencil"}});function y(t){e.fire("click",t)}return{c(){s=(0,o.az)("div"),a=(0,o.az)("button"),i=(0,o.az)("span"),r=(0,o.rw)("Toot!"),l=(0,o.rw)("\n    "),c=(0,o.az)("div"),f._fragment.c(),u=(0,o.rw)("\n\n    "),d=(0,o.az)("div"),v._fragment.c(),this.h()},l(e){s=(0,o.d$)(e,"DIV",{class:!0},!1);var t=(0,o.pI)(s);a=(0,o.d$)(t,"BUTTON",{class:!0,disabled:!0,"aria-label":!0},!1);var n=(0,o.pI)(a);i=(0,o.d$)(n,"SPAN",{class:!0},!1);var h=(0,o.pI)(i);r=(0,o.M4)(h,"Toot!"),h.forEach(o.r2),l=(0,o.M4)(n,"\n    "),c=(0,o.d$)(n,"DIV",{class:!0,"aria-hidden":!0},!1);var m=(0,o.pI)(c);f._fragment.l(m),m.forEach(o.r2),u=(0,o.M4)(n,"\n\n    "),d=(0,o.d$)(n,"DIV",{class:!0,"aria-hidden":!0},!1);var p=(0,o.pI)(d);v._fragment.l(p),p.forEach(o.r2),n.forEach(o.r2),t.forEach(o.r2),this.h()},h(){i.className=n=t.$postingStatus||t.sticky?"hidden":"",c.className="compose-box-button-spinner svelte-1gztkkv",(0,o.P$)(c,"aria-hidden","true"),d.className=h="compose-box-button-compose "+(t.sticky?"":"hidden")+" svelte-1gztkkv",(0,o.P$)(d,"aria-hidden","true"),(0,o.NH)(a,"click",y),a.className="primary compose-box-button svelte-1gztkkv",a.disabled=t.disabled,(0,o.P$)(a,"aria-label",m=t.sticky?"Compose toot":"Toot!"),s.className=p="compose-box-button-halo "+(t.sticky?"compose-box-button-halo-sticky":"")+" svelte-1gztkkv"},m(e,t){(0,o.$T)(e,s,t),(0,o.R3)(s,a),(0,o.R3)(a,i),(0,o.R3)(i,r),(0,o.R3)(a,l),(0,o.R3)(a,c),f._mount(c,null),(0,o.R3)(a,u),(0,o.R3)(a,d),v._mount(d,null)},p(e,t){(e.$postingStatus||e.sticky)&&n!==(n=t.$postingStatus||t.sticky?"hidden":"")&&(i.className=n);var r={};e.$postingStatus&&(r.className="compose-box-button-svg "+(t.$postingStatus?"spin":"hidden")),f._set(r),e.sticky&&h!==(h="compose-box-button-compose "+(t.sticky?"":"hidden")+" svelte-1gztkkv")&&(d.className=h),e.disabled&&(a.disabled=t.disabled),e.sticky&&m!==(m=t.sticky?"Compose toot":"Toot!")&&(0,o.P$)(a,"aria-label",m),e.sticky&&p!==(p="compose-box-button-halo "+(t.sticky?"compose-box-button-halo-sticky":"")+" svelte-1gztkkv")&&(s.className=p)},d(e){e&&(0,o.r2)(s),f.destroy(),v.destroy(),(0,o.ys)(a,"click",y)}}}(this,this._state),e.target){var s=(0,o.pI)(e.target);e.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(K.prototype,o.uS),K.prototype._recompute=function(e,t){(e.$postingStatus||e.overLimit)&&this._differs(t.disabled,t.disabled=function({$postingStatus:e,overLimit:t}){return e||t}(t))&&(e.disabled=!0)};const X=K;var Y=s(6077),G=s(267);var J={observe:R.N7,onClickButton(){const{sticky:e}=this.get();e?this.showDialog():this.fire("postAction")},async showDialog(){(await(0,Y.B)())()},setupIntersectionObservers(){const{showSticky:e}=this.get();if(!e)return;const t=this.refs.sentinel;this.__stickyObserver=new IntersectionObserver((e=>this.onObserve(e))),this.__stickyObserver.observe(t),this.observe("timelineInitialized",(e=>{e&&!this.__oneShotObserver&&(this.__oneShotObserver=new IntersectionObserver((e=>{this.onObserve(e),this.__oneShotObserver.disconnect(),this.__oneShotObserver=null})),this.__oneShotObserver.observe(t))}),{init:!1})},onObserve(e){this.set({sticky:!e[0].isIntersecting})},teardownIntersectionObservers(){this.__stickyObserver&&(this.__stickyObserver.disconnect(),this.__stickyObserver=null),this.__oneShotObserver&&(this.__oneShotObserver.disconnect(),this.__oneShotObserver=null)}};function Q(){this.setupIntersectionObservers()}function ee(){this.teardownIntersectionObservers()}function te(e){var t,s,a,r,n,l,c,u;if((0,o.S1)(this,e),this.store=i.h,this.refs={},this._state=(0,o.f0)((0,o.f0)(this.store._init(["timelineInitialized"]),{sticky:!1}),e.data),this.store._add(this,["timelineInitialized"]),this._recompute({$timelineInitialized:1,showSticky:1,hideAndFadeIn:1},this._state),this._intro=!0,this._handlers.destroy=[ee,o.iT],document.getElementById("svelte-fmh1pw-style")||((t=(0,o.az)("style")).id="svelte-fmh1pw-style",t.textContent=".compose-box-button-wrapper.svelte-fmh1pw{width:-moz-fit-content;width:fit-content;margin-left:auto;display:flex;justify-content:flex-end}.compose-box-button-sticky.svelte-fmh1pw{position:-webkit-sticky;position:sticky}.compose-box-button-sticky, .compose-box-button-fixed{z-index:5000;top:calc(var(--nav-total-height))}",(0,o.R3)(document.head,t)),this._fragment=(s=this,a=this._state,c={overLimit:a.overLimit,sticky:a.sticky},(u=new X({root:s.root,store:s.store,data:c})).on("click",(function(e){s.onClickButton()})),{c(){r=(0,o.az)("div"),n=(0,o.rw)("\n"),l=(0,o.az)("div"),u._fragment.c(),this.h()},l(e){r=(0,o.d$)(e,"DIV",{class:!0},!1),(0,o.pI)(r).forEach(o.r2),n=(0,o.M4)(e,"\n"),l=(0,o.d$)(e,"DIV",{class:!0},!1);var t=(0,o.pI)(l);u._fragment.l(t),t.forEach(o.r2),this.h()},h(){r.className="compose-box-button-sentinel",l.className=a.computedClass+" svelte-fmh1pw"},m(e,t){(0,o.$T)(e,r,t),s.refs.sentinel=r,(0,o.$T)(e,n,t),(0,o.$T)(e,l,t),u._mount(l,null),s.refs.wrapper=l},p(e,t){var s={};e.overLimit&&(s.overLimit=t.overLimit),e.sticky&&(s.sticky=t.sticky),u._set(s),e.computedClass&&(l.className=t.computedClass+" svelte-fmh1pw")},d(e){e&&(0,o.r2)(r),s.refs.sentinel===r&&(s.refs.sentinel=null),e&&((0,o.r2)(n),(0,o.r2)(l)),u.destroy(),s.refs.wrapper===l&&(s.refs.wrapper=null)}}),this.root._oncreate.push((()=>{Q.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),e.target){var d=(0,o.pI)(e.target);e.hydrate?this._fragment.l(d):this._fragment.c(),d.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(te.prototype,o.uS),(0,o.f0)(te.prototype,J),te.prototype._recompute=function(e,t){e.$timelineInitialized&&this._differs(t.timelineInitialized,t.timelineInitialized=function({$timelineInitialized:e}){return e}(t))&&(e.timelineInitialized=!0),(e.showSticky||e.hideAndFadeIn)&&this._differs(t.computedClass,t.computedClass=function({showSticky:e,hideAndFadeIn:t}){return(0,G.q)("compose-box-button-wrapper",e&&"compose-box-button-sticky",t)}(t))&&(e.computedClass=!0)};const se=te;var oe=s(377);const ae=(0,j.g)(z.F),ie=(0,j.g)(requestAnimationFrame);var re={observe:R.N7,setupSyncFromStore(){this.observe("media",(e=>{e=e||[];const{index:t,rawText:s}=this.get(),o=(0,M.U2)(e,[t,"description"],"");s!==o&&(this.set({rawText:o}),ie((()=>I.i.update(this.refs.textarea))));const a=(0,M.U2)(e,[t,"focusX"],0),i=(0,M.U2)(e,[t,"focusY"],0);this.set({focusX:a,focusY:i})}))},setupSyncToStore(){this.observe("rawText",(e=>{ae((()=>{const{realm:t,index:s,media:o}=this.get();o[s].description!==e&&(o[s].description=e,this.store.setComposeData(t,{media:o}),this.store.save())}))}),{init:!1})},setupAutosize(){(0,I.i)(this.refs.textarea)},teardownAutosize(){I.i.destroy(this.refs.textarea)},onDeleteMedia(){const{realm:e,index:t}=this.get();(0,r.h)(e,t)},async onEdit(){const{realm:e,index:t,type:o}=this.get();(await Promise.all([s.e(7500),s.e(7608),s.e(7779)]).then(s.bind(s,7779)).then((e=>e.default)))(e,t,o)}};function ne(){this.setupSyncFromStore(),this.setupSyncToStore(),this.setupAutosize()}function le(){this.teardownAutosize()}function ce(e){var t;if((0,o.S1)(this,e),this.store=i.h,this.refs={},this._state=(0,o.f0)({rawText:"",focusX:0,focusY:0},e.data),this._recompute({mediaItem:1,type:1,realm:1,focusX:1,focusY:1},this._state),this._intro=!0,this._handlers.destroy=[le],document.getElementById("svelte-1k3h21g-style")||((t=(0,o.az)("style")).id="svelte-1k3h21g-style",t.textContent=".compose-media.svelte-1k3h21g{margin:0;padding:0;height:200px;overflow:hidden;flex-direction:column;position:relative;display:flex;background:var(--main-bg)}.compose-media.svelte-1k3h21g img.svelte-1k3h21g{object-fit:contain;flex:1;height:100%;width:100%}.compose-media-alt.svelte-1k3h21g{z-index:10;position:absolute;bottom:0;left:0;right:0;display:flex;justify-content:center}.compose-media-alt-input.svelte-1k3h21g{width:100%;font-size:1.2em;background:var(--alt-input-bg);color:var(--body-text-color);max-height:100px;border:1px solid var(--input-border);resize:none}.compose-media-alt-input.svelte-1k3h21g:focus{background:var(--main-bg)}.compose-media-buttons.svelte-1k3h21g{position:absolute;z-index:10;top:0;right:0;left:0;display:flex;justify-content:space-between;margin:2px}.compose-media-button.svelte-1k3h21g{padding:7px 10px 5px;background:var(--floating-button-bg);border:1px solid var(--button-border)}.compose-media-button.svelte-1k3h21g:hover{background:var(--floating-button-bg-hover)}.compose-media-button.svelte-1k3h21g:active{background:var(--floating-button-bg-active)}.compose-media-button-svg{fill:var(--button-text);width:18px;height:18px}.audio-preview.svelte-1k3h21g{background:var(--audio-bg)}.compose-media-realm-dialog.svelte-1k3h21g{max-height:20vh}@media(max-width: 767px){.compose-media-realm-dialog.svelte-1k3h21g{max-height:15vh}.compose-media-alt-input.svelte-1k3h21g{max-height:7vh}}@media(max-width: 320px){.compose-media-realm-dialog.svelte-1k3h21g .compose-media-alt-input.svelte-1k3h21g{display:none}}",(0,o.R3)(document.head,t)),this._fragment=function(e,t){var s,a,i,r,n,l,c,u,d,h,m,p,g,f,v,y,b,x=!1,_=new H.Z({root:e.root,store:e.store,data:{className:"compose-media-button-svg",href:"#fa-pencil"}});function w(t){e.onEdit()}var k=new H.Z({root:e.root,store:e.store,data:{className:"compose-media-button-svg",href:"#fa-times"}});function S(t){e.onDeleteMedia()}function $(){x=!0,e.set({rawText:m.value}),x=!1}return{c(){s=(0,o.az)("li"),a=(0,o.az)("img"),r=(0,o.rw)("\n  "),n=(0,o.az)("div"),l=(0,o.az)("button"),_._fragment.c(),c=(0,o.rw)("\n    "),u=(0,o.az)("button"),k._fragment.c(),d=(0,o.rw)("\n  "),h=(0,o.az)("div"),m=(0,o.az)("textarea"),g=(0,o.rw)("\n    "),f=(0,o.az)("label"),v=(0,o.rw)("Describe for the visually impaired (image, video) or auditorily impaired (audio, video)"),this.h()},l(e){s=(0,o.d$)(e,"LI",{class:!0,"aria-label":!0},!1);var t=(0,o.pI)(s);a=(0,o.d$)(t,"IMG",{alt:!0,class:!0,style:!0,src:!0,"aria-hidden":!0},!1),(0,o.pI)(a).forEach(o.r2),r=(0,o.M4)(t,"\n  "),n=(0,o.d$)(t,"DIV",{class:!0},!1);var i=(0,o.pI)(n);l=(0,o.d$)(i,"BUTTON",{class:!0,"aria-label":!0,title:!0},!1);var p=(0,o.pI)(l);_._fragment.l(p),p.forEach(o.r2),c=(0,o.M4)(i,"\n    "),u=(0,o.d$)(i,"BUTTON",{class:!0,"aria-label":!0,title:!0},!1);var y=(0,o.pI)(u);k._fragment.l(y),y.forEach(o.r2),i.forEach(o.r2),d=(0,o.M4)(t,"\n  "),h=(0,o.d$)(t,"DIV",{class:!0},!1);var b=(0,o.pI)(h);m=(0,o.d$)(b,"TEXTAREA",{id:!0,class:!0,placeholder:!0},!1),(0,o.pI)(m).forEach(o.r2),g=(0,o.M4)(b,"\n    "),f=(0,o.d$)(b,"LABEL",{for:!0,class:!0},!1);var x=(0,o.pI)(f);v=(0,o.M4)(x,"Describe for the visually impaired (image, video) or auditorily impaired (audio, video)"),x.forEach(o.r2),b.forEach(o.r2),t.forEach(o.r2),this.h()},h(){a.alt="",a.className=i=("audio"===t.type?"audio-preview":"")+" svelte-1k3h21g",(0,o.A_)(a,"object-position",t.objectPosition),a.src=t.previewSrc,(0,o.P$)(a,"aria-hidden","true"),(0,o.NH)(l,"click",w),l.className="compose-media-button compose-media-focal-button svelte-1k3h21g",(0,o.P$)(l,"aria-label","Edit"),l.title="Edit",(0,o.NH)(u,"click",S),u.className="compose-media-button compose-media-delete-button svelte-1k3h21g",(0,o.P$)(u,"aria-label","Delete"),u.title="Delete",n.className="compose-media-buttons svelte-1k3h21g",(0,o.NH)(m,"input",$),m.id=p="compose-media-input-"+t.uuid,m.className="compose-media-alt-input svelte-1k3h21g",m.placeholder="Description",f.htmlFor=y="compose-media-input-"+t.uuid,f.className="sr-only",h.className="compose-media-alt svelte-1k3h21g",s.className=b="compose-media compose-media-realm-"+t.realm+" svelte-1k3h21g",(0,o.P$)(s,"aria-label",t.shortName)},m(i,p){(0,o.$T)(i,s,p),(0,o.R3)(s,a),(0,o.R3)(s,r),(0,o.R3)(s,n),(0,o.R3)(n,l),_._mount(l,null),(0,o.R3)(n,c),(0,o.R3)(n,u),k._mount(u,null),(0,o.R3)(s,d),(0,o.R3)(s,h),(0,o.R3)(h,m),e.refs.textarea=m,m.value=t.rawText,(0,o.R3)(h,g),(0,o.R3)(h,f),(0,o.R3)(f,v)},p(e,t){e.type&&i!==(i=("audio"===t.type?"audio-preview":"")+" svelte-1k3h21g")&&(a.className=i),e.objectPosition&&(0,o.A_)(a,"object-position",t.objectPosition),e.previewSrc&&(a.src=t.previewSrc),!x&&e.rawText&&(m.value=t.rawText),e.uuid&&p!==(p="compose-media-input-"+t.uuid)&&(m.id=p),e.uuid&&y!==(y="compose-media-input-"+t.uuid)&&(f.htmlFor=y),e.realm&&b!==(b="compose-media compose-media-realm-"+t.realm+" svelte-1k3h21g")&&(s.className=b),e.shortName&&(0,o.P$)(s,"aria-label",t.shortName)},d(t){t&&(0,o.r2)(s),_.destroy(),(0,o.ys)(l,"click",w),k.destroy(),(0,o.ys)(u,"click",S),(0,o.ys)(m,"input",$),e.refs.textarea===m&&(e.refs.textarea=null)}}}(this,this._state),this.root._oncreate.push((()=>{ne.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),e.target){var s=(0,o.pI)(e.target);e.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(ce.prototype,o.uS),(0,o.f0)(ce.prototype,re),ce.prototype._recompute=function(e,t){e.mediaItem&&(this._differs(t.type,t.type=function({mediaItem:e}){return e.data.type}(t))&&(e.type=!0),this._differs(t.shortName,t.shortName=function({mediaItem:e}){return(0,M.U2)(e,["file","name"])||(0,M.U2)(e,["description"])||"media"}(t))&&(e.shortName=!0)),(e.mediaItem||e.type)&&this._differs(t.previewSrc,t.previewSrc=function({mediaItem:e,type:t}){return"audio"===t?n.Pf:e.data.preview_url}(t))&&(e.previewSrc=!0),(e.realm||e.mediaItem)&&this._differs(t.uuid,t.uuid=function({realm:e,mediaItem:t}){return`${e}-${t.data.id}`}(t))&&(e.uuid=!0),(e.focusX||e.focusY)&&this._differs(t.objectPosition,t.objectPosition=function({focusX:e,focusY:t}){return e||t?`${(0,oe.i)(e)}% ${100-(0,oe.i)(t)}%`:"center center"}(t))&&(e.objectPosition=!0)};const ue=ce;function de(e,t,s){const o=Object.create(e);return o.mediaItem=t[s],o.index=s,o}function he(e,t){for(var s,a=t.media,i=[],r=0;r<a.length;r+=1)i[r]=me(e,de(t,a,r));return{c(){s=(0,o.az)("ul");for(var e=0;e<i.length;e+=1)i[e].c();this.h()},l(e){s=(0,o.d$)(e,"UL",{class:!0,"aria-label":!0,style:!0},!1);for(var t=(0,o.pI)(s),a=0;a<i.length;a+=1)i[a].l(t);t.forEach(o.r2),this.h()},h(){s.className="compose-media-container svelte-so82yb",(0,o.P$)(s,"aria-label","Media uploads"),(0,o.A_)(s,"grid-template-columns","repeat("+t.media.length+", 1fr)")},m(e,t){(0,o.$T)(e,s,t);for(var a=0;a<i.length;a+=1)i[a].m(s,null)},p(t,r){if(t.realm||t.media){a=r.media;for(var n=0;n<a.length;n+=1){const o=de(r,a,n);i[n]?i[n].p(t,o):(i[n]=me(e,o),i[n].c(),i[n].m(s,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=a.length}t.media&&(0,o.A_)(s,"grid-template-columns","repeat("+r.media.length+", 1fr)")},d(e){e&&(0,o.r2)(s),(0,o.kw)(i,e)}}}function me(e,t){var s={realm:t.realm,mediaItem:t.mediaItem,index:t.index,media:t.media},o=new ue({root:e.root,store:e.store,data:s});return{c(){o._fragment.c()},l(e){o._fragment.l(e)},m(e,t){o._mount(e,t)},p(e,t){var s={};e.realm&&(s.realm=t.realm),e.media&&(s.mediaItem=t.mediaItem),e.media&&(s.media=t.media),o._set(s)},d(e){o.destroy(e)}}}function pe(e){var t,s,a,r,n;if((0,o.S1)(this,e),this.store=i.h,this._state=(0,o.f0)({},e.data),this._intro=!0,document.getElementById("svelte-so82yb-style")||((t=(0,o.az)("style")).id="svelte-so82yb-style",t.textContent=".compose-media-container.svelte-so82yb{grid-area:media;list-style:none;display:grid;grid-column-gap:5px;align-items:center;justify-content:center;margin:10px 0 0 0;background:var(--form-bg);padding:5px;border-radius:4px}",(0,o.R3)(document.head,t)),this._fragment=(s=this,a=this._state,n=a.media.length&&he(s,a),{c(){n&&n.c(),r=(0,o.Yr)()},l(e){n&&n.l(e),r=(0,o.Yr)()},m(e,t){n&&n.m(e,t),(0,o.$T)(e,r,t)},p(e,t){t.media.length?n?n.p(e,t):((n=he(s,t)).c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&(0,o.r2)(r)}}),e.target){var l=(0,o.pI)(e.target);e.hydrate?this._fragment.l(l):this._fragment.c(),l.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(pe.prototype,o.uS);const ge=pe,fe=(0,j.g)(z.F);var ve={observe:R.N7,setupSyncFromStore(){this.observe("contentWarning",(e=>{this.set({rawText:e})}))},setupSyncToStore(){const{realm:e}=this.get();this.observe("rawText",(t=>{fe((()=>{this.store.setComposeData(e,{sensitive:!!t,contentWarning:t}),this.store.save()}))}),{init:!1})}};function ye(){this.setupSyncFromStore(),this.setupSyncToStore()}function be(e){var t;if((0,o.S1)(this,e),this.store=i.h,this._state=(0,o.f0)({rawText:""},e.data),this._intro=!0,document.getElementById("svelte-7v2gf8-style")||((t=(0,o.az)("style")).id="svelte-7v2gf8-style",t.textContent=".content-warning-input.svelte-7v2gf8{font-size:1.2em;margin:10px 0 0 5px;padding:10px;border:1px solid var(--input-border);width:calc(100% - 5px)}",(0,o.R3)(document.head,t)),this._fragment=function(e,t){var s,a=!1;function i(){a=!0,e.set({rawText:s.value}),a=!1}return{c(){s=(0,o.az)("input"),this.h()},l(e){s=(0,o.d$)(e,"INPUT",{class:!0,type:!0,placeholder:!0,"aria-label":!0},!1),(0,o.pI)(s).forEach(o.r2),this.h()},h(){(0,o.NH)(s,"input",i),s.className="content-warning-input svelte-7v2gf8",(0,o.P$)(s,"type","text"),s.placeholder="Content warning",(0,o.P$)(s,"aria-label","Content warning")},m(e,a){(0,o.$T)(e,s,a),s.value=t.rawText},p(e,t){!a&&e.rawText&&(s.value=t.rawText)},d(e){e&&(0,o.r2)(s),(0,o.ys)(s,"input",i)}}}(this,this._state),this.root._oncreate.push((()=>{ye.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),e.target){var s=(0,o.pI)(e.target);e.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(be.prototype,o.uS),(0,o.f0)(be.prototype,ve);const xe=be;s(4190);var _e={async onFileDrop(e){const{files:t}=e,{realm:s}=this.get();for(const o of t)await(0,r.m)(s,o)}};function we(){this.onFileDrop=this.onFileDrop.bind(this),this.refs.fileDrop.addEventListener("filedrop",this.onFileDrop)}function ke(){this.refs.fileDrop.removeEventListener("filedrop",this.onFileDRop)}function Se(e){var t,s,a,i,r,l,c,u,d,h,m,p,g,f,v;if((0,o.S1)(this,e),this.refs={},this._state=(0,o.f0)({mediaAccept:n.ZG},e.data),this._intro=!0,this._handlers.destroy=[ke],this._slotted=e.slots||{},document.getElementById("svelte-gx8id0-style")||((t=(0,o.az)("style")).id="svelte-gx8id0-style",t.textContent=".file-drop.svelte-gx8id0{display:block;position:relative;max-width:100%;width:100%}.file-drop-info.svelte-gx8id0{display:none;pointer-events:none;position:absolute;top:0;bottom:0;left:0;right:0;z-index:6000;justify-content:center;align-items:center}.file-drop-info-text.svelte-gx8id0{font-size:1.2em;color:var(--button-text);padding:10px 20px;border:2px dashed var(--button-text);border-radius:6px}.file-drop-realm-dialog.svelte-gx8id0{max-height:100%;overflow-y:auto;overflow-x:hidden;scrollbar-width:none;-ms-overflow-style:none}.file-drop-realm-dialog.svelte-gx8id0::-webkit-scrollbar{display:none}.file-drop.drop-valid .file-drop-info, .file-drop.drop-invalid .file-drop-info{display:flex;background:var(--file-drop-mask)}.file-drop.drop-valid .file-drop-info-text-invalid, .file-drop.drop-invalid .file-drop-info-text-valid{display:none}",(0,o.R3)(document.head,t)),this._fragment=(s=this,a=this._state,v=s._slotted.default,{c(){i=(0,o.az)("file-drop"),r=(0,o.az)("div"),l=(0,o.az)("div"),c=(0,o.az)("span"),u=(0,o.rw)("Drop to upload"),d=(0,o.rw)("\n      "),h=(0,o.az)("span"),m=(0,o.rw)("Invalid file type"),p=(0,o.rw)("\n  "),this.h()},l(e){i=(0,o.d$)(e,"FILE-DROP",{multiple:!0,class:!0,accept:!0},!1);var t=(0,o.pI)(i);r=(0,o.d$)(t,"DIV",{class:!0},!1);var s=(0,o.pI)(r);l=(0,o.d$)(s,"DIV",{class:!0},!1);var a=(0,o.pI)(l);c=(0,o.d$)(a,"SPAN",{class:!0},!1);var n=(0,o.pI)(c);u=(0,o.M4)(n,"Drop to upload"),n.forEach(o.r2),d=(0,o.M4)(a,"\n      "),h=(0,o.d$)(a,"SPAN",{class:!0},!1);var g=(0,o.pI)(h);m=(0,o.M4)(g,"Invalid file type"),g.forEach(o.r2),a.forEach(o.r2),s.forEach(o.r2),p=(0,o.M4)(t,"\n  "),t.forEach(o.r2),this.h()},h(){c.className="file-drop-info-text-valid svelte-gx8id0",h.className="file-drop-info-text-invalid svelte-gx8id0",l.className="file-drop-info-text svelte-gx8id0",r.className="file-drop-info svelte-gx8id0",(0,o.E_)(i,"multiple",!0),i.className=f="file-drop file-drop-realm-"+a.realm+" svelte-gx8id0",(0,o.E_)(i,"accept",a.mediaAccept)},m(e,t){(0,o.$T)(e,i,t),(0,o.R3)(i,r),(0,o.R3)(r,l),(0,o.R3)(l,c),(0,o.R3)(c,u),(0,o.R3)(l,d),(0,o.R3)(l,h),(0,o.R3)(h,m),(0,o.R3)(i,p),v&&((0,o.R3)(i,g||(g=(0,o.Yr)())),(0,o.R3)(i,v)),s.refs.fileDrop=i},p(e,t){e.realm&&f!==(f="file-drop file-drop-realm-"+t.realm+" svelte-gx8id0")&&(i.className=f),e.mediaAccept&&(0,o.E_)(i,"accept",t.mediaAccept)},d(e){e&&(0,o.r2)(i),v&&(0,o.PD)(g,v),s.refs.fileDrop===i&&(s.refs.fileDrop=null)}}),this.root._oncreate.push((()=>{we.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),e.target){var y=(0,o.pI)(e.target);e.hydrate?this._fragment.l(y):this._fragment.c(),y.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(Se.prototype,o.uS),(0,o.f0)(Se.prototype,_e);const $e=Se;var Ie=s(339);function ze({items:e,type:t,$omitEmojiInDisplayNames:s}){return e.map(((o,a)=>function(e,t,s,o){const a=o[s];let i;if("emoji"===e)i=a.name||[a.unicode].concat(a.shortcodes).join(", ");else if("hashtag"===e)i=`#${a.name}`;else{let e=a.display_name||a.username;const s=a.emojis||[];e=t&&(0,Ie.S)(e,s)||e,i=`${e} @${a.acct}`}return i}(t,s,a,e)))}var Fe={onClick(e,t){e.preventDefault(),e.stopPropagation(),this.fire("click",t)}};function De(e){const{component:t,ctx:s}=this._svelte;t.onClick(e,s.item)}function Te(e,t,s){const o=Object.create(e);return o.item=t[s],o.i=s,o}function Ce(e,t){var s,a,i,r=t.item.shortcodes.map((e=>`:${e}:`)).join(" ");function n(e){return e.item.url?Pe:Ne}var l=n(t),c=l(e,t);return{c(){c.c(),s=(0,o.rw)("\n          "),a=(0,o.az)("span"),i=(0,o.rw)(r),this.h()},l(e){c.l(e),s=(0,o.M4)(e,"\n          "),a=(0,o.d$)(e,"SPAN",{class:!0},!1);var t=(0,o.pI)(a);i=(0,o.M4)(t,r),t.forEach(o.r2),this.h()},h(){a.className="compose-autosuggest-list-display-name compose-autosuggest-list-display-name-single svelte-6wm839"},m(e,t){c.m(e,t),(0,o.$T)(e,s,t),(0,o.$T)(e,a,t),(0,o.R3)(a,i)},p(t,a){l===(l=n(a))&&c?c.p(t,a):(c.d(1),(c=l(e,a)).c(),c.m(s.parentNode,s)),t.items&&r!==(r=a.item.shortcodes.map((e=>`:${e}:`)).join(" "))&&(0,o.a_)(i,r)},d(e){c.d(e),e&&((0,o.r2)(s),(0,o.r2)(a))}}}function Ee(e,t){var s,a,i,r=t.item.name,n=new H.Z({root:e.root,store:e.store,data:{href:"#fa-hashtag",ariaHidden:!0,className:"compose-autosuggest-list-item-icon"}});return{c(){n._fragment.c(),s=(0,o.rw)("\n          "),a=(0,o.az)("span"),i=(0,o.rw)(r),this.h()},l(e){n._fragment.l(e),s=(0,o.M4)(e,"\n          "),a=(0,o.d$)(e,"SPAN",{class:!0},!1);var t=(0,o.pI)(a);i=(0,o.M4)(t,r),t.forEach(o.r2),this.h()},h(){a.className="compose-autosuggest-list-display-name compose-autosuggest-list-display-name-single svelte-6wm839"},m(e,t){n._mount(e,t),(0,o.$T)(e,s,t),(0,o.$T)(e,a,t),(0,o.R3)(a,i)},p(e,t){e.items&&r!==(r=t.item.name)&&(0,o.a_)(i,r)},d(e){n.destroy(e),e&&((0,o.r2)(s),(0,o.r2)(a))}}}function Ae(e,t){var s,a,i,r,n,l,c="@"+t.item.acct,u={size:t.$isVeryTinyMobileSize?"extra-small":"small",account:t.item},d=new b.Z({root:e.root,store:e.store,data:u}),h={account:t.item},m=new x.Z({root:e.root,store:e.store,data:h});return{c(){s=(0,o.az)("div"),d._fragment.c(),a=(0,o.rw)("\n          "),i=(0,o.az)("span"),m._fragment.c(),r=(0,o.rw)("\n          "),n=(0,o.az)("span"),l=(0,o.rw)(c),this.h()},l(e){s=(0,o.d$)(e,"DIV",{class:!0},!1);var t=(0,o.pI)(s);d._fragment.l(t),t.forEach(o.r2),a=(0,o.M4)(e,"\n          "),i=(0,o.d$)(e,"SPAN",{class:!0},!1);var u=(0,o.pI)(i);m._fragment.l(u),u.forEach(o.r2),r=(0,o.M4)(e,"\n          "),n=(0,o.d$)(e,"SPAN",{class:!0},!1);var h=(0,o.pI)(n);l=(0,o.M4)(h,c),h.forEach(o.r2),this.h()},h(){s.className="compose-autosuggest-list-item-avatar svelte-6wm839",i.className="compose-autosuggest-list-display-name svelte-6wm839",n.className="compose-autosuggest-list-username svelte-6wm839"},m(e,t){(0,o.$T)(e,s,t),d._mount(s,null),(0,o.$T)(e,a,t),(0,o.$T)(e,i,t),m._mount(i,null),(0,o.$T)(e,r,t),(0,o.$T)(e,n,t),(0,o.R3)(n,l)},p(e,t){var s={};e.$isVeryTinyMobileSize&&(s.size=t.$isVeryTinyMobileSize?"extra-small":"small"),e.items&&(s.account=t.item),d._set(s);var a={};e.items&&(a.account=t.item),m._set(a),e.items&&c!==(c="@"+t.item.acct)&&(0,o.a_)(l,c)},d(e){e&&(0,o.r2)(s),d.destroy(),e&&((0,o.r2)(a),(0,o.r2)(i)),m.destroy(),e&&((0,o.r2)(r),(0,o.r2)(n))}}}function Ne(e,t){var s,a,i=t.item.unicode;return{c(){s=(0,o.az)("span"),a=(0,o.rw)(i),this.h()},l(e){s=(0,o.d$)(e,"SPAN",{class:!0},!1);var t=(0,o.pI)(s);a=(0,o.M4)(t,i),t.forEach(o.r2),this.h()},h(){s.className="compose-autosuggest-list-item-icon compose-autosuggest-list-item-native-emoji svelte-6wm839"},m(e,t){(0,o.$T)(e,s,t),(0,o.R3)(s,a)},p(e,t){e.items&&i!==(i=t.item.unicode)&&(0,o.a_)(a,i)},d(e){e&&(0,o.r2)(s)}}}function Pe(e,t){var s,a;return{c(){s=(0,o.az)("img"),this.h()},l(e){s=(0,o.d$)(e,"IMG",{src:!0,class:!0,alt:!0,"aria-hidden":!0},!1),(0,o.pI)(s).forEach(o.r2),this.h()},h(){s.src=a=t.item.url,s.className="compose-autosuggest-list-item-icon svelte-6wm839",s.alt="",(0,o.P$)(s,"aria-hidden","true")},m(e,t){(0,o.$T)(e,s,t)},p(e,t){e.items&&a!==(a=t.item.url)&&(s.src=a)},d(e){e&&(0,o.r2)(s)}}}function Re(e,t,s){var a,i,r,n,l,c,u,d,h,m=s.ariaLabels[s.i];function p(e){return"account"===e.type?Ae:"hashtag"===e.type?Ee:Ce}var g=p(s),f=g(e,s);return{key:t,first:null,c(){a=(0,o.az)("li"),i=(0,o.az)("span"),r=(0,o.rw)(m),n=(0,o.rw)("\n      "),l=(0,o.az)("div"),f.c(),c=(0,o.rw)("\n  "),this.h()},l(e){a=(0,o.d$)(e,"LI",{id:!0,class:!0,role:!0,"aria-selected":!0},!1);var t=(0,o.pI)(a);i=(0,o.d$)(t,"SPAN",{class:!0},!1);var s=(0,o.pI)(i);r=(0,o.M4)(s,m),s.forEach(o.r2),n=(0,o.M4)(t,"\n      "),l=(0,o.d$)(t,"DIV",{class:!0,"aria-hidden":!0},!1);var u=(0,o.pI)(l);f.l(u),u.forEach(o.r2),c=(0,o.M4)(t,"\n  "),t.forEach(o.r2),this.h()},h(){i.className="sr-only",l.className="compose-autosuggest-list-grid svelte-6wm839",(0,o.P$)(l,"aria-hidden","true"),a._svelte={component:e,ctx:s},(0,o.NH)(a,"click",De),a.id=u="compose-autosuggest-active-item-"+s.realm+"-"+s.i,a.className=d="compose-autosuggest-list-item "+(s.i===s.selected?"selected":"")+" svelte-6wm839",(0,o.P$)(a,"role","option"),(0,o.P$)(a,"aria-selected",h=s.i===s.selected),this.first=a},m(e,t){(0,o.$T)(e,a,t),(0,o.R3)(a,i),(0,o.R3)(i,r),(0,o.R3)(a,n),(0,o.R3)(a,l),f.m(l,null),(0,o.R3)(a,c)},p(t,i){s=i,(t.ariaLabels||t.items)&&m!==(m=s.ariaLabels[s.i])&&(0,o.a_)(r,m),g===(g=p(s))&&f?f.p(t,s):(f.d(1),(f=g(e,s)).c(),f.m(l,null)),a._svelte.ctx=s,(t.realm||t.items)&&u!==(u="compose-autosuggest-active-item-"+s.realm+"-"+s.i)&&(a.id=u),(t.items||t.selected)&&d!==(d="compose-autosuggest-list-item "+(s.i===s.selected?"selected":"")+" svelte-6wm839")&&(a.className=d),(t.items||t.selected)&&h!==(h=s.i===s.selected)&&(0,o.P$)(a,"aria-selected",h)},d(e){e&&(0,o.r2)(a),f.d(),(0,o.ys)(a,"click",De)}}}function Me(e){var t;if((0,o.S1)(this,e),this.store=i.h,this._state=(0,o.f0)(this.store._init(["omitEmojiInDisplayNames","isVeryTinyMobileSize"]),e.data),this.store._add(this,["omitEmojiInDisplayNames","isVeryTinyMobileSize"]),this._recompute({items:1,type:1,$omitEmojiInDisplayNames:1},this._state),this._intro=!0,this._handlers.destroy=[o.iT],document.getElementById("svelte-6wm839-style")||((t=(0,o.az)("style")).id="svelte-6wm839-style",t.textContent='.compose-autosuggest-list.svelte-6wm839{list-style:none;width:100%;border-radius:2px;box-sizing:border-box;border:1px solid var(--compose-autosuggest-outline)}.compose-autosuggest-list-item.svelte-6wm839{border-bottom:1px solid var(--compose-autosuggest-outline);display:flex;padding:10px;background:var(--settings-list-item-bg);margin:0;flex:1;cursor:pointer}.compose-autosuggest-list-item.svelte-6wm839:last-child{border-bottom:none}.compose-autosuggest-list-grid.svelte-6wm839{display:grid;width:100%;grid-template-areas:"icon     display-name"\n                         "icon     username";grid-template-columns:min-content 1fr;grid-column-gap:10px;grid-row-gap:5px}.compose-autosuggest-list-item-avatar{grid-area:icon}.compose-autosuggest-list-item-icon{grid-area:icon;width:48px;height:48px;object-fit:contain;fill:var(--deemphasized-text-color)}.compose-autosuggest-list-item-native-emoji.svelte-6wm839{font-family:PinaforeEmoji;font-size:32px;line-height:1;display:flex;justify-content:center;align-items:center}.compose-autosuggest-list-display-name.svelte-6wm839{grid-area:display-name;font-size:1.1em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0;text-align:left}.compose-autosuggest-list-display-name-single.svelte-6wm839{grid-row:1 / 3;align-self:center}.compose-autosuggest-list-username.svelte-6wm839{grid-area:username;font-size:1em;color:var(--deemphasized-text-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:left}.compose-autosuggest-list-item.svelte-6wm839:hover,.compose-autosuggest-list-item.selected.svelte-6wm839{background:var(--compose-autosuggest-item-hover)}.compose-autosuggest-list-item.svelte-6wm839:active{background:var(--compose-autosuggest-item-active)}@media(max-width: 320px){.compose-autosuggest-list-item.svelte-6wm839{padding:5px}.compose-autosuggest-list-grid.svelte-6wm839{grid-column-gap:5px}.compose-autosuggest-list-item-icon{width:24px;height:24px}.compose-autosuggest-list-item-native-emoji.svelte-6wm839{font-size:18px}}',(0,o.R3)(document.head,t)),this._fragment=function(e,t){var s,a,i=[],r=(0,o.L7)(),n=t.items;const l=e=>e.item.shortcodes?`emoji-${e.item.unicode||e.item.name}`:e.item.id?`account-${e.item.id}`:`hashtag-${e.item.name}`;for(var c=0;c<n.length;c+=1){let s=Te(t,n,c),o=l(s);i[c]=r[o]=Re(e,o,s)}return{c(){for(s=(0,o.az)("ul"),c=0;c<i.length;c+=1)i[c].c();this.h()},l(e){s=(0,o.d$)(e,"UL",{id:!0,class:!0,role:!0},!1);var t=(0,o.pI)(s);for(c=0;c<i.length;c+=1)i[c].l(t);t.forEach(o.r2),this.h()},h(){s.id=a="compose-autosuggest-list-"+t.realm,s.className="compose-autosuggest-list svelte-6wm839",(0,o.P$)(s,"role","listbox")},m(e,t){for((0,o.$T)(e,s,t),c=0;c<i.length;c+=1)i[c].m(s,null)},p(t,n){const c=n.items;i=(0,o.$q)(i,e,t,l,1,n,c,r,s,o.pp,Re,"m",null,Te),t.realm&&a!==(a="compose-autosuggest-list-"+n.realm)&&(s.id=a)},d(e){for(e&&(0,o.r2)(s),c=0;c<i.length;c+=1)i[c].d()}}}(this,this._state),e.target){var s=(0,o.pI)(e.target);e.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(Me.prototype,o.uS),(0,o.f0)(Me.prototype,Fe),Me.prototype._recompute=function(e,t){(e.items||e.type||e.$omitEmojiInDisplayNames)&&this._differs(t.ariaLabels,t.ariaLabels=ze(t))&&(e.ariaLabels=!0)};const Le=Me;var je={observe:R.N7,once:function(e,t){const s=this.on(e,(e=>{s.cancel(),t(e)}))},onClick(e){this.store.setForCurrentAutosuggest({autosuggestSelecting:!0}),this.fire("autosuggestItemSelected"),P(e)}};function We(){this._promiseChain=Promise.resolve(),this.observe("shouldBeShown",(e=>{this._promiseChain=this._promiseChain.then((()=>{if(!e)return Promise.race([new Promise((e=>setTimeout(e,200))),new Promise((e=>this.once("autosuggestItemSelected",e)))])})).then((()=>{this.set({shown:e}),this.store.setForCurrentAutosuggest({autosuggestSelecting:!1})}))}))}function qe(e){var t,s,a,r,n,l,c;if((0,o.S1)(this,e),this.store=i.h,this._state=(0,o.f0)((0,o.f0)(this.store._init(["autosuggestData_composeSelectionStart","currentInstance","autosuggestData_composeFocused","autosuggestData_autosuggestSearchResults","autosuggestData_autosuggestType","autosuggestData_autosuggestSelected","autosuggestShown"]),{shown:!1,top:0}),e.data),this.store._add(this,["autosuggestData_composeSelectionStart","currentInstance","autosuggestData_composeFocused","autosuggestData_autosuggestSearchResults","autosuggestData_autosuggestType","autosuggestData_autosuggestSelected","autosuggestShown"]),this._recompute({$autosuggestData_composeSelectionStart:1,$currentInstance:1,realm:1,$autosuggestData_composeFocused:1,$autosuggestData_autosuggestSearchResults:1,$autosuggestData_autosuggestType:1,$autosuggestData_autosuggestSelected:1,$autosuggestShown:1,composeFocused:1},this._state),this._intro=!0,this._handlers.destroy=[o.iT],document.getElementById("svelte-9dxfw1-style")||((t=(0,o.az)("style")).id="svelte-9dxfw1-style",t.textContent=".compose-autosuggest.svelte-9dxfw1{position:absolute;z-index:90;--autosuggest-input-left:0;--autosuggest-left-offset:5px;left:calc(var(--autosuggest-input-left) + var(--autosuggest-left-offset))}.compose-autosuggest.not-shown.svelte-9dxfw1{display:none}@media(min-width: 480px){.compose-autosuggest.svelte-9dxfw1{min-width:400px;max-width:calc(100% - 20px)}}@media(max-width: 479px){.compose-autosuggest.svelte-9dxfw1{--autosuggest-left-offset:10px;left:var(--autosuggest-left-offset);width:calc(100vw - (2 * var(--autosuggest-left-offset)))}}@media(max-width: 240px){.compose-autosuggest.svelte-9dxfw1{--autosuggest-left-offset:5px}.compose-autosuggest.is-dialog.svelte-9dxfw1{--autosuggest-left-offset:10px}}",(0,o.R3)(document.head,t)),this._fragment=(s=this,a=this._state,l={items:a.autosuggestSearchResults,type:a.autosuggestType,selected:a.autosuggestSelected,realm:a.realm},(c=new Le({root:s.root,store:s.store,data:l})).on("click",(function(e){s.onClick(e)})),{c(){r=(0,o.az)("div"),c._fragment.c(),this.h()},l(e){r=(0,o.d$)(e,"DIV",{class:!0,style:!0},!1);var t=(0,o.pI)(r);c._fragment.l(t),t.forEach(o.r2),this.h()},h(){r.className=n="compose-autosuggest "+(a.shown?"":"not-shown")+" "+("dialog"===a.realm?"is-dialog":"")+" svelte-9dxfw1",(0,o.A_)(r,"top",a.top+"px"),(0,o.A_)(r,"--autosuggest-input-left",a.left+"px")},m(e,t){(0,o.$T)(e,r,t),c._mount(r,null)},p(e,t){var s={};e.autosuggestSearchResults&&(s.items=t.autosuggestSearchResults),e.autosuggestType&&(s.type=t.autosuggestType),e.autosuggestSelected&&(s.selected=t.autosuggestSelected),e.realm&&(s.realm=t.realm),c._set(s),(e.shown||e.realm)&&n!==(n="compose-autosuggest "+(t.shown?"":"not-shown")+" "+("dialog"===t.realm?"is-dialog":"")+" svelte-9dxfw1")&&(r.className=n),e.top&&(0,o.A_)(r,"top",t.top+"px"),e.left&&(0,o.A_)(r,"--autosuggest-input-left",t.left+"px")},d(e){e&&(0,o.r2)(r),c.destroy()}}),this.root._oncreate.push((()=>{We.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),e.target){var u=(0,o.pI)(e.target);e.hydrate?this._fragment.l(u):this._fragment.c(),u.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(qe.prototype,o.uS),(0,o.f0)(qe.prototype,je),qe.prototype._recompute=function(e,t){(e.$autosuggestData_composeSelectionStart||e.$currentInstance||e.realm)&&this._differs(t.composeSelectionStart,t.composeSelectionStart=function({$autosuggestData_composeSelectionStart:e,$currentInstance:t,realm:s}){return(0,M.U2)(e,[t,s],0)}(t))&&(e.composeSelectionStart=!0),(e.$autosuggestData_composeFocused||e.$currentInstance||e.realm)&&this._differs(t.composeFocused,t.composeFocused=function({$autosuggestData_composeFocused:e,$currentInstance:t,realm:s}){return(0,M.U2)(e,[t,s],!1)}(t))&&(e.composeFocused=!0),(e.$autosuggestData_autosuggestSearchResults||e.$currentInstance||e.realm)&&this._differs(t.autosuggestSearchResults,t.autosuggestSearchResults=function({$autosuggestData_autosuggestSearchResults:e,$currentInstance:t,realm:s}){return(0,M.U2)(e,[t,s],[])}(t))&&(e.autosuggestSearchResults=!0),(e.$autosuggestData_autosuggestType||e.$currentInstance||e.realm)&&this._differs(t.autosuggestType,t.autosuggestType=function({$autosuggestData_autosuggestType:e,$currentInstance:t,realm:s}){return(0,M.U2)(e,[t,s])}(t))&&(e.autosuggestType=!0),(e.$autosuggestData_autosuggestSelected||e.$currentInstance||e.realm)&&(this._differs(t.autosuggestSelected,t.autosuggestSelected=function({$autosuggestData_autosuggestSelected:e,$currentInstance:t,realm:s}){return(0,M.U2)(e,[t,s],0)}(t))&&(e.autosuggestSelected=!0),this._differs(t.autosuggestSearchText,t.autosuggestSearchText=function({$autosuggestData_autosuggestSelected:e,$currentInstance:t,realm:s}){return(0,M.U2)(e,[t,s])}(t))&&(e.autosuggestSearchText=!0)),(e.$autosuggestShown||e.composeFocused)&&this._differs(t.shouldBeShown,t.shouldBeShown=function({$autosuggestShown:e,composeFocused:t}){return!(!e||!t)}(t))&&(e.shouldBeShown=!0)};const Be=qe;var Ve=s(1638),Ze=s(3026);const Oe=(0,j.g)(requestAnimationFrame);var Ue={observe:R.N7,setup(){const{realm:e,text:t,dialogId:s}=this.get();requestAnimationFrame((()=>{const o=`the-autosuggest-container-${e}`;if(this._element=document.getElementById(o),!this._element){this._element=document.createElement("div"),this._element.id=o;("dialog"===e?document.querySelector(".modal-dialog-contents"):document.body).appendChild(this._element)}(0,L.b)((()=>{const{left:o,top:a}=this.calculateLeftAndTop();this._autosuggest=new Be({target:this._element,data:{realm:e,text:t,dialogId:s,left:o,top:a}}),this.observe("text",(e=>{this._autosuggest.set({text:e})}),{init:!1}),this.observe("shouldBeShown",(e=>{e&&this.onResize()})),(0,Ze.p)(this.onResize),(0,Ve.Sn)(this.onResize)}))}))},doResize(){const{shouldBeShown:e}=this.get();if(this._autosuggest&&e){const{left:e,top:t}=this.calculateLeftAndTop();this._autosuggest.set({left:e,top:t})}},calculateLeftAndTop(){const{anchor:e}=this.refs,{realm:t}=this.get(),{left:s,bottom:o}=e.getBoundingClientRect();return{left:s,top:o+("dialog"===t?0:(0,Ve.JX)().scrollTop)}}};function He(){const{dialogId:e}=this.get();this.onResize=()=>Oe((()=>this.doResize()));let t=!1;"dialog"===this.get().realm?(0,_.on)("dialogDidRender",this,(s=>{s!==e||t||(t=!0,this.setup())})):(t=!0,this.setup())}function Ke(){this._autosuggest&&(this._autosuggest.destroy(),this._autosuggest=null),this._element&&this._element.remove(),(0,Ze.D)(this.onResize),(0,Ve.KR)(this.onResize)}function Xe(e){var t,s,a;if((0,o.S1)(this,e),this.store=i.h,this.refs={},this._state=(0,o.f0)(this.store._init(["autosuggestData_composeFocused","currentInstance","autosuggestShown"]),e.data),this.store._add(this,["autosuggestData_composeFocused","currentInstance","autosuggestShown"]),this._recompute({$autosuggestData_composeFocused:1,$currentInstance:1,realm:1,$autosuggestShown:1,composeFocused:1},this._state),this._intro=!0,this._handlers.destroy=[Ke,o.iT],document.getElementById("svelte-1yc9zbr-style")||((t=(0,o.az)("style")).id="svelte-1yc9zbr-style",t.textContent=".compose-autosuggest-anchor-point.svelte-1yc9zbr{grid-area:autosuggest;width:100%;height:0}",(0,o.R3)(document.head,t)),this._fragment=(s=this,this._state,{c(){a=(0,o.az)("div"),this.h()},l(e){a=(0,o.d$)(e,"DIV",{class:!0},!1),(0,o.pI)(a).forEach(o.r2),this.h()},h(){a.className="compose-autosuggest-anchor-point svelte-1yc9zbr"},m(e,t){(0,o.$T)(e,a,t),s.refs.anchor=a},p:o.ZT,d(e){e&&(0,o.r2)(a),s.refs.anchor===a&&(s.refs.anchor=null)}}),this.root._oncreate.push((()=>{He.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),e.target){var r=(0,o.pI)(e.target);e.hydrate?this._fragment.l(r):this._fragment.c(),r.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(Xe.prototype,o.uS),(0,o.f0)(Xe.prototype,Ue),Xe.prototype._recompute=function(e,t){(e.$autosuggestData_composeFocused||e.$currentInstance||e.realm)&&this._differs(t.composeFocused,t.composeFocused=function({$autosuggestData_composeFocused:e,$currentInstance:t,realm:s}){return(0,M.U2)(e,[t,s],!1)}(t))&&(e.composeFocused=!0),(e.$autosuggestShown||e.composeFocused)&&this._differs(t.shouldBeShown,t.shouldBeShown=function({$autosuggestShown:e,composeFocused:t}){return!(!e||!t)}(t))&&(e.shouldBeShown=!0)};const Ye=Xe;var Ge=s(4736);const Je=[{value:300,label:"5 minutes"},{value:1800,label:"30 minutes"},{value:3600,label:"1 hour"},{value:21600,label:"6 hours"},{value:86400,label:"1 day"},{value:259200,label:"3 days"},{value:604800,label:"7 days"}],Qe=86400;function et(e,t){for(let s=0;s<e.options.length;s++){document.getElementById(`poll-option-${t}-${s}`).value=e.options[s]}}var tt={onChange(e){(0,z.F)((()=>{const{realm:t}=this.get(),s=document.getElementById(`poll-option-${t}-${e}`),o=this.store.getComposeData(t,"poll");o.options[e]=s.value,this.store.setComposeData(t,{poll:o}),this.store.save()}))},onMultipleChange(){(0,z.F)((()=>{const{realm:e}=this.get(),t=document.getElementById(`poll-option-multiple-${e}`),s=this.store.getComposeData(e,"poll");s.multiple=!!t.checked,this.store.setComposeData(e,{poll:s}),this.store.save()}))},onDeleteClick(e){(0,z.F)((()=>{const{realm:t}=this.get(),s=this.store.getComposeData(t,"poll");s.options.splice(e,1),this.store.setComposeData(t,{poll:s}),this.store.save(),et(s,t)}))},onAddClick(){(0,z.F)((()=>{const{realm:e}=this.get(),t=this.store.getComposeData(e,"poll");4!==!t.options.length&&t.options.push(""),this.store.setComposeData(e,{poll:t}),this.store.save()}))},onExpiryChange(e){(0,z.F)((()=>{const{realm:t}=this.get(),{value:s}=e.target,o=this.store.getComposeData(t,"poll");o.expiry=parseInt(s,10),this.store.setComposeData(t,{poll:o}),this.store.save()}))}};function st(){const{realm:e}=this.get(),t=this.store.getComposeData(e,"poll");et(t,e),document.getElementById(`poll-option-multiple-${e}`).checked=!!t.multiple,this.set({pollExpiryDefaultValue:t.expiry||Qe})}function ot(e,t,s){const o=Object.create(e);return o.option=t[s],o.i=s,o}function at(e){const{component:t,ctx:s}=this._svelte;t.onChange(s.i)}function it(e,t,s){const o=Object.create(e);return o.option=t[s],o.i=s,o}function rt(e,t){var s,i,r,n,l={label:(n=t.i,(0,c.A)(["Remove choice ",["index"]],{index:n+1})),href:"#fa-times",muted:!0},u=new a.Z({root:e.root,store:e.store,data:l});return u.on("click",(function(s){e.onDeleteClick(t.i)})),{c(){s=(0,o.az)("input"),r=(0,o.rw)("\n      "),u._fragment.c(),this.h()},l(e){s=(0,o.d$)(e,"INPUT",{id:!0,type:!0,maxlength:!0,placeholder:!0},!1),(0,o.pI)(s).forEach(o.r2),r=(0,o.M4)(e,"\n      "),u._fragment.l(e),this.h()},h(){s._svelte={component:e,ctx:t},(0,o.NH)(s,"change",at),s.id=i="poll-option-"+t.realm+"-"+t.i,(0,o.P$)(s,"type","text"),s.maxLength="25",s.placeholder=function(e){return(0,c.A)(["Choice ",["index"]],{index:e+1})}(t.i)},m(e,t){(0,o.$T)(e,s,t),(0,o.$T)(e,r,t),u._mount(e,t)},p(e,o){t=o,s._svelte.ctx=t,e.realm&&i!==(i="poll-option-"+t.realm+"-"+t.i)&&(s.id=i)},d(e){e&&(0,o.r2)(s),(0,o.ys)(s,"change",at),e&&(0,o.r2)(r),u.destroy(e)}}}function nt(e,t){var s,a,i,r,n,l,c=t.i+1;return{c(){s=(0,o.az)("label"),a=(0,o.rw)("Choice "),i=(0,o.rw)(c),r=(0,o.rw)("\n    "),this.h()},l(e){s=(0,o.d$)(e,"LABEL",{id:!0,class:!0,for:!0},!1);var t=(0,o.pI)(s);a=(0,o.M4)(t,"Choice "),i=(0,o.M4)(t,c),r=(0,o.M4)(t,"\n    "),t.forEach(o.r2),this.h()},h(){s.id=n="poll-option-label-"+t.realm+"-"+t.i,s.className="sr-only",s.htmlFor=l="poll-option-"+t.realm+"-"+t.i},m(e,t){(0,o.$T)(e,s,t),(0,o.R3)(s,a),(0,o.R3)(s,i),(0,o.R3)(s,r)},p(e,t){e.realm&&n!==(n="poll-option-label-"+t.realm+"-"+t.i)&&(s.id=n),e.realm&&l!==(l="poll-option-"+t.realm+"-"+t.i)&&(s.htmlFor=l)},d(e){e&&(0,o.r2)(s)}}}function lt(e){var t;if((0,o.S1)(this,e),this.store=i.h,this._state=(0,o.f0)({pollExpiryOptions:Je,pollExpiryDefaultValue:Qe},e.data),this._intro=!0,document.getElementById("svelte-1iat7bs-style")||((t=(0,o.az)("style")).id="svelte-1iat7bs-style",t.textContent=".compose-poll.svelte-1iat7bs{margin:10px 0 10px 5px;display:grid;grid-template-columns:minmax(0, max-content) max-content;grid-row-gap:10px;align-items:center}.poll-expiry-select{margin-left:10px}.multiple-choice-label.svelte-1iat7bs{margin-left:5px}@media(max-width: 767px){.poll-expiry-select{display:block;margin-left:0;margin-top:10px}.add-poll-choice-button{align-self:flex-start}}",(0,o.R3)(document.head,t)),this._fragment=function(e,t){for(var s,i,r,n,l,c,u,d,h,m,p,g,f=t.poll.options,v=[],y=0;y<f.length;y+=1)v[y]=rt(e,it(t,f,y));function b(t){e.onMultipleChange()}var x={className:"poll-expiry-select",options:t.pollExpiryOptions,defaultValue:t.pollExpiryDefaultValue,label:"Poll duration"},_=new Ge.Z({root:e.root,store:e.store,data:x});_.on("change",(function(t){e.onExpiryChange(t)}));var w={className:"add-poll-choice-button",label:"Add choice",href:"#fa-plus",muted:!0,disabled:4===t.poll.options.length},k=new a.Z({root:e.root,store:e.store,data:w});k.on("click",(function(t){e.onAddClick()}));var S=t.poll.options,$=[];for(y=0;y<S.length;y+=1)$[y]=nt(0,ot(t,S,y));return{c(){s=(0,o.az)("section");for(var e=0;e<v.length;e+=1)v[e].c();for(i=(0,o.rw)("\n  "),r=(0,o.az)("div"),n=(0,o.az)("input"),c=(0,o.rw)("\n    "),u=(0,o.az)("label"),d=(0,o.rw)("Multiple choice"),m=(0,o.rw)("\n    "),_._fragment.c(),p=(0,o.rw)("\n  "),k._fragment.c(),g=(0,o.rw)("\n  "),e=0;e<$.length;e+=1)$[e].c();this.h()},l(e){s=(0,o.d$)(e,"SECTION",{class:!0,"aria-label":!0},!1);for(var t=(0,o.pI)(s),a=0;a<v.length;a+=1)v[a].l(t);i=(0,o.M4)(t,"\n  "),r=(0,o.d$)(t,"DIV",{},!1);var l=(0,o.pI)(r);n=(0,o.d$)(l,"INPUT",{type:!0,id:!0},!1),(0,o.pI)(n).forEach(o.r2),c=(0,o.M4)(l,"\n    "),u=(0,o.d$)(l,"LABEL",{class:!0,for:!0},!1);var h=(0,o.pI)(u);for(d=(0,o.M4)(h,"Multiple choice"),h.forEach(o.r2),m=(0,o.M4)(l,"\n    "),_._fragment.l(l),l.forEach(o.r2),p=(0,o.M4)(t,"\n  "),k._fragment.l(t),g=(0,o.M4)(t,"\n  "),a=0;a<$.length;a+=1)$[a].l(t);t.forEach(o.r2),this.h()},h(){(0,o.NH)(n,"change",b),(0,o.P$)(n,"type","checkbox"),n.id=l="poll-option-multiple-"+t.realm,u.className="multiple-choice-label svelte-1iat7bs",u.htmlFor=h="poll-option-multiple-"+t.realm,s.className="compose-poll svelte-1iat7bs",(0,o.P$)(s,"aria-label","Create poll")},m(e,t){(0,o.$T)(e,s,t);for(var a=0;a<v.length;a+=1)v[a].m(s,null);for((0,o.R3)(s,i),(0,o.R3)(s,r),(0,o.R3)(r,n),(0,o.R3)(r,c),(0,o.R3)(r,u),(0,o.R3)(u,d),(0,o.R3)(r,m),_._mount(r,null),(0,o.R3)(s,p),k._mount(s,null),(0,o.R3)(s,g),a=0;a<$.length;a+=1)$[a].m(s,null)},p(t,o){if(t.realm||t.poll){f=o.poll.options;for(var a=0;a<f.length;a+=1){const r=it(o,f,a);v[a]?v[a].p(t,r):(v[a]=rt(e,r),v[a].c(),v[a].m(s,i))}for(;a<v.length;a+=1)v[a].d(1);v.length=f.length}t.realm&&l!==(l="poll-option-multiple-"+o.realm)&&(n.id=l),t.realm&&h!==(h="poll-option-multiple-"+o.realm)&&(u.htmlFor=h);var r={};t.pollExpiryOptions&&(r.options=o.pollExpiryOptions),t.pollExpiryDefaultValue&&(r.defaultValue=o.pollExpiryDefaultValue),_._set(r);var c={};if(t.poll&&(c.disabled=4===o.poll.options.length),k._set(c),t.realm||t.poll){for(S=o.poll.options,a=0;a<S.length;a+=1){const e=ot(o,S,a);$[a]?$[a].p(t,e):($[a]=nt(0,e),$[a].c(),$[a].m(s,null))}for(;a<$.length;a+=1)$[a].d(1);$.length=S.length}},d(e){e&&(0,o.r2)(s),(0,o.kw)(v,e),(0,o.ys)(n,"change",b),_.destroy(),k.destroy(),(0,o.kw)($,e)}}}(this,this._state),this.root._oncreate.push((()=>{st.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),e.target){var s=(0,o.pI)(e.target);e.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(lt.prototype,o.uS),(0,o.f0)(lt.prototype,tt);const ct=lt;var ut={observe:R.N7,setupSyncToStore(){this.observe("rawChecked",(()=>{(0,z.F)((()=>{const{realm:e}=this.get(),{rawChecked:t}=this.get();this.store.getComposeData(e,"sensitive")!==t&&(this.store.setComposeData(e,{sensitive:t}),this.store.save())}))}),{init:!1})},setupSyncFromStore(){this.observe("sensitive",(e=>{this.set({rawChecked:e})}))}};function dt(){this.setupSyncToStore(),this.setupSyncFromStore()}function ht(e,t){var s,a,i,r,n,l,c;function u(){e.set({rawChecked:i.checked})}return{c(){s=(0,o.az)("div"),a=(0,o.az)("label"),i=(0,o.az)("input"),r=(0,o.rw)("\n      "),n=(0,o.az)("span"),l=(0,o.rw)("Mark media as sensitive"),this.h()},l(e){s=(0,o.d$)(e,"DIV",{class:!0},!1);var t=(0,o.pI)(s);a=(0,o.d$)(t,"LABEL",{class:!0},!1);var c=(0,o.pI)(a);i=(0,o.d$)(c,"INPUT",{type:!0,disabled:!0},!1),(0,o.pI)(i).forEach(o.r2),r=(0,o.M4)(c,"\n      "),n=(0,o.d$)(c,"SPAN",{class:!0},!1);var u=(0,o.pI)(n);l=(0,o.M4)(u,"Mark media as sensitive"),u.forEach(o.r2),c.forEach(o.r2),t.forEach(o.r2),this.h()},h(){(0,o.NH)(i,"change",u),(0,o.P$)(i,"type","checkbox"),i.disabled=t.disabled,n.className=c=(t.disabled?"compose-sensitive-span-disabled":"")+" svelte-1ppizof",a.className="svelte-1ppizof",s.className="compose-media-sensitive svelte-1ppizof"},m(e,c){(0,o.$T)(e,s,c),(0,o.R3)(s,a),(0,o.R3)(a,i),i.checked=t.rawChecked,(0,o.R3)(a,r),(0,o.R3)(a,n),(0,o.R3)(n,l)},p(e,t){e.rawChecked&&(i.checked=t.rawChecked),e.disabled&&(i.disabled=t.disabled),e.disabled&&c!==(c=(t.disabled?"compose-sensitive-span-disabled":"")+" svelte-1ppizof")&&(n.className=c)},d(e){e&&(0,o.r2)(s),(0,o.ys)(i,"change",u)}}}function mt(e){var t,s,a,i,r;if((0,o.S1)(this,e),this._state=(0,o.f0)({rawChecked:!1},e.data),this._recompute({contentWarning:1,contentWarningShown:1},this._state),this._intro=!0,document.getElementById("svelte-1ppizof-style")||((t=(0,o.az)("style")).id="svelte-1ppizof-style",t.textContent=".compose-media-sensitive.svelte-1ppizof{grid-area:sensitive;margin-top:10px}label.svelte-1ppizof{padding:5px;display:flex;align-items:center;justify-content:flex-start}span.svelte-1ppizof{margin-left:5px}.compose-sensitive-span-disabled.svelte-1ppizof{color:var(--deemphasized-text-color)}@media(max-width: 767px){.compose-media-sensitive.svelte-1ppizof{margin-top:0}}@media(max-width: 320px){span.svelte-1ppizof{font-size:0.9em}}",(0,o.R3)(document.head,t)),this._fragment=(s=this,a=this._state,r=a.media.length&&ht(s,a),{c(){r&&r.c(),i=(0,o.Yr)()},l(e){r&&r.l(e),i=(0,o.Yr)()},m(e,t){r&&r.m(e,t),(0,o.$T)(e,i,t)},p(e,t){t.media.length?r?r.p(e,t):((r=ht(s,t)).c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&(0,o.r2)(i)}}),this.root._oncreate.push((()=>{dt.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),e.target){var n=(0,o.pI)(e.target);e.hydrate?this._fragment.l(n):this._fragment.c(),n.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(mt.prototype,o.uS),(0,o.f0)(mt.prototype,ut),mt.prototype._recompute=function(e,t){(e.contentWarning||e.contentWarningShown)&&this._differs(t.disabled,t.disabled=function({contentWarning:e,contentWarningShown:t}){return e&&t}(t))&&(e.disabled=!0)};const pt=mt;var gt=s(2222),ft=s(2962),vt=s(2595),yt=s(9555);function bt(e,t){const{reduceMotion:s}=i.h.get();return s?{delay:0,duration:1,easing:e=>e,css:yt.default}:(0,vt.Z)(e,t)}var xt=s(6494),_t=s(9246),wt=s(1786),kt=s(2909),St=s(825),$t=s(1632);const It={direct:1,private:2,unlisted:3,public:4};var zt={async doPostStatus(){const{aboutToPostStatus:e}=this.get(),{postingStatus:t}=this.store.get();e||t||(this.set({aboutToPostStatus:!0}),(0,z.F)((()=>{this.set({aboutToPostStatus:!1}),this.doPostStatusAfterDelay()})))},doPostStatusAfterDelay(){const{text:e,media:t,postPrivacyKey:s,contentWarning:o,realm:a,overLimit:r,inReplyToUuid:n,inReplyToId:l,poll:u,sensitive:d}=this.get(),h=t.map((e=>e.data.id)),m=t.map((e=>e.description)),p=t.map((e=>[e.focusX,e.focusY])),g=l||("home"===a||"dialog"===a?null:a);if(r||!e&&!t.length)return;const f=u&&u.options&&u.options.length;if(f&&(u.options.length<2||!u.options.every(Boolean)))return;!async function(e,t,s,o,a,r,n,l,u,d,h){const{currentInstance:m,accessToken:p,online:g}=i.h.get();if(!g)return void xt.A.say("You cannot post while offline");t=t||"";const f=(o||[]).map(((e,t)=>({description:l&&l[t],focalPoint:h&&h[t]})));i.h.set({postingStatus:!0});try{await Promise.all(f.map((async({description:e,focalPoint:t},s)=>{if(e=e||"",(t=t||[0,0])[0]=t[0]||0,t[1]=t[1]||0,e||t[0]||t[1])return(0,St._)(m,p,o[s],e,t)})));const l=await(0,_t.cf)(m,p,t,s,o,a,r,n,d,h);(0,wt.I)(m,"home",l),i.h.clearComposeData(e),(0,_.j)("postedStatus",e,u),(0,z.F)((()=>(o||[]).forEach((e=>kt.F.deleteCachedMediaFile(e)))))}catch(v){console.error(v),xt.A.say((0,c.A)(["Unable to post toot: ",["error"]],{error:v.message||""}))}finally{i.h.set({postingStatus:!1})}}(a,e,g,h,d,o,s,m,n,f&&{expires_in:(u.expiry||Qe).toString(),multiple:!!u.multiple,options:u.options},p)}};function Ft(){const{realm:e,replySpoiler:t,replyVisibility:s}=this.get();"home"!==e&&"dialog"!==e&&async function(e){const{currentInstance:t}=i.h.get(),s=await kt.F.getStatus(t,e),{currentVerifyCredentials:o}=i.h.get(),a=s.reblog||s;let r=[a.account].concat(a.mentions||[]).filter((e=>e.id!==o.id));r=(0,$t.Z)(r,(e=>e.id)),!i.h.getComposeData(e,"text")&&r.length&&i.h.setComposeData(e,{text:r.map((e=>`@${e.acct} `)).join("")})}(e),t&&function(e,t){const s=i.h.getComposeData(e,"contentWarning");void 0!==i.h.getComposeData(e,"contentWarningShown")||s||i.h.setComposeData(e,{contentWarning:t,contentWarningShown:!0})}(e,t),s&&function(e,t){if(void 0!==i.h.getComposeData(e,"postPrivacy"))return;const{currentVerifyCredentials:s}=i.h.get(),o=s.source.privacy,a=It[t]<It[o]?t:o;i.h.setComposeData(e,{postPrivacy:a})}(e,s)}function Dt(e,t){var s,a;return{c(){s=(0,o.az)("h1"),a=(0,o.rw)("Compose toot"),this.h()},l(e){s=(0,o.d$)(e,"H1",{class:!0},!1);var t=(0,o.pI)(s);a=(0,o.M4)(t,"Compose toot"),t.forEach(o.r2),this.h()},h(){s.className="sr-only"},m(e,t){(0,o.$T)(e,s,t),(0,o.R3)(s,a)},d(e){e&&(0,o.r2)(s)}}}function Tt(e,t){var s,a,i,r={realm:t.realm,contentWarning:t.contentWarning},n=new xe({root:e.root,store:e.store,data:r});return{c(){s=(0,o.az)("div"),n._fragment.c(),this.h()},l(e){s=(0,o.d$)(e,"DIV",{class:!0},!1);var t=(0,o.pI)(s);n._fragment.l(t),t.forEach(o.r2),this.h()},h(){s.className="compose-content-warning-wrapper svelte-qt47aq"},m(e,t){(0,o.$T)(e,s,t),n._mount(s,null),i=!0},p(e,t){var s={};e.realm&&(s.realm=t.realm),e.contentWarning&&(s.contentWarning=t.contentWarning),n._set(s)},i(t,r){i||(e.root._intro&&(a&&a.invalidate(),e.root._aftercreate.push((()=>{a||(a=(0,o.HS)(e,s,bt,{duration:333},!0)),a.run(1)}))),this.m(t,r))},o(t){i&&(a||(a=(0,o.HS)(e,s,bt,{duration:333},!1)),a.run(0,(()=>{t(),a=null})),i=!1)},d(e){e&&(0,o.r2)(s),n.destroy(),e&&a&&a.abort()}}}function Ct(e,t){var s,a,i,r={realm:t.realm,poll:t.poll},n=new ct({root:e.root,store:e.store,data:r});return{c(){s=(0,o.az)("div"),n._fragment.c(),this.h()},l(e){s=(0,o.d$)(e,"DIV",{class:!0},!1);var t=(0,o.pI)(s);n._fragment.l(t),t.forEach(o.r2),this.h()},h(){s.className="compose-poll-wrapper svelte-qt47aq"},m(e,t){(0,o.$T)(e,s,t),n._mount(s,null),i=!0},p(e,t){var s={};e.realm&&(s.realm=t.realm),e.poll&&(s.poll=t.poll),n._set(s)},i(t,r){i||(e.root._intro&&(a&&a.invalidate(),e.root._aftercreate.push((()=>{a||(a=(0,o.HS)(e,s,bt,{duration:333},!0)),a.run(1)}))),this.m(t,r))},o(t){i&&(a||(a=(0,o.HS)(e,s,bt,{duration:333},!1)),a.run(0,(()=>{t(),a=null})),i=!1)},d(e){e&&(0,o.r2)(s),n.destroy(),e&&a&&a.abort()}}}function Et(e,t){var s,a;return{c(){s=(0,o.az)("div"),this.h()},l(e){s=(0,o.d$)(e,"DIV",{class:!0},!1),(0,o.pI)(s).forEach(o.r2),this.h()},h(){s.className=a="compose-box-border-bottom "+t.hideAndFadeIn+" svelte-qt47aq"},m(e,t){(0,o.$T)(e,s,t)},p(e,t){e.hideAndFadeIn&&a!==(a="compose-box-border-bottom "+t.hideAndFadeIn+" svelte-qt47aq")&&(s.className=a)},d(e){e&&(0,o.r2)(s)}}}function At(e){var t;if((0,o.S1)(this,e),this.store=i.h,this._state=(0,o.f0)((0,o.f0)(this.store._init(["currentComposeData","currentVerifyCredentials","maxStatusChars"]),{size:void 0,isReply:!1,autoFocus:!1,hideBottomBorder:!1,hidden:!1,dialogId:void 0,aboutToPostStatus:!1}),e.data),this.store._add(this,["currentComposeData","currentVerifyCredentials","maxStatusChars"]),this._recompute({$currentComposeData:1,realm:1,composeData:1,text:1,contentWarning:1,textLength:1,contentWarningLength:1,contentWarningShown:1,length:1,$maxStatusChars:1,$currentVerifyCredentials:1,defaultPostPrivacyKey:1,overLimit:1,size:1,postPrivacyKey:1,isReply:1,hidden:1},this._state),this._intro=!0,this._handlers.destroy=[o.iT],document.getElementById("svelte-qt47aq-style")||((t=(0,o.az)("style")).id="svelte-qt47aq-style",t.textContent='.compose-box.svelte-qt47aq{border-radius:4px;padding:20px 20px 0 20px;display:grid;align-items:flex-start;grid-template-areas:"avatar name        handle      handle"\n      "avatar cw          cw          cw"\n      "avatar input       input       input"\n      "avatar gauge       gauge       gauge"\n      "avatar autosuggest autosuggest autosuggest"\n      "avatar poll        poll        poll"\n      "avatar toolbar     toolbar     length"\n      "avatar media       media       media"\n      "avatar sensitive   sensitive   sensitive";grid-template-columns:min-content minmax(0, max-content) 1fr 1fr;position:relative}.compose-box.direct-reply.svelte-qt47aq{background-color:var(--status-direct-background)}.compose-box-fade-in{transition:opacity 0.2s linear}.compose-box-border-bottom.svelte-qt47aq{height:1px;background:var(--main-border);width:100%}.compose-content-warning-wrapper.svelte-qt47aq{grid-area:cw}.compose-poll-wrapper.svelte-qt47aq{grid-area:poll}@media(max-width: 767px){.compose-box.svelte-qt47aq{padding:10px 10px 0 10px}.compose-box-realm-dialog.svelte-qt47aq{overflow-x:hidden}}@media(max-width: 240px){.compose-box.svelte-qt47aq{padding:10px 5px 0 5px}}',(0,o.R3)(document.head,t)),this._fragment=function(e,t){var s,a,i,r,n,l,c,u,d,m,p,f,v,b,x,_="home"===t.realm&&Dt(),w={realm:t.realm,dialogId:t.dialogId},k=new $({root:e.root,store:e.store,data:w}),S=t.contentWarningShown&&Tt(e,t),I={realm:t.realm,text:t.text,autoFocus:t.autoFocus},z=new U({root:e.root,store:e.store,data:I});z.on("postAction",(function(t){e.doPostStatus()}));var F={length:t.length,overLimit:t.overLimit},D=new g({root:e.root,store:e.store,data:F}),T={realm:t.realm,text:t.text,dialogId:t.dialogId},C=new Ye({root:e.root,store:e.store,data:T}),E=t.poll&&t.poll.options&&t.poll.options.length&&Ct(e,t),A={realm:t.realm,postPrivacy:t.postPrivacy,media:t.media,contentWarningShown:t.contentWarningShown,text:t.text,poll:t.poll},N=new h({root:e.root,store:e.store,data:A}),P={length:t.length,overLimit:t.overLimit},R=new y({root:e.root,store:e.store,data:P}),M={realm:t.realm,media:t.media},L=new ge({root:e.root,store:e.store,data:M}),j={realm:t.realm,media:t.media,sensitive:t.sensitive,contentWarning:t.contentWarning,contentWarningShown:t.contentWarningShown},W=new pt({root:e.root,store:e.store,data:j}),q={realm:t.realm},B=new $e({root:e.root,store:e.store,slots:{default:(0,o.xJ)()},data:q}),V={showSticky:t.showSticky,overLimit:t.overLimit,hideAndFadeIn:t.hideAndFadeIn},Z=new se({root:e.root,store:e.store,data:V});Z.on("postAction",(function(t){e.doPostStatus()}));var O=!t.hideBottomBorder&&Et(0,t);return{c(){_&&_.c(),s=(0,o.rw)("\n"),a=(0,o.az)("div"),k._fragment.c(),i=(0,o.rw)("\n    "),S&&S.c(),r=(0,o.rw)("\n    "),z._fragment.c(),n=(0,o.rw)("\n    "),D._fragment.c(),l=(0,o.rw)("\n    "),C._fragment.c(),c=(0,o.rw)("\n    "),E&&E.c(),u=(0,o.rw)("\n    "),N._fragment.c(),d=(0,o.rw)("\n    "),R._fragment.c(),m=(0,o.rw)("\n    "),L._fragment.c(),p=(0,o.rw)("\n    "),W._fragment.c(),B._fragment.c(),v=(0,o.rw)("\n"),Z._fragment.c(),b=(0,o.rw)("\n"),O&&O.c(),x=(0,o.Yr)(),this.h()},l(e){_&&_.l(e),s=(0,o.M4)(e,"\n"),a=(0,o.d$)(e,"DIV",{class:!0},!1);var t=(0,o.pI)(a);k._fragment.l(t),i=(0,o.M4)(t,"\n    "),S&&S.l(t),r=(0,o.M4)(t,"\n    "),z._fragment.l(t),n=(0,o.M4)(t,"\n    "),D._fragment.l(t),l=(0,o.M4)(t,"\n    "),C._fragment.l(t),c=(0,o.M4)(t,"\n    "),E&&E.l(t),u=(0,o.M4)(t,"\n    "),N._fragment.l(t),d=(0,o.M4)(t,"\n    "),R._fragment.l(t),m=(0,o.M4)(t,"\n    "),L._fragment.l(t),p=(0,o.M4)(t,"\n    "),W._fragment.l(t),t.forEach(o.r2),B._fragment.l(e),v=(0,o.M4)(e,"\n"),Z._fragment.l(e),b=(0,o.M4)(e,"\n"),O&&O.l(e),x=(0,o.Yr)(),this.h()},h(){a.className=f=t.computedClassName+" "+t.hideAndFadeIn+" svelte-qt47aq"},m(e,t){_&&_.m(e,t),(0,o.$T)(e,s,t),(0,o.R3)(B._slotted.default,a),k._mount(a,null),(0,o.R3)(a,i),S&&S.i(a,null),(0,o.R3)(a,r),z._mount(a,null),(0,o.R3)(a,n),D._mount(a,null),(0,o.R3)(a,l),C._mount(a,null),(0,o.R3)(a,c),E&&E.i(a,null),(0,o.R3)(a,u),N._mount(a,null),(0,o.R3)(a,d),R._mount(a,null),(0,o.R3)(a,m),L._mount(a,null),(0,o.R3)(a,p),W._mount(a,null),B._mount(e,t),(0,o.$T)(e,v,t),Z._mount(e,t),(0,o.$T)(e,b,t),O&&O.m(e,t),(0,o.$T)(e,x,t)},p(t,i){"home"===i.realm?_||((_=Dt()).c(),_.m(s.parentNode,s)):_&&(_.d(1),_=null);var n={};t.realm&&(n.realm=i.realm),t.dialogId&&(n.dialogId=i.dialogId),k._set(n),i.contentWarningShown?(S?S.p(t,i):(S=Tt(e,i))&&S.c(),S.i(a,r)):S&&((0,o.d8)(),S.o((function(){S.d(1),S=null})));var l={};t.realm&&(l.realm=i.realm),t.text&&(l.text=i.text),t.autoFocus&&(l.autoFocus=i.autoFocus),z._set(l);var c={};t.length&&(c.length=i.length),t.overLimit&&(c.overLimit=i.overLimit),D._set(c);var d={};t.realm&&(d.realm=i.realm),t.text&&(d.text=i.text),t.dialogId&&(d.dialogId=i.dialogId),C._set(d),i.poll&&i.poll.options&&i.poll.options.length?(E?E.p(t,i):(E=Ct(e,i))&&E.c(),E.i(a,u)):E&&((0,o.d8)(),E.o((function(){E.d(1),E=null})));var h={};t.realm&&(h.realm=i.realm),t.postPrivacy&&(h.postPrivacy=i.postPrivacy),t.media&&(h.media=i.media),t.contentWarningShown&&(h.contentWarningShown=i.contentWarningShown),t.text&&(h.text=i.text),t.poll&&(h.poll=i.poll),N._set(h);var m={};t.length&&(m.length=i.length),t.overLimit&&(m.overLimit=i.overLimit),R._set(m);var p={};t.realm&&(p.realm=i.realm),t.media&&(p.media=i.media),L._set(p);var g={};t.realm&&(g.realm=i.realm),t.media&&(g.media=i.media),t.sensitive&&(g.sensitive=i.sensitive),t.contentWarning&&(g.contentWarning=i.contentWarning),t.contentWarningShown&&(g.contentWarningShown=i.contentWarningShown),W._set(g),(t.computedClassName||t.hideAndFadeIn)&&f!==(f=i.computedClassName+" "+i.hideAndFadeIn+" svelte-qt47aq")&&(a.className=f);var v={};t.realm&&(v.realm=i.realm),B._set(v);var y={};t.showSticky&&(y.showSticky=i.showSticky),t.overLimit&&(y.overLimit=i.overLimit),t.hideAndFadeIn&&(y.hideAndFadeIn=i.hideAndFadeIn),Z._set(y),i.hideBottomBorder?O&&(O.d(1),O=null):O?O.p(t,i):((O=Et(0,i)).c(),O.m(x.parentNode,x))},d(e){_&&_.d(e),e&&(0,o.r2)(s),k.destroy(),S&&S.d(),z.destroy(),D.destroy(),C.destroy(),E&&E.d(),N.destroy(),R.destroy(),L.destroy(),W.destroy(),B.destroy(e),e&&(0,o.r2)(v),Z.destroy(e),e&&(0,o.r2)(b),O&&O.d(e),e&&(0,o.r2)(x)}}}(this,this._state),this.root._oncreate.push((()=>{Ft.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),e.target){var s=(0,o.pI)(e.target);e.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(e.target,e.anchor),(0,o.yl)(this)}}(0,o.f0)(At.prototype,o.uS),(0,o.f0)(At.prototype,zt),At.prototype._recompute=function(e,t){(e.$currentComposeData||e.realm)&&this._differs(t.composeData,t.composeData=function({$currentComposeData:e,realm:t}){return e[t]||{}}(t))&&(e.composeData=!0),e.composeData&&this._differs(t.text,t.text=function({composeData:e}){return e.text||""}(t))&&(e.text=!0),e.text&&this._differs(t.textLength,t.textLength=function({text:e}){return(0,gt.X)(e)}(t))&&(e.textLength=!0),e.composeData&&this._differs(t.contentWarning,t.contentWarning=function({composeData:e}){return e.contentWarning||""}(t))&&(e.contentWarning=!0),e.contentWarning&&this._differs(t.contentWarningLength,t.contentWarningLength=function({contentWarning:e}){return(0,gt.X)(e)}(t))&&(e.contentWarningLength=!0),e.composeData&&this._differs(t.contentWarningShown,t.contentWarningShown=function({composeData:e}){return e.contentWarningShown}(t))&&(e.contentWarningShown=!0),(e.textLength||e.contentWarningLength||e.contentWarningShown)&&this._differs(t.length,t.length=function({textLength:e,contentWarningLength:t,contentWarningShown:s}){return e+(s?t:0)}(t))&&(e.length=!0),(e.length||e.$maxStatusChars)&&this._differs(t.overLimit,t.overLimit=function({length:e,$maxStatusChars:t}){return e>t}(t))&&(e.overLimit=!0),e.$currentVerifyCredentials&&this._differs(t.defaultPostPrivacyKey,t.defaultPostPrivacyKey=function({$currentVerifyCredentials:e}){return e&&e.source.privacy||"public"}(t))&&(e.defaultPostPrivacyKey=!0),(e.composeData||e.defaultPostPrivacyKey)&&this._differs(t.postPrivacyKey,t.postPrivacyKey=function({composeData:e,defaultPostPrivacyKey:t}){return e.postPrivacy||t}(t))&&(e.postPrivacyKey=!0),(e.overLimit||e.realm||e.size||e.postPrivacyKey||e.isReply)&&this._differs(t.computedClassName,t.computedClassName=function({overLimit:e,realm:t,size:s,postPrivacyKey:o,isReply:a}){return(0,G.q)("compose-box",`compose-box-realm-${t}`,e&&"over-char-limit",a&&"direct"===o&&"direct-reply")}(t))&&(e.computedClassName=!0),e.hidden&&this._differs(t.hideAndFadeIn,t.hideAndFadeIn=function({hidden:e}){return(0,G.q)("compose-box-fade-in",e&&"hidden")}(t))&&(e.hideAndFadeIn=!0),e.realm&&this._differs(t.showSticky,t.showSticky=function({realm:e}){return"home"===e}(t))&&(e.showSticky=!0),e.composeData&&(this._differs(t.media,t.media=function({composeData:e}){return e.media||[]}(t))&&(e.media=!0),this._differs(t.poll,t.poll=function({composeData:e}){return e.poll}(t))&&(e.poll=!0),this._differs(t.inReplyToId,t.inReplyToId=function({composeData:e}){return e.inReplyToId}(t))&&(e.inReplyToId=!0)),e.postPrivacyKey&&this._differs(t.postPrivacy,t.postPrivacy=function({postPrivacyKey:e}){return ft.K5.find((t=>t.key===e))}(t))&&(e.postPrivacy=!0),e.composeData&&this._differs(t.sensitive,t.sensitive=function({composeData:e}){return!!e.sensitive}(t))&&(e.sensitive=!0)};const Nt=At},9246:(e,t,s)=>{"use strict";s.d(t,{cf:()=>i,j7:()=>r,lR:()=>n});var o=s(1029),a=s(8273);async function i(e,t,s,i,r,n,l,c,u){const d=`${(0,o.E)(e)}/api/v1/statuses`,h={status:s,in_reply_to_id:i,media_ids:r,sensitive:n,spoiler_text:l,visibility:c,poll:u};for(const o of Object.keys(h)){const e=h[o];"status"===o||e&&(!Array.isArray(e)||e.length)||delete h[o]}return(0,a.v_)(d,h,(0,o.I)(t),{timeout:a.$Q})}async function r(e,t,s){const i=`${(0,o.E)(e)}/api/v1/statuses/${s}/context`;return(0,a.U2)(i,(0,o.I)(t),{timeout:a.EH})}async function n(e,t,s){const i=`${(0,o.E)(e)}/api/v1/statuses/${s}`;return(0,a.U2)(i,(0,o.I)(t),{timeout:a.EH})}},2962:(e,t,s)=>{"use strict";s.d(t,{K5:()=>o,Ai:()=>a,W2:()=>i});const o=[{label:"Public",key:"public",icon:"#fa-globe"},{label:"Unlisted",key:"unlisted",icon:"#fa-unlock"},{label:"Followers-only",key:"private",icon:"#fa-lock"},{label:"Direct",key:"direct",icon:"#fa-envelope"}],a=1024,i="Long post"},8875:(e,t,s)=>{"use strict";s.d(t,{i:()=>d});var o=s(7569),a=s(624),i=s(1638);const r=(0,s(6849).g)(requestAnimationFrame),n=new Map;function l(e){if(!e||!e.nodeName||"TEXTAREA"!==e.nodeName||n.has(e))return;const t=(0,i.JX)();let s=null;function l(){(0,o.B)("autosize:resize()"),function(){const o=e.style.height,a=t.scrollTop;e.style.height="";const i=e.scrollHeight+s;0===e.scrollHeight?e.style.height=o:(e.style.height=`${i}px`,t.scrollTop=a)}(),(0,o.s)("autosize:resize()")}const c=()=>r(u);function u(){(0,o.B)("autosize:update()"),l(),(0,o.s)("autosize:update()")}const d=(0,a.Z)((()=>requestAnimationFrame(u)),1e3);window.addEventListener("resize",d,!1),e.addEventListener("input",c,!1),n.set(e,{destroy:()=>{window.removeEventListener("resize",d,!1),e.removeEventListener("input",c,!1),n.delete(e)},update:u}),function(){const t=window.getComputedStyle(e,null);s="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),u()}()}function c(e){const t=n.get(e);t&&t.destroy()}function u(e){const t=n.get(e);t&&t.update()}const d=(e,t)=>(e&&Array.prototype.forEach.call(e.length?e:[e],(e=>l(e))),e);d.destroy=e=>(e&&Array.prototype.forEach.call(e.length?e:[e],c),e),d.update=e=>(e&&Array.prototype.forEach.call(e.length?e:[e],u),e)},2222:(e,t,s)=>{"use strict";s.d(t,{X:()=>l});var o=s(6918);const a=(0,o.I)((()=>/((https?:\/\/)((?:(?:(?:[^/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$//\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000//\uFFFE\uFEFF\uFFFF\u202A-\u202E/](?:[_-]|[^/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$//\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000//\uFFFE\uFEFF\uFFFF\u202A-\u202E/])*)?[^/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$//\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000//\uFFFE\uFEFF\uFFFF\u202A-\u202E/]\.)*(?:(?:[^/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$//\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000//\uFFFE\uFEFF\uFFFF\u202A-\u202E/](?:-|[^/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$//\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000//\uFFFE\uFEFF\uFFFF\u202A-\u202E/])*)?[^/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$//\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000//\uFFFE\uFEFF\uFFFF\u202A-\u202E/]\.)(?:(?:(?:||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|vermgensberatung|vermgensberater|verisign|ventures|vegas|vanguard|vana|vacations|ups|uol|uno|university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|srt|srl|spreadbetting|spot|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|smart|sling|skype|sky|skin|ski|site|singles|sina|silk|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rugby|rsvp|room|rogers|rodeo|rocks|rocher|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|raid|radio|racing|qvc|quest|quebec|qpon|pwc|pub|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|pfizer|pet|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nike|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|nba|navy|natura|nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|msd|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|miami|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|mcd|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|jewelry|jetzt|jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|hyundai|hyatt|hughes|htc|hsbc|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|guru|guitars|guide|guge|gucci|guardian|group|grocery|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|genting|gent|gea|gdn|gbiz|garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|etisalat|esurance|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|dodge|doctor|docs|dnp|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|bcn|bcg|bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|autos|auto|author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|art|arpa|army|archi|aramco|arab|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|africa|afl|afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion)(?=[^0-9a-zA-Z@]|$))|(?:(?:||||||||||||||||||||||||||||||||||||||||||||||||||||||||zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@]|$))|(?:xn--[0-9a-z]+))))(?::([0-9]+))?(\/(?:(?:[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]*(?:\((?:[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]+|(?:[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]*\([^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]+\)[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]*))\)[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]*)*[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?!\*';:=\,\.\$%\[\]\u002d\u058a\u05be\u1400\u1806\u2010-\u2015\u2e17\u2e1a\u2e3a\u2e40\u301c\u3030\u30a0\ufe31\ufe58\ufe63\uff0d~&\|@]|(?:\((?:[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]+|(?:[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]*\([^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]+\)[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]*))\)))|(?:@[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]+\/))*)?(\?[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]*[a-z0-9_&=#\/])?)/gi)),i=(0,o.I)((()=>/(^|[^\/\w])@(([a-z0-9_]+)@[a-z0-9\.\-]+[a-z0-9]+)/gi));var r=s(7569),n=s(641);function l(e){if(!e)return 0;(0,r.B)("measureText()");const t=e.replace(a(),"xxxxxxxxxxxxxxxxxxxxxxx").replace(i(),"$1@$3"),s=(0,n.length)(t);return(0,r.s)("measureText()"),s}},3236:(e,t,s)=>{"use strict";s.d(t,{b:()=>n});const o=new MessageChannel,a=[];function i(e){try{e()}catch(t){console.error(t)}}function r(){o.port2.postMessage(void 0)}o.port1.onmessage=function(){for(const e of a)i(e);a.length=0};const n=e=>{1===a.push(e)&&requestAnimationFrame(r)}},6849:(e,t,s)=>{"use strict";s.d(t,{g:()=>o});const o=e=>{let t;const s=()=>{const e=t;t=null,e()};return o=>{t||e(s),t=o}}}}]);
//# sourceMappingURL=6905.82397d87349f028a6021.6905.js.map