(this.webpackChunkpinafore=this.webpackChunkpinafore||[]).push([[6957,6077],{7432:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var a=i(4178),s=i(267),n=i(2311);function o(t,e){var i=new n.Z({root:t.root,store:t.store,data:{className:"external-link-svg",href:"#fa-external-link"}});return{c(){i._fragment.c()},l(t){i._fragment.l(t)},m(t,e){i._mount(t,e)},d(t){i.destroy(t)}}}function r(t){var e,i,s,n,r,l,c;if((0,a.S1)(this,t),this._state=(0,a.f0)({className:void 0,normalIconColor:!1,ariaLabel:"",showIcon:!1},t.data),this._recompute({className:1,showIcon:1,normalIconColor:1},this._state),this._intro=!0,this._slotted=t.slots||{},document.getElementById("svelte-1lf6k2y-style")||((e=(0,a.az)("style")).id="svelte-1lf6k2y-style",e.textContent=".external-link-with-icon.svelte-1lf6k2y{display:inline-flex;align-items:center}.external-link-with-icon .external-link-svg{margin-left:4px;width:14px;height:14px;fill:var(--deemphasized-text-color)}.external-link-with-icon.normal-icon-color .external-link-svg{fill:var(--body-text-color)}",(0,a.R3)(document.head,e)),this._fragment=(i=this,s=this._state,l=i._slotted.default,c=s.showIcon&&o(i),{c(){n=(0,a.az)("a"),c&&c.c(),this.h()},l(t){n=(0,a.d$)(t,"A",{rel:!0,target:!0,href:!0,"aria-label":!0,class:!0},!1);var e=(0,a.pI)(n);c&&c.l(e),e.forEach(a.r2),this.h()},h(){n.rel="nofollow noopener",n.target="_blank",n.href=s.href,(0,a.P$)(n,"aria-label",s.ariaLabel),n.className=s.computedClass+" svelte-1lf6k2y"},m(t,e){(0,a.$T)(t,n,e),l&&((0,a.R3)(n,l),(0,a.R3)(n,r||(r=(0,a.Yr)()))),c&&c.m(n,null)},p(t,e){e.showIcon?c||((c=o(i)).c(),c.m(n,null)):c&&(c.d(1),c=null),t.href&&(n.href=e.href),t.ariaLabel&&(0,a.P$)(n,"aria-label",e.ariaLabel),t.computedClass&&(n.className=e.computedClass+" svelte-1lf6k2y")},d(t){t&&(0,a.r2)(n),l&&(0,a.LL)(r,l),c&&c.d()}}),t.target){var d=(0,a.pI)(t.target);t.hydrate?this._fragment.l(d):this._fragment.c(),d.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(r.prototype,a.uS),r.prototype._recompute=function(t,e){(t.className||t.showIcon||t.normalIconColor)&&this._differs(e.computedClass,e.computedClass=function({className:t,showIcon:e,normalIconColor:i}){return(0,s.q)("external-link",t,e&&"external-link-with-icon",i&&"normal-icon-color")}(e))&&(t.computedClass=!0)};const l=r},6957:(t,e,i)=>{"use strict";i.d(e,{Z:()=>$i});var a=i(4178),s=i(2322);function n(t){var e,i,n,o,r,l,c;if((0,a.S1)(this,t),this._state=(0,a.f0)(this.store._init(["isVeryTinyMobileSize"]),t.data),this.store._add(this,["isVeryTinyMobileSize"]),this._recompute({uuid:1,isStatusInOwnThread:1,$isVeryTinyMobileSize:1},this._state),this._intro=!0,this._handlers.destroy=[a.iT],document.getElementById("svelte-ov4ll5-style")||function(){var t=(0,a.az)("style");t.id="svelte-ov4ll5-style",t.textContent=".status-sidebar.svelte-ov4ll5{grid-area:sidebar;margin-right:15px}.status-sidebar.size-small.svelte-ov4ll5{width:48px;height:48px}.status-sidebar.size-medium.svelte-ov4ll5{width:64px;height:64px}@media(max-width: 767px){.status-sidebar.svelte-ov4ll5{margin-right:5px}}",(0,a.R3)(document.head,t)}(),this._fragment=(e=this,i=this._state,l={account:i.originalAccount,isLink:"true",size:i.size},c=new s.Z({root:e.root,store:e.store,data:l}),{c(){n=(0,a.az)("a"),c._fragment.c(),this.h()},l(t){n=(0,a.d$)(t,"A",{id:!0,class:!0,rel:!0,href:!0,"aria-hidden":!0,tabindex:!0},!1);var e=(0,a.pI)(n);c._fragment.l(e),e.forEach(a.r2),this.h()},h(){n.id=i.elementId,n.className=o="status-sidebar size-"+i.size+" svelte-ov4ll5",n.rel="prefetch",n.href=r="/accounts/"+i.originalAccountId,(0,a.P$)(n,"aria-hidden","true"),n.tabIndex="-1"},m(t,e){(0,a.$T)(t,n,e),c._mount(n,null)},p(t,e){var i={};t.originalAccount&&(i.account=e.originalAccount),t.size&&(i.size=e.size),c._set(i),t.elementId&&(n.id=e.elementId),t.size&&o!==(o="status-sidebar size-"+e.size+" svelte-ov4ll5")&&(n.className=o),t.originalAccountId&&r!==(r="/accounts/"+e.originalAccountId)&&(n.href=r)},d(t){t&&(0,a.r2)(n),c.destroy()}}),t.target){var d=(0,a.pI)(t.target);t.hydrate?this._fragment.l(d):this._fragment.c(),d.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(n.prototype,a.uS),n.prototype._recompute=function(t,e){t.uuid&&this._differs(e.elementId,e.elementId=function({uuid:t}){return`status-author-avatar-${t}`}(e))&&(t.elementId=!0),(t.isStatusInOwnThread||t.$isVeryTinyMobileSize)&&this._differs(e.size,e.size=function({isStatusInOwnThread:t,$isVeryTinyMobileSize:e}){return e?t?"small":"extra-small":t?"medium":"small"}(e))&&(t.size=!0)};const o=n;var r=i(1951),l=i(9867);function c(t){var e,i,s,n,o,r,c,d;if((0,a.S1)(this,t),this._state=(0,a.f0)({},t.data),this._recompute({uuid:1},this._state),this._intro=!0,document.getElementById("svelte-uewmy7-style")||function(){var t=(0,a.az)("style");t.id="svelte-uewmy7-style",t.textContent=".status-author-name.svelte-uewmy7{grid-area:author-name;align-self:center;margin-left:5px;font-size:1.1em;min-width:0;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.status-author-name.status-in-own-thread.svelte-uewmy7{font-size:1.3em}.status-author-name.svelte-uewmy7,.status-author-name.svelte-uewmy7:hover,.status-author-name.svelte-uewmy7:visited{color:var(--body-text-color)}.status-author-name.status-in-notification.svelte-uewmy7,.status-author-name.status-in-notification.svelte-uewmy7:hover,.status-author-name.status-in-notification.svelte-uewmy7:visited{color:var(--very-deemphasized-text-color)}",(0,a.R3)(document.head,t)}(),this._fragment=(e=this,i=this._state,c={account:i.originalAccount},d=new l.Z({root:e.root,store:e.store,data:c}),{c(){s=(0,a.az)("a"),d._fragment.c(),this.h()},l(t){s=(0,a.d$)(t,"A",{id:!0,class:!0,rel:!0,href:!0,title:!0},!1);var e=(0,a.pI)(s);d._fragment.l(e),e.forEach(a.r2),this.h()},h(){s.id=i.elementId,s.className=n="status-author-name "+(i.isStatusInNotification?"status-in-notification":"")+" "+(i.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-uewmy7",s.rel="prefetch",s.href=o="/accounts/"+i.originalAccountId,s.title=r="@"+i.originalAccount.acct},m(t,e){(0,a.$T)(t,s,e),d._mount(s,null)},p(t,e){var i={};t.originalAccount&&(i.account=e.originalAccount),d._set(i),t.elementId&&(s.id=e.elementId),(t.isStatusInNotification||t.isStatusInOwnThread)&&n!==(n="status-author-name "+(e.isStatusInNotification?"status-in-notification":"")+" "+(e.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-uewmy7")&&(s.className=n),t.originalAccountId&&o!==(o="/accounts/"+e.originalAccountId)&&(s.href=o),t.originalAccount&&r!==(r="@"+e.originalAccount.acct)&&(s.title=r)},d(t){t&&(0,a.r2)(s),d.destroy()}}),t.target){var u=(0,a.pI)(t.target);t.hydrate?this._fragment.l(u):this._fragment.c(),u.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(c.prototype,a.uS),c.prototype._recompute=function(t,e){t.uuid&&this._differs(e.elementId,e.elementId=function({uuid:t}){return`status-author-name-${t}`}(e))&&(t.elementId=!0)};const d=c;function u(t){var e,i,s,n,o;if((0,a.S1)(this,t),this._state=(0,a.f0)({},t.data),this._intro=!0,document.getElementById("svelte-y20z76-style")||function(){var t=(0,a.az)("style");t.id="svelte-y20z76-style",t.textContent=".status-author-handle.svelte-y20z76{grid-area:author-handle;align-self:center;margin-left:5px;color:var(--deemphasized-text-color);font-size:1.1em;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.status-author-handle.status-in-notification.svelte-y20z76{color:var(--very-deemphasized-text-color)}",(0,a.R3)(document.head,t)}(),this._fragment=(e=this._state,o="@"+e.originalAccount.acct,{c(){i=(0,a.az)("span"),s=(0,a.rw)(o),this.h()},l(t){i=(0,a.d$)(t,"SPAN",{class:!0},!1);var e=(0,a.pI)(i);s=(0,a.M4)(e,o),e.forEach(a.r2),this.h()},h(){i.className=n="status-author-handle "+(e.isStatusInNotification?"status-in-notification":"")+" svelte-y20z76"},m(t,e){(0,a.$T)(t,i,e),(0,a.R3)(i,s)},p(t,e){t.originalAccount&&o!==(o="@"+e.originalAccount.acct)&&(0,a.a_)(s,o),t.isStatusInNotification&&n!==(n="status-author-handle "+(e.isStatusInNotification?"status-in-notification":"")+" svelte-y20z76")&&(i.className=n)},d(t){t&&(0,a.r2)(i)}}),t.target){var r=(0,a.pI)(t.target);t.hydrate?this._fragment.l(r):this._fragment.c(),r.forEach(a.r2),this._mount(t.target,t.anchor)}}(0,a.f0)(u.prototype,a.uS);const h=u;var p=i(7265);function m(t){var e,i,s,n,o,r;if((0,a.S1)(this,t),this._state=(0,a.f0)(this.store._init(["disableTapOnStatus"]),t.data),this.store._add(this,["disableTapOnStatus"]),this._recompute({uuid:1,$disableTapOnStatus:1,shortInlineFormattedDate:1},this._state),this._intro=!0,this._handlers.destroy=[a.iT],document.getElementById("svelte-c85ksd-style")||function(){var t=(0,a.az)("style");t.id="svelte-c85ksd-style",t.textContent=".status-relative-date.svelte-c85ksd{grid-area:relative-date;align-self:center;margin-left:5px;margin-right:10px;font-size:1.1em;text-align:right;white-space:nowrap}.status-relative-date.svelte-c85ksd,.status-relative-date.svelte-c85ksd:hover,.status-relative-date.svelte-c85ksd:visited{color:var(--deemphasized-text-color)}.status-relative-date.status-in-notification.svelte-c85ksd,.status-relative-date.status-in-notification.svelte-c85ksd:hover,.status-relative-date.status-in-notification.svelte-c85ksd:visited{color:var(--very-deemphasized-text-color)}",(0,a.R3)(document.head,t)}(),this._fragment=(e=this._state,{c(){i=(0,a.az)("a"),s=(0,a.az)("time"),n=(0,a.rw)(e.shortInlineFormattedDate),this.h()},l(t){i=(0,a.d$)(t,"A",{id:!0,class:!0,href:!0,rel:!0,tabindex:!0},!1);var o=(0,a.pI)(i);s=(0,a.d$)(o,"TIME",{datetime:!0,title:!0,"aria-label":!0},!1);var r=(0,a.pI)(s);n=(0,a.M4)(r,e.shortInlineFormattedDate),r.forEach(a.r2),o.forEach(a.r2),this.h()},h(){s.dateTime=e.createdAtDate,s.title=e.absoluteFormattedDate,(0,a.P$)(s,"aria-label",e.createdAtLabel),i.id=e.elementId,i.className=o="status-relative-date "+(e.isStatusInNotification?"status-in-notification":"")+" svelte-c85ksd",i.href=r="/statuses/"+e.originalStatusId,i.rel="prefetch",i.tabIndex=e.tabindex},m(t,e){(0,a.$T)(t,i,e),(0,a.R3)(i,s),(0,a.R3)(s,n)},p(t,e){t.shortInlineFormattedDate&&(0,a.a_)(n,e.shortInlineFormattedDate),t.createdAtDate&&(s.dateTime=e.createdAtDate),t.absoluteFormattedDate&&(s.title=e.absoluteFormattedDate),t.createdAtLabel&&(0,a.P$)(s,"aria-label",e.createdAtLabel),t.elementId&&(i.id=e.elementId),t.isStatusInNotification&&o!==(o="status-relative-date "+(e.isStatusInNotification?"status-in-notification":"")+" svelte-c85ksd")&&(i.className=o),t.originalStatusId&&r!==(r="/statuses/"+e.originalStatusId)&&(i.href=r),t.tabindex&&(i.tabIndex=e.tabindex)},d(t){t&&(0,a.r2)(i)}}),t.target){var l=(0,a.pI)(t.target);t.hydrate?this._fragment.l(l):this._fragment.c(),l.forEach(a.r2),this._mount(t.target,t.anchor)}}(0,a.f0)(m.prototype,a.uS),m.prototype._recompute=function(t,e){t.uuid&&this._differs(e.elementId,e.elementId=function({uuid:t}){return`status-relative-date-${t}`}(e))&&(t.elementId=!0),t.$disableTapOnStatus&&this._differs(e.tabindex,e.tabindex=function({$disableTapOnStatus:t}){return t?"0":"-1"}(e))&&(t.tabindex=!0),t.shortInlineFormattedDate&&this._differs(e.createdAtLabel,e.createdAtLabel=function({shortInlineFormattedDate:t}){return(0,p.A)([["time"]," - click to show thread"],{time:t})}(e))&&(t.createdAtLabel=!0)};const f=m;var g=i(7432),v=i(2936),y=i(8514),b=i(6918);const w=(0,b.I)((()=>new Intl.DateTimeFormat(y.M,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}))),_=(0,b.I)((()=>new Intl.DateTimeFormat(y.M,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))),x=(0,b.I)((()=>new Intl.DateTimeFormat(y.M,{year:"numeric",month:"short",day:"numeric"})));var S=i(2311),I=i(652);function $(){const{originalStatusId:t}=this.get();(0,I.on)("statusUpdated",this,(e=>{e.id===t&&this.set({overrideNumReblogs:e.reblogs_count||0,overrideNumFavs:e.favourites_count||0})}))}function T(t,e){var i;function s(t){return t.applicationWebsite?z:A}var n=s(e),o=n(t,e);return{c(){o.c(),i=(0,a.Yr)()},l(t){o.l(t),i=(0,a.Yr)()},m(t,e){o.m(t,e),(0,a.$T)(t,i,e)},p(e,a){n===(n=s(a))&&o?o.p(e,a):(o.d(1),(o=n(t,a)).c(),o.m(i.parentNode,i))},d(t){o.d(t),t&&(0,a.r2)(i)}}}function A(t,e){var i,s;return{c(){i=(0,a.az)("span"),s=(0,a.rw)(e.applicationName),this.h()},l(t){i=(0,a.d$)(t,"SPAN",{class:!0},!1);var n=(0,a.pI)(i);s=(0,a.M4)(n,e.applicationName),n.forEach(a.r2),this.h()},h(){i.className="status-application status-application-span svelte-1oixk6a"},m(t,e){(0,a.$T)(t,i,e),(0,a.R3)(i,s)},p(t,e){t.applicationName&&(0,a.a_)(s,e.applicationName)},d(t){t&&(0,a.r2)(i)}}}function z(t,e){var i,s,n={className:"status-application",href:e.applicationWebsite,showIcon:!1,ariaLabel:e.applicationLinkLabel},o=new g.Z({root:t.root,store:t.store,slots:{default:(0,a.xJ)()},data:n});return{c(){i=(0,a.az)("span"),s=(0,a.rw)(e.applicationName),o._fragment.c(),this.h()},l(t){i=(0,a.d$)(t,"SPAN",{class:!0},!1);var n=(0,a.pI)(i);s=(0,a.M4)(n,e.applicationName),n.forEach(a.r2),o._fragment.l(t),this.h()},h(){i.className="status-application-span svelte-1oixk6a"},m(t,e){(0,a.R3)(o._slotted.default,i),(0,a.R3)(i,s),o._mount(t,e)},p(t,e){t.applicationName&&(0,a.a_)(s,e.applicationName);var i={};t.applicationWebsite&&(i.href=e.applicationWebsite),t.applicationLinkLabel&&(i.ariaLabel=e.applicationLinkLabel),o._set(i)},d(t){o.destroy(t)}}}function k(t){var e,i,s,n,o,r,l,c,d,u,h,p,m,f,y,b,w,_,x,I,A,z,k;if((0,a.S1)(this,t),this.store=v.h,this._state=(0,a.f0)((0,a.f0)(this.store._init(["disableReblogCounts","disableFavCounts","isMobileSize"]),{overrideNumReblogs:void 0,overrideNumFavs:void 0}),t.data),this.store._add(this,["disableReblogCounts","disableFavCounts","isMobileSize"]),this._recompute({originalStatus:1,application:1,$disableReblogCounts:1,overrideNumReblogs:1,$disableFavCounts:1,overrideNumFavs:1,createdAtDateTS:1,$isMobileSize:1,numReblogs:1,numFavs:1,displayAbsoluteFormattedDate:1,applicationName:1},this._state),this._intro=!0,this._handlers.destroy=[a.iT],document.getElementById("svelte-1oixk6a-style")||function(){var t=(0,a.az)("style");t.id="svelte-1oixk6a-style",t.textContent=".status-details.svelte-1oixk6a{grid-area:details;display:grid;grid-template-columns:minmax(0, max-content) repeat(3, max-content);grid-gap:20px;align-items:center;justify-content:left;margin:0 5px 10px}.status-absolute-date{font-size:1.1em;min-width:0}.status-absolute-date time{word-wrap:break-word;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.status-application{word-wrap:break-word;overflow:hidden;white-space:pre-wrap;font-size:1.1em}.status-application, a.status-application, a.status-application:hover{color:var(--deemphasized-text-color)}a.status-application{display:inline-flex;align-items:center}.status-application-span.svelte-1oixk6a{word-wrap:break-word;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.status-favs-reblogs.svelte-1oixk6a{font-size:1.1em;display:flex;flex-direction:row;align-items:center}.status-favs-reblogs.svelte-1oixk6a span.svelte-1oixk6a{margin-left:5px}.status-favs-reblogs.svelte-1oixk6a,.status-favs-reblogs.svelte-1oixk6a:hover,.status-favs-reblogs.svelte-1oixk6a:visited{color:var(--deemphasized-text-color)}.status-favs-reblogs-svg{fill:var(--deemphasized-text-color);width:18px;height:18px}.status-absolute-date, .status-absolute-date:hover, .status-absolute-date:visited{color:var(--deemphasized-text-color)}@media(max-width: 479px){.status-absolute-date{font-size:1em}.status-favs-reblogs.svelte-1oixk6a{font-size:1em}.status-application{font-size:1em}.status-details.svelte-1oixk6a{grid-gap:5px;justify-content:space-between}}",(0,a.R3)(document.head,t)}(),this._fragment=(e=this,i=this._state,x={className:"status-absolute-date",href:i.originalStatus.url,showIcon:!0,ariaLabel:i.externalLinkLabel},I=new g.Z({root:e.root,store:e.store,slots:{default:(0,a.xJ)()},data:x}),A=i.applicationName&&T(e,i),z=new S.Z({root:e.root,store:e.store,data:{className:"status-favs-reblogs-svg",href:"#fa-retweet"}}),k=new S.Z({root:e.root,store:e.store,data:{className:"status-favs-reblogs-svg",href:"#fa-star"}}),{c(){s=(0,a.az)("div"),n=(0,a.az)("time"),o=(0,a.rw)(i.displayAbsoluteFormattedDate),I._fragment.c(),r=(0,a.rw)("\n  "),A&&A.c(),l=(0,a.rw)("\n  "),c=(0,a.az)("a"),z._fragment.c(),d=(0,a.rw)("\n    "),u=(0,a.az)("span"),h=(0,a.rw)(i.numReblogs),m=(0,a.rw)("\n  "),f=(0,a.az)("a"),k._fragment.c(),y=(0,a.rw)("\n    "),b=(0,a.az)("span"),w=(0,a.rw)(i.numFavs),this.h()},l(t){s=(0,a.d$)(t,"DIV",{class:!0},!1);var e=(0,a.pI)(s);n=(0,a.d$)(t,"TIME",{datetime:!0,title:!0},!1);var p=(0,a.pI)(n);o=(0,a.M4)(p,i.displayAbsoluteFormattedDate),p.forEach(a.r2),I._fragment.l(e),r=(0,a.M4)(e,"\n  "),A&&A.l(e),l=(0,a.M4)(e,"\n  "),c=(0,a.d$)(e,"A",{class:!0,rel:!0,href:!0,"aria-label":!0},!1);var g=(0,a.pI)(c);z._fragment.l(g),d=(0,a.M4)(g,"\n    "),u=(0,a.d$)(g,"SPAN",{class:!0},!1);var v=(0,a.pI)(u);h=(0,a.M4)(v,i.numReblogs),v.forEach(a.r2),g.forEach(a.r2),m=(0,a.M4)(e,"\n  "),f=(0,a.d$)(e,"A",{class:!0,rel:!0,href:!0,"aria-label":!0},!1);var _=(0,a.pI)(f);k._fragment.l(_),y=(0,a.M4)(_,"\n    "),b=(0,a.d$)(_,"SPAN",{class:!0},!1);var x=(0,a.pI)(b);w=(0,a.M4)(x,i.numFavs),x.forEach(a.r2),_.forEach(a.r2),e.forEach(a.r2),this.h()},h(){n.dateTime=i.createdAtDate,n.title=i.absoluteFormattedDate,u.className="svelte-1oixk6a",c.className="status-favs-reblogs status-reblogs svelte-1oixk6a",c.rel="prefetch",c.href=p="/statuses/"+i.originalStatusId+"/reblogs",(0,a.P$)(c,"aria-label",i.reblogsLabel),b.className="svelte-1oixk6a",f.className="status-favs-reblogs status-favs svelte-1oixk6a",f.rel="prefetch",f.href=_="/statuses/"+i.originalStatusId+"/favorites",(0,a.P$)(f,"aria-label",i.favoritesLabel),s.className="status-details svelte-1oixk6a"},m(t,e){(0,a.$T)(t,s,e),(0,a.R3)(I._slotted.default,n),(0,a.R3)(n,o),I._mount(s,null),(0,a.R3)(s,r),A&&A.m(s,null),(0,a.R3)(s,l),(0,a.R3)(s,c),z._mount(c,null),(0,a.R3)(c,d),(0,a.R3)(c,u),(0,a.R3)(u,h),(0,a.R3)(s,m),(0,a.R3)(s,f),k._mount(f,null),(0,a.R3)(f,y),(0,a.R3)(f,b),(0,a.R3)(b,w)},p(t,i){t.displayAbsoluteFormattedDate&&(0,a.a_)(o,i.displayAbsoluteFormattedDate),t.createdAtDate&&(n.dateTime=i.createdAtDate),t.absoluteFormattedDate&&(n.title=i.absoluteFormattedDate);var r={};t.originalStatus&&(r.href=i.originalStatus.url),t.externalLinkLabel&&(r.ariaLabel=i.externalLinkLabel),I._set(r),i.applicationName?A?A.p(t,i):((A=T(e,i)).c(),A.m(s,l)):A&&(A.d(1),A=null),t.numReblogs&&(0,a.a_)(h,i.numReblogs),t.originalStatusId&&p!==(p="/statuses/"+i.originalStatusId+"/reblogs")&&(c.href=p),t.reblogsLabel&&(0,a.P$)(c,"aria-label",i.reblogsLabel),t.numFavs&&(0,a.a_)(w,i.numFavs),t.originalStatusId&&_!==(_="/statuses/"+i.originalStatusId+"/favorites")&&(f.href=_),t.favoritesLabel&&(0,a.P$)(f,"aria-label",i.favoritesLabel)},d(t){t&&(0,a.r2)(s),I.destroy(),A&&A.d(),z.destroy(),k.destroy()}}),this.root._oncreate.push((()=>{$.call(this),this.fire("update",{changed:(0,a.lZ)({},this._state),current:this._state})})),t.target){var N=(0,a.pI)(t.target);t.hydrate?this._fragment.l(N):this._fragment.c(),N.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(k.prototype,a.uS),k.prototype._recompute=function(t,e){t.originalStatus&&(this._differs(e.originalStatusId,e.originalStatusId=function({originalStatus:t}){return t.id}(e))&&(t.originalStatusId=!0),this._differs(e.application,e.application=function({originalStatus:t}){return t.application}(e))&&(t.application=!0)),t.application&&(this._differs(e.applicationName,e.applicationName=function({application:t}){return t&&t.name}(e))&&(t.applicationName=!0),this._differs(e.applicationWebsite,e.applicationWebsite=function({application:t}){return t&&t.website}(e))&&(t.applicationWebsite=!0)),(t.$disableReblogCounts||t.overrideNumReblogs||t.originalStatus)&&this._differs(e.numReblogs,e.numReblogs=function({$disableReblogCounts:t,overrideNumReblogs:e,originalStatus:i}){return t?0:"number"==typeof e?e:i.reblogs_count||0}(e))&&(t.numReblogs=!0),(t.$disableFavCounts||t.overrideNumFavs||t.originalStatus)&&this._differs(e.numFavs,e.numFavs=function({$disableFavCounts:t,overrideNumFavs:e,originalStatus:i}){return t?0:"number"==typeof e?e:i.favourites_count||0}(e))&&(t.numFavs=!0),(t.createdAtDateTS||t.$isMobileSize)&&this._differs(e.displayAbsoluteFormattedDate,e.displayAbsoluteFormattedDate=function({createdAtDateTS:t,$isMobileSize:e}){return(e?_:w)().format(t)}(e))&&(t.displayAbsoluteFormattedDate=!0),(t.$disableReblogCounts||t.numReblogs)&&this._differs(e.reblogsLabel,e.reblogsLabel=function({$disableReblogCounts:t,numReblogs:e}){return t?"Boost counts hidden":(0,p.A)(["Boosted ",["count","plural",0,{one:["1 time"],other:[["count"]," times"]}]],{count:e})}(e))&&(t.reblogsLabel=!0),(t.$disableFavCounts||t.numFavs)&&this._differs(e.favoritesLabel,e.favoritesLabel=function({$disableFavCounts:t,numFavs:e}){return t?"Favorite counts hidden":(0,p.A)(["Favorited ",["count","plural",0,{one:["1 time"],other:[["count"]," times"]}]],{count:e})}(e))&&(t.favoritesLabel=!0),t.displayAbsoluteFormattedDate&&this._differs(e.externalLinkLabel,e.externalLinkLabel=function({displayAbsoluteFormattedDate:t}){return(0,p.A)([["label"]," (opens in new window)"],{label:t})}(e))&&(t.externalLinkLabel=!0),t.applicationName&&this._differs(e.applicationLinkLabel,e.applicationLinkLabel=function({applicationName:t}){return(0,p.A)([["label"]," (opens in new window)"],{label:t})}(e))&&(t.applicationLinkLabel=!0)};const N=k;var M=i(1471),C=i(7500);const R={"&amp;":"&","&apos;":"'","&bdquo;":"„","&cent;":"¢","&circ;":"ˆ","&copy;":"©","&dagger;":"†","&Dagger;":"‡","&emsp;":" ","&ensp;":" ","&euro;":"€","&gt;":">","&ldquo;":"“","&lrm;":"","&lsaquo;":"‹","&lsquo;":"‘","&lt;":"<","&mdash;":"—","&nbsp;":" ","&ndash;":"–","&oelig;":"œ","&OElig;":"Œ","&permil;":"‰","&pound;":"£","&quot;":'"',"&rdquo;":"”","&reg;":"®","&rsaquo;":"›","&rsquo;":"’","&sbquo;":"‚","&scaron;":"š","&Scaron;":"Š","&thinsp;":" ","&tilde;":"˜","&yen;":"¥","&Yuml;":"Ÿ"},E=(0,b.I)((()=>function(t){const e=Object.keys(t).concat(["&#[0-9]{1,6};","&#x[a-fA-F0-9]{1,6};"]);return new RegExp("("+e.join("|")+")","g")}(R)));function L(t){return t.replace(E(),D)}function D(t){const e=R[t];if(e)return e;let i;try{return i=t.startsWith("&#x")?parseInt(t.substring(3,t.length-1),16):parseInt(t.substring(2,t.length-1),10),String.fromCodePoint(i)}catch(a){return t}}var P={open(){this.refs.cardlink&&this.refs.cardlink.click()}};function j(t,e){var i,s,n,o,r=e.imageUrl&&F(t,e);return{c(){i=(0,a.az)("div"),r&&r.c(),s=(0,a.rw)("\n    "),n=(0,a.az)("span"),o=(0,a.rw)(e.unescapedDescription),this.h()},l(t){i=(0,a.d$)(t,"DIV",{class:!0},!1);var l=(0,a.pI)(i);r&&r.l(l),s=(0,a.M4)(l,"\n    "),n=(0,a.d$)(l,"SPAN",{class:!0},!1);var c=(0,a.pI)(n);o=(0,a.M4)(c,e.unescapedDescription),c.forEach(a.r2),l.forEach(a.r2),this.h()},h(){n.className="card-description svelte-1x7uxge",i.className="card-content svelte-1x7uxge"},m(t,e){(0,a.$T)(t,i,e),r&&r.m(i,null),(0,a.R3)(i,s),(0,a.R3)(i,n),(0,a.R3)(n,o)},p(e,n){n.imageUrl?r?r.p(e,n):((r=F(t,n)).c(),r.m(i,s)):r&&(r.d(1),r=null),e.unescapedDescription&&(0,a.a_)(o,n.unescapedDescription)},d(t){t&&(0,a.r2)(i),r&&r.d()}}}function F(t,e){var i,s={src:e.imageUrl,ariaHidden:!0},n=new M.Z({root:t.root,store:t.store,data:s});return{c(){i=(0,a.az)("div"),n._fragment.c(),this.h()},l(t){i=(0,a.d$)(t,"DIV",{class:!0},!1);var e=(0,a.pI)(i);n._fragment.l(e),e.forEach(a.r2),this.h()},h(){i.className="status-card-image-container svelte-1x7uxge"},m(t,e){(0,a.$T)(t,i,e),n._mount(i,null)},p(t,e){var i={};t.imageUrl&&(i.src=e.imageUrl),n._set(i)},d(t){t&&(0,a.r2)(i),n.destroy()}}}function H(t,e){var i={scope:e.shortcutScope,key:"l"},a=new C.Z({root:t.root,store:t.store,data:i});return a.on("pressed",(function(i){t.open(e.url)})),{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},p(t,i){e=i;var s={};t.shortcutScope&&(s.scope=e.shortcutScope),a._set(s)},d(t){a.destroy(t)}}}function O(t){var e,i,s,n,o,r,l,c,d;if((0,a.S1)(this,t),this.refs={},this._state=(0,a.f0)({},t.data),this._recompute({originalStatus:1,card:1,title:1,url:1,hostname:1,description:1},this._state),this._intro=!0,document.getElementById("svelte-1x7uxge-style")||function(){var t=(0,a.az)("style");t.id="svelte-1x7uxge-style",t.textContent=".status-card.svelte-1x7uxge{grid-area:card;display:flex;flex-direction:column;padding:15px;text-decoration:none;color:inherit;overflow:hidden;margin:10px 10px 10px 5px;border:1px solid var(--settings-list-item-border);background:var(--settings-list-item-bg-hover);border-radius:6px}.status-card.svelte-1x7uxge:hover{background:transparent}.status-card.svelte-1x7uxge :first-child:not(span){flex-shrink:0}.card-content.svelte-1x7uxge{display:flex;align-items:center;margin-top:5px;opacity:0.8}.status-card-image-container.svelte-1x7uxge{position:relative;width:50px;height:50px}.status-card-image-container img{object-fit:cover}.card-title.svelte-1x7uxge{font-weight:600;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;display:inline-block;opacity:0.8}.card-description.svelte-1x7uxge{font-size:small;line-height:1.4;max-height:5.6em;overflow:hidden}.card-description.svelte-1x7uxge:not(:first-child){margin-left:15px}",(0,a.R3)(document.head,t)}(),this._fragment=(e=this,i=this._state,c=i.description&&j(e,i),d=i.enableShortcuts&&H(e,i),{c(){s=(0,a.az)("a"),n=(0,a.az)("strong"),o=(0,a.rw)(i.unescapedTitle),r=(0,a.rw)("\n  "),c&&c.c(),l=(0,a.rw)("\n  "),d&&d.c(),this.h()},l(t){s=(0,a.d$)(t,"A",{href:!0,class:!0,target:!0,rel:!0},!1);var e=(0,a.pI)(s);n=(0,a.d$)(e,"STRONG",{class:!0,title:!0},!1);var u=(0,a.pI)(n);o=(0,a.M4)(u,i.unescapedTitle),u.forEach(a.r2),r=(0,a.M4)(e,"\n  "),c&&c.l(e),l=(0,a.M4)(e,"\n  "),d&&d.l(e),e.forEach(a.r2),this.h()},h(){n.className="card-title svelte-1x7uxge",n.title=i.unescapedTitle,s.href=i.url,s.className="status-card svelte-1x7uxge",s.target="_blank",s.rel="noopener noreferrer"},m(t,i){(0,a.$T)(t,s,i),(0,a.R3)(s,n),(0,a.R3)(n,o),(0,a.R3)(s,r),c&&c.m(s,null),(0,a.R3)(s,l),d&&d.m(s,null),e.refs.cardlink=s},p(t,i){t.unescapedTitle&&((0,a.a_)(o,i.unescapedTitle),n.title=i.unescapedTitle),i.description?c?c.p(t,i):((c=j(e,i)).c(),c.m(s,l)):c&&(c.d(1),c=null),i.enableShortcuts?d?d.p(t,i):((d=H(e,i)).c(),d.m(s,null)):d&&(d.d(1),d=null),t.url&&(s.href=i.url)},d(t){t&&(0,a.r2)(s),c&&c.d(),d&&d.d(),e.refs.cardlink===s&&(e.refs.cardlink=null)}}),t.target){var u=(0,a.pI)(t.target);t.hydrate?this._fragment.l(u):this._fragment.c(),u.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(O.prototype,a.uS),(0,a.f0)(O.prototype,P),O.prototype._recompute=function(t,e){t.originalStatus&&this._differs(e.card,e.card=function({originalStatus:t}){return t.card}(e))&&(t.card=!0),t.card&&this._differs(e.title,e.title=function({card:t}){return t.title}(e))&&(t.title=!0),t.title&&this._differs(e.unescapedTitle,e.unescapedTitle=function({title:t}){return t&&L(t)}(e))&&(t.unescapedTitle=!0),t.card&&this._differs(e.url,e.url=function({card:t}){return t.url}(e))&&(t.url=!0),t.url&&this._differs(e.hostname,e.hostname=function({url:t}){return window.URL?new window.URL(t).hostname:""}(e))&&(t.hostname=!0),(t.card||t.hostname)&&this._differs(e.description,e.description=function({card:t,hostname:e}){return t.description||t.provider_name||e}(e))&&(t.description=!0),t.description&&this._differs(e.unescapedDescription,e.unescapedDescription=function({description:t}){return t&&L(t)}(e))&&(t.unescapedDescription=!0),t.card&&this._differs(e.imageUrl,e.imageUrl=function({card:t}){return t.image}(e))&&(t.imageUrl=!0)};const B=O;var U=i(4644);const W={};function V(t){const{type:e,keyCode:i,target:a}=t;if("click"!==e&&("keydown"!==e||13!==i))return;let s,n=a;for(;n&&!(s=n.getAttribute("id"));)n=n.parentElement;if(s&&W[s]){if("click"===e){const t=window.getSelection(),e=t&&t.toString();if(e&&e.length&&a.contains(t.anchorNode))return}0,W[s](t)&&(t.preventDefault(),t.stopPropagation())}}function Z(t,e){Object.assign(W,e),t.on("destroy",(()=>{Object.keys(e).forEach((t=>{delete W[t]}))}))}function q(t,e,i){Z(t,{[e]:i})}window.__delegateCallbacks=W,document.addEventListener("click",V),document.addEventListener("keydown",V);var Y=i(8273),K=i(1029);var G=i(6494),Q=i(2909);async function J(t,e){const{online:i}=v.h.get();if(!i)return void G.A.say(e?"You cannot favorite while offline":"You cannot unfavorite while offline");const{currentInstance:a,accessToken:s}=v.h.get(),n=e?async function(t,e,i){const a=`${(0,K.E)(t)}/api/v1/statuses/${i}/favourite`;return(0,Y.v_)(a,null,(0,K.I)(e),{timeout:Y.$Q})}(a,s,t):async function(t,e,i){const a=`${(0,K.E)(t)}/api/v1/statuses/${i}/unfavourite`;return(0,Y.v_)(a,null,(0,K.I)(e),{timeout:Y.$Q})}(a,s,t);v.h.setStatusFavorited(a,t,e);try{await n,await Q.F.setStatusFavorited(a,t,e)}catch(o){console.error(o),G.A.say(e?(0,p.A)(["Unable to favorite: ",["error"]],{error:o.message||""}):(0,p.A)(["Unable to unfavorite: ",["error"]],{error:o.message||""})),v.h.setStatusFavorited(a,t,!e)}}async function X(t,e){if(!v.h.get())return void G.A.say(e?"You cannot boost while offline.":"You cannot unboost while offline.");const{currentInstance:i,accessToken:a}=v.h.get(),s=e?async function(t,e,i){const a=`${(0,K.E)(t)}/api/v1/statuses/${i}/reblog`;return(0,Y.v_)(a,null,(0,K.I)(e))}(i,a,t):async function(t,e,i){const a=`${(0,K.E)(t)}/api/v1/statuses/${i}/unreblog`;return(0,Y.v_)(a,null,(0,K.I)(e))}(i,a,t);v.h.setStatusReblogged(i,t,e);try{await s,await Q.F.setStatusReblogged(i,t,e)}catch(n){console.error(n),G.A.say(e?(0,p.A)(["Failed to boost: ",["error"]],{error:n.message||""}):(0,p.A)(["Failed to unboost: ",["error"]],{error:n.message||""})),v.h.setStatusReblogged(i,t,!e)}}var tt=i(655),et=i(2659);var it={toggleFavorite(){const{originalStatusId:t,favorited:e}=this.get(),i=!e;J(t,i),i&&this.refs.favoriteIcon.animate(et.nV)},reblog(){const{originalStatusId:t,reblogged:e}=this.get(),i=!e;X(t,i),i&&this.refs.reblogIcon.animate(et.BS)},reply(){requestAnimationFrame((()=>{const{uuid:t}=this.get(),{repliesShown:e}=this.store.get();e[t]=!e[t],this.store.set({repliesShown:e}),this.fire("recalculateHeight")}))},async onOptionsClick(){const{originalStatus:t,originalAccountId:e}=this.get(),a=(0,tt.Mb)(e),s=await Promise.all([i.e(7608),i.e(9379),i.e(5343)]).then(i.bind(i,5343)).then((t=>t.default));await a,s(t)},onPostedStatus(t,e){const{originalStatusId:i,uuid:a}=this.get();if(t===i&&e===a)try{this.refs.node.querySelector(".status-toolbar-reply-button").focus({preventScroll:!0})}catch(s){}}};function at(){const{favoriteKey:t,reblogKey:e,replyKey:i,optionsKey:a}=this.get();Z(this,{[t]:()=>(this.toggleFavorite(),!0),[e]:()=>(this.reblog(),!0),[i]:()=>(this.reply(),!0),[a]:()=>(this.onOptionsClick(),!0)}),(0,I.on)("postedStatus",this,this.onPostedStatus)}function st(t,e){var i,s,n={scope:e.shortcutScope,key:"f"},o=new C.Z({root:t.root,store:t.store,data:n});o.on("pressed",(function(e){t.toggleFavorite()}));var r={scope:e.shortcutScope,key:"r"},l=new C.Z({root:t.root,store:t.store,data:r});l.on("pressed",(function(e){t.reply()}));var c={scope:e.shortcutScope,key:"b"},d=new C.Z({root:t.root,store:t.store,data:c});return d.on("pressed",(function(e){t.reblog()})),{c(){o._fragment.c(),i=(0,a.rw)("\n  "),l._fragment.c(),s=(0,a.rw)("\n  "),d._fragment.c()},l(t){o._fragment.l(t),i=(0,a.M4)(t,"\n  "),l._fragment.l(t),s=(0,a.M4)(t,"\n  "),d._fragment.l(t)},m(t,e){o._mount(t,e),(0,a.$T)(t,i,e),l._mount(t,e),(0,a.$T)(t,s,e),d._mount(t,e)},p(t,e){var i={};t.shortcutScope&&(i.scope=e.shortcutScope),o._set(i);var a={};t.shortcutScope&&(a.scope=e.shortcutScope),l._set(a);var s={};t.shortcutScope&&(s.scope=e.shortcutScope),d._set(s)},d(t){o.destroy(t),t&&(0,a.r2)(i),l.destroy(t),t&&(0,a.r2)(s),d.destroy(t)}}}function nt(t){if((0,a.S1)(this,t),this.store=v.h,this.refs={},this._state=(0,a.f0)((0,a.f0)(this.store._init(["currentStatusModifications"]),{favoriteAnimation:et.nV,reblogAnimation:et.BS}),t.data),this.store._add(this,["currentStatusModifications"]),this._recompute({inReplyToId:1,visibility:1,originalStatusId:1,$currentStatusModifications:1,originalStatus:1,uuid:1},this._state),this._intro=!0,this._handlers.destroy=[a.iT],document.getElementById("svelte-1n5q9h1-style")||function(){var t=(0,a.az)("style");t.id="svelte-1n5q9h1-style",t.textContent=".status-toolbar.svelte-1n5q9h1{grid-area:toolbar;display:flex;justify-content:space-between;pointer-events:none}.status-toolbar.status-in-own-thread.svelte-1n5q9h1{margin-left:63px}@media(max-width: 767px){.status-toolbar.status-in-own-thread.svelte-1n5q9h1{margin-left:53px}}@media(max-width: 240px){.status-toolbar .icon-button-svg{width:20px;height:20px}}",(0,a.R3)(document.head,t)}(),this._fragment=function(t,e){var i,s,n,o,r,l,c,d={className:"status-toolbar-reply-button",label:e.replyLabel,pressedLabel:"Close reply",pressable:!0,pressed:e.replyShown,href:e.replyIcon,clickListener:!1,elementId:e.replyKey},u=new U.Z({root:t.root,store:t.store,data:d}),h={label:e.reblogLabel,pressedLabel:"Unboost",pressable:!e.reblogDisabled,pressed:e.reblogged,disabled:e.reblogDisabled,href:e.reblogIcon,clickListener:!1,elementId:e.reblogKey},p=new U.Z({root:t.root,store:t.store,data:h});t.refs.reblogIcon=p;var m={label:"Favorite",pressedLabel:"Unfavorite",pressable:!0,pressed:e.favorited,href:"#fa-star",clickListener:!1,elementId:e.favoriteKey},f=new U.Z({root:t.root,store:t.store,data:m});t.refs.favoriteIcon=f;var g={label:"More options",href:"#fa-ellipsis-h",clickListener:!1,elementId:e.optionsKey},v=new U.Z({root:t.root,store:t.store,data:g}),y=e.enableShortcuts&&st(t,e);return{c(){i=(0,a.az)("div"),u._fragment.c(),s=(0,a.rw)("\n  "),p._fragment.c(),n=(0,a.rw)("\n  "),f._fragment.c(),o=(0,a.rw)("\n  "),v._fragment.c(),l=(0,a.rw)("\n"),y&&y.c(),c=(0,a.Yr)(),this.h()},l(t){i=(0,a.d$)(t,"DIV",{class:!0},!1);var e=(0,a.pI)(i);u._fragment.l(e),s=(0,a.M4)(e,"\n  "),p._fragment.l(e),n=(0,a.M4)(e,"\n  "),f._fragment.l(e),o=(0,a.M4)(e,"\n  "),v._fragment.l(e),e.forEach(a.r2),l=(0,a.M4)(t,"\n"),y&&y.l(t),c=(0,a.Yr)(),this.h()},h(){i.className=r="status-toolbar "+(e.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-1n5q9h1"},m(e,r){(0,a.$T)(e,i,r),u._mount(i,null),(0,a.R3)(i,s),p._mount(i,null),(0,a.R3)(i,n),f._mount(i,null),(0,a.R3)(i,o),v._mount(i,null),t.refs.node=i,(0,a.$T)(e,l,r),y&&y.m(e,r),(0,a.$T)(e,c,r)},p(e,a){var s={};e.replyLabel&&(s.label=a.replyLabel),e.replyShown&&(s.pressed=a.replyShown),e.replyIcon&&(s.href=a.replyIcon),e.replyKey&&(s.elementId=a.replyKey),u._set(s);var n={};e.reblogLabel&&(n.label=a.reblogLabel),e.reblogDisabled&&(n.pressable=!a.reblogDisabled),e.reblogged&&(n.pressed=a.reblogged),e.reblogDisabled&&(n.disabled=a.reblogDisabled),e.reblogIcon&&(n.href=a.reblogIcon),e.reblogKey&&(n.elementId=a.reblogKey),p._set(n);var o={};e.favorited&&(o.pressed=a.favorited),e.favoriteKey&&(o.elementId=a.favoriteKey),f._set(o);var l={};e.optionsKey&&(l.elementId=a.optionsKey),v._set(l),e.isStatusInOwnThread&&r!==(r="status-toolbar "+(a.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-1n5q9h1")&&(i.className=r),a.enableShortcuts?y?y.p(e,a):((y=st(t,a)).c(),y.m(c.parentNode,c)):y&&(y.d(1),y=null)},d(e){e&&(0,a.r2)(i),u.destroy(),p.destroy(),t.refs.reblogIcon===p&&(t.refs.reblogIcon=null),f.destroy(),t.refs.favoriteIcon===f&&(t.refs.favoriteIcon=null),v.destroy(),t.refs.node===i&&(t.refs.node=null),e&&(0,a.r2)(l),y&&y.d(e),e&&(0,a.r2)(c)}}}(this,this._state),this.root._oncreate.push((()=>{at.call(this),this.fire("update",{changed:(0,a.lZ)({},this._state),current:this._state})})),t.target){var e=(0,a.pI)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(nt.prototype,a.uS),(0,a.f0)(nt.prototype,it),nt.prototype._recompute=function(t,e){t.inReplyToId&&(this._differs(e.replyLabel,e.replyLabel=function({inReplyToId:t}){return t?"Reply to thread":"Reply"}(e))&&(t.replyLabel=!0),this._differs(e.replyIcon,e.replyIcon=function({inReplyToId:t}){return t?"#fa-reply-all":"#fa-reply"}(e))&&(t.replyIcon=!0)),t.visibility&&(this._differs(e.reblogLabel,e.reblogLabel=function({visibility:t}){switch(t){case"private":return"Cannot be boosted because this is followers-only";case"direct":return"Cannot be boosted because this is a direct message";default:return"Boost"}}(e))&&(t.reblogLabel=!0),this._differs(e.reblogIcon,e.reblogIcon=function({visibility:t}){switch(t){case"private":return"#fa-lock";case"direct":return"#fa-envelope";default:return"#fa-retweet"}}(e))&&(t.reblogIcon=!0),this._differs(e.reblogDisabled,e.reblogDisabled=function({visibility:t}){return"private"===t||"direct"===t}(e))&&(t.reblogDisabled=!0)),(t.originalStatusId||t.$currentStatusModifications||t.originalStatus)&&(this._differs(e.reblogged,e.reblogged=function({originalStatusId:t,$currentStatusModifications:e,originalStatus:i}){return e&&t in e.reblogs?e.reblogs[t]:i.reblogged}(e))&&(t.reblogged=!0),this._differs(e.favorited,e.favorited=function({originalStatusId:t,$currentStatusModifications:e,originalStatus:i}){return e&&t in e.favorites?e.favorites[t]:i.favourited}(e))&&(t.favorited=!0)),t.uuid&&(this._differs(e.favoriteKey,e.favoriteKey=function({uuid:t}){return`fav-${t}`}(e))&&(t.favoriteKey=!0),this._differs(e.reblogKey,e.reblogKey=function({uuid:t}){return`reblog-${t}`}(e))&&(t.reblogKey=!0),this._differs(e.replyKey,e.replyKey=function({uuid:t}){return`reply-${t}`}(e))&&(t.replyKey=!0),this._differs(e.optionsKey,e.optionsKey=function({uuid:t}){return`options-${t}`}(e))&&(t.optionsKey=!0))};const ot=nt;var rt=i(4988),lt=i(9148),ct=i(1484);function dt(t){var e,i,s,n,o;if((0,a.S1)(this,t),this._state=(0,a.f0)({className:void 0},t.data),this._intro=!0,document.getElementById("svelte-1omcmdf-style")||function(){var t=(0,a.az)("style");t.id="svelte-1omcmdf-style",t.textContent=".play-video-icon.svelte-1omcmdf{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;z-index:40;pointer-events:none}.play-video-icon-svg{width:72px;height:72px;fill:var(--mask-svg-fill);border-radius:100%;background:var(--mask-opaque-bg)}",(0,a.R3)(document.head,t)}(),this._fragment=(e=this,i=this._state,o=new S.Z({root:e.root,store:e.store,data:{className:"play-video-icon-svg",href:"#fa-play-circle"}}),{c(){s=(0,a.az)("div"),o._fragment.c(),this.h()},l(t){s=(0,a.d$)(t,"DIV",{class:!0},!1);var e=(0,a.pI)(s);o._fragment.l(e),e.forEach(a.r2),this.h()},h(){s.className=n="play-video-icon "+(i.className||"")+" svelte-1omcmdf"},m(t,e){(0,a.$T)(t,s,e),o._mount(s,null)},p(t,e){t.className&&n!==(n="play-video-icon "+(e.className||"")+" svelte-1omcmdf")&&(s.className=n)},d(t){t&&(0,a.r2)(s),o.destroy()}}),t.target){var r=(0,a.pI)(t.target);t.hydrate?this._fragment.l(r):this._fragment.c(),r.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(dt.prototype,a.uS);const ut=dt;var ht=i(377);function pt(t){var e,i,s,n,o,r,l;if((0,a.S1)(this,t),this.store=v.h,this._state=(0,a.f0)((0,a.f0)(this.store._init(["largeInlineMedia"]),{focus:void 0}),t.data),this.store._add(this,["largeInlineMedia"]),this._recompute({focus:1},this._state),this._intro=!0,this._handlers.destroy=[a.iT],document.getElementById("svelte-17yda5p-style")||function(){var t=(0,a.az)("style");t.id="svelte-17yda5p-style",t.textContent=".autoplay-wrapper.svelte-17yda5p{position:relative;margin:0;padding:0}.autoplay-video.svelte-17yda5p{background-repeat:no-repeat;background-position:center;background-size:cover;display:flex}.autoplay-video-fixed-size.svelte-17yda5p{position:absolute;width:100%;height:100%;overflow:hidden}",(0,a.R3)(document.head,t)}(),this._fragment=(e=this._state,{c(){i=(0,a.az)("div"),s=(0,a.az)("video"),this.h()},l(t){i=(0,a.d$)(t,"DIV",{class:!0,style:!0},!1);var e=(0,a.pI)(i);s=(0,a.d$)(e,"VIDEO",{class:!0,"aria-label":!0,style:!0,poster:!0,width:!0,height:!0,src:!0,autoplay:!0,muted:!0,loop:!0,"webkit-playsinline":!0,playsinline:!0},!1),(0,a.pI)(s).forEach(a.r2),e.forEach(a.r2),this.h()},h(){s.className=n="autoplay-video "+(e.$largeInlineMedia?"":"autoplay-video-fixed-size")+" svelte-17yda5p",(0,a.P$)(s,"aria-label",o=e.ariaLabel||""),s.style.cssText=r=e.focusStyle+" background-image: url("+e.poster+"); ",s.poster=e.poster,s.width=e.width,s.height=e.height,s.src=e.src,s.autoplay=!0,s.muted=!0,s.loop=!0,(0,a.P$)(s,"webkit-playsinline",!0),(0,a.P$)(s,"playsinline",!0),i.className=l="autoplay-wrapper  "+(e.$largeInlineMedia?"":"autoplay-video-fixed-size")+" svelte-17yda5p",(0,a.A_)(i,"width",e.width+"px"),(0,a.A_)(i,"height",e.height+"px")},m(t,e){(0,a.$T)(t,i,e),(0,a.R3)(i,s)},p(t,e){t.$largeInlineMedia&&n!==(n="autoplay-video "+(e.$largeInlineMedia?"":"autoplay-video-fixed-size")+" svelte-17yda5p")&&(s.className=n),t.ariaLabel&&o!==(o=e.ariaLabel||"")&&(0,a.P$)(s,"aria-label",o),(t.focusStyle||t.poster)&&r!==(r=e.focusStyle+" background-image: url("+e.poster+"); ")&&(s.style.cssText=r),t.poster&&(s.poster=e.poster),t.width&&(s.width=e.width),t.height&&(s.height=e.height),t.src&&(s.src=e.src),t.$largeInlineMedia&&l!==(l="autoplay-wrapper  "+(e.$largeInlineMedia?"":"autoplay-video-fixed-size")+" svelte-17yda5p")&&(i.className=l),t.width&&(0,a.A_)(i,"width",e.width+"px"),t.height&&(0,a.A_)(i,"height",e.height+"px")},d(t){t&&(0,a.r2)(i)}}),t.target){var c=(0,a.pI)(t.target);t.hydrate?this._fragment.l(c):this._fragment.c(),c.forEach(a.r2),this._mount(t.target,t.anchor)}}(0,a.f0)(pt.prototype,a.uS),pt.prototype._recompute=function(t,e){t.focus&&this._differs(e.focusStyle,e.focusStyle=function({focus:t}){return t?`object-position: ${(0,ht.i)(t.x)}% ${100-(0,ht.i)(t.y)}%;`:"background-position: center;"}(e))&&(t.focusStyle=!0)};const mt=pt;var ft={onMouseOver(t){this.set({playing:t})}};function gt(t,e){var i={alt:e.label||"",title:e.label||"",src:e.staticSrc,blurhash:e.blurhash,fallback:e.oneTransparentPixel,width:e.width,height:e.height,background:"var(--loading-bg)",focus:e.focus},a=new M.Z({root:t.root,store:t.store,data:i});return{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},p(t,e){var i={};t.label&&(i.alt=e.label||""),t.label&&(i.title=e.label||""),t.staticSrc&&(i.src=e.staticSrc),t.blurhash&&(i.blurhash=e.blurhash),t.oneTransparentPixel&&(i.fallback=e.oneTransparentPixel),t.width&&(i.width=e.width),t.height&&(i.height=e.height),t.focus&&(i.focus=e.focus),a._set(i)},d(t){a.destroy(t)}}}function vt(t,e){var i={ariaLabel:e.label,poster:e.poster,src:e.src,width:e.width,height:e.height,focus:e.focus},a=new mt({root:t.root,store:t.store,data:i});return{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},p(t,e){var i={};t.label&&(i.ariaLabel=e.label),t.poster&&(i.poster=e.poster),t.src&&(i.src=e.src),t.width&&(i.width=e.width),t.height&&(i.height=e.height),t.focus&&(i.focus=e.focus),a._set(i)},d(t){a.destroy(t)}}}function yt(t,e){var i={className:e.playing?"hidden":""},a=new ut({root:t.root,store:t.store,data:i});return{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},p(t,e){var i={};t.playing&&(i.className=e.playing?"hidden":""),a._set(i)},d(t){a.destroy(t)}}}function bt(t){if((0,a.S1)(this,t),this.refs={},this._state=(0,a.f0)((0,a.f0)(this.store._init(["largeInlineMedia"]),{oneTransparentPixel:rt.Pf,focus:void 0}),t.data),this.store._add(this,["largeInlineMedia"]),this._recompute({useWidthHeight:1,width:1,height:1},this._state),this._intro=!0,this._handlers.destroy=[a.iT],document.getElementById("svelte-2paz1j-style")||function(){var t=(0,a.az)("style");t.id="svelte-2paz1j-style",t.textContent=".non-autoplay-gifv.svelte-2paz1j{cursor:zoom-in;display:flex;position:relative;margin:0;padding:0}.non-autoplay-gifv-fixed-size.svelte-2paz1j{position:absolute;width:100%;height:100%;overflow:hidden}.non-autoplay-gifv .play-video-icon{transition:opacity 0.2s linear}",(0,a.R3)(document.head,t)}(),this._fragment=function(t,e){var i,s,n,o;function r(t){return t.playing?vt:gt}var l=r(e),c=l(t,e),d=!e.blurhash&&yt(t,e);return{c(){i=(0,a.az)("div"),c.c(),s=(0,a.rw)("\n  "),d&&d.c(),this.h()},l(t){i=(0,a.d$)(t,"DIV",{class:!0,style:!0},!1);var e=(0,a.pI)(i);c.l(e),s=(0,a.M4)(e,"\n  "),d&&d.l(e),e.forEach(a.r2),this.h()},h(){n=ct.gn.call(t,i,(function(e){t.onMouseOver(e)})),i.className=o="non-autoplay-gifv  "+(e.$largeInlineMedia?"":"non-autoplay-gifv-fixed-size")+" svelte-2paz1j",i.style.cssText=e.style},m(e,n){(0,a.$T)(e,i,n),c.m(i,null),(0,a.R3)(i,s),d&&d.m(i,null),t.refs.node=i},p(e,a){l===(l=r(a))&&c?c.p(e,a):(c.d(1),(c=l(t,a)).c(),c.m(i,s)),a.blurhash?d&&(d.d(1),d=null):d?d.p(e,a):((d=yt(t,a)).c(),d.m(i,null)),e.$largeInlineMedia&&o!==(o="non-autoplay-gifv  "+(a.$largeInlineMedia?"":"non-autoplay-gifv-fixed-size")+" svelte-2paz1j")&&(i.className=o),e.style&&(i.style.cssText=a.style)},d(e){e&&(0,a.r2)(i),c.d(),d&&d.d(),n.destroy(),t.refs.node===i&&(t.refs.node=null)}}}(this,this._state),t.target){var e=(0,a.pI)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(bt.prototype,a.uS),(0,a.f0)(bt.prototype,ft),bt.prototype._recompute=function(t,e){(t.useWidthHeight||t.width||t.height)&&this._differs(e.style,e.style=function({useWidthHeight:t,width:e,height:i}){return t?`width: ${e}px; height: ${i}px;`:""}(e))&&(t.style=!0)};const wt=bt,_t=new Map;let xt,St;function It({decodedBlurhash:t,$ignoreBlurhash:e}){return!e&&t?t:function(t){const e=getComputedStyle(document.documentElement).getPropertyValue(t);let i=_t.get(e);return i||(xt||(xt=document.createElement("canvas"),xt.width=1,xt.height=1,St=xt.getContext("2d")),St.fillStyle=e,St.rect(0,0,1,1),St.fill(),i=xt.toDataURL(),_t.set(e,i)),i}("--mask-bg")}var $t={onClick(){return(async()=>{const{mediaAttachments:t,index:e}=this.get();(await(0,lt.e)())(t,e)})(),!0}};async function Tt(){const{elementId:t}=this.get();q(this,t,(()=>this.onClick()))}function At(t,e){var i,s,n;function o(t){return"gifv"===t.type&&t.$autoplayGifs&&!t.blurhash?Mt:"gifv"===t.type?Nt:kt}var r=o(e),l=r(t,e);return{c(){i=(0,a.az)("button"),l.c(),this.h()},l(t){i=(0,a.d$)(t,"BUTTON",{id:!0,type:!0,class:!0,"aria-label":!0,title:!0,style:!0,tabindex:!0,"aria-hidden":!0},!1);var e=(0,a.pI)(i);l.l(e),e.forEach(a.r2),this.h()},h(){s=ct.gn.call(t,i,(function(e){t.set({mouseover:e})})),i.id=e.elementId,i.type="button",i.className=n="inline-media show-image-button focus-after "+(e.$largeInlineMedia?"":"fixed-size")+" svelte-1vanzu1",(0,a.P$)(i,"aria-label",e.imageButtonAriaLabel),i.title=e.description,i.style.cssText=e.inlineMediaStyle,i.tabIndex=e.tabindex,(0,a.P$)(i,"aria-hidden",e.ariaHidden)},m(t,e){(0,a.$T)(t,i,e),l.m(i,null)},p(e,s){r===(r=o(s))&&l?l.p(e,s):(l.d(1),(l=r(t,s)).c(),l.m(i,null)),e.elementId&&(i.id=s.elementId),e.$largeInlineMedia&&n!==(n="inline-media show-image-button focus-after "+(s.$largeInlineMedia?"":"fixed-size")+" svelte-1vanzu1")&&(i.className=n),e.imageButtonAriaLabel&&(0,a.P$)(i,"aria-label",s.imageButtonAriaLabel),e.description&&(i.title=s.description),e.inlineMediaStyle&&(i.style.cssText=s.inlineMediaStyle),e.tabindex&&(i.tabIndex=s.tabindex),e.ariaHidden&&(0,a.P$)(i,"aria-hidden",s.ariaHidden)},d(t){t&&(0,a.r2)(i),l.d(),s.destroy()}}}function zt(t,e){var i,s,n,o=new ut({root:t.root,store:t.store}),r="video"===e.type&&Ct(t,e);return{c(){i=(0,a.az)("button"),o._fragment.c(),s=(0,a.rw)("\n      "),r&&r.c(),this.h()},l(t){i=(0,a.d$)(t,"BUTTON",{id:!0,type:!0,class:!0,"aria-label":!0,tabindex:!0,"aria-hidden":!0,style:!0},!1);var e=(0,a.pI)(i);o._fragment.l(e),s=(0,a.M4)(e,"\n      "),r&&r.l(e),e.forEach(a.r2),this.h()},h(){i.id=e.elementId,i.type="button",i.className=n="inline-media play-video-button focus-after "+(e.$largeInlineMedia?"":"fixed-size")+" "+("audio"===e.type?"play-audio-button":"")+" svelte-1vanzu1",(0,a.P$)(i,"aria-label",e.videoOrAudioButtonLabel),i.tabIndex=e.tabindex,(0,a.P$)(i,"aria-hidden",e.ariaHidden),i.style.cssText=e.inlineMediaStyle},m(t,e){(0,a.$T)(t,i,e),o._mount(i,null),(0,a.R3)(i,s),r&&r.m(i,null)},p(e,s){"video"===s.type?r?r.p(e,s):((r=Ct(t,s)).c(),r.m(i,null)):r&&(r.d(1),r=null),e.elementId&&(i.id=s.elementId),(e.$largeInlineMedia||e.type)&&n!==(n="inline-media play-video-button focus-after "+(s.$largeInlineMedia?"":"fixed-size")+" "+("audio"===s.type?"play-audio-button":"")+" svelte-1vanzu1")&&(i.className=n),e.videoOrAudioButtonLabel&&(0,a.P$)(i,"aria-label",s.videoOrAudioButtonLabel),e.tabindex&&(i.tabIndex=s.tabindex),e.ariaHidden&&(0,a.P$)(i,"aria-hidden",s.ariaHidden),e.inlineMediaStyle&&(i.style.cssText=s.inlineMediaStyle)},d(t){t&&(0,a.r2)(i),o.destroy(),r&&r.d()}}}function kt(t,e){var i={alt:e.description,title:e.description,src:e.previewUrl,fallback:e.oneTransparentPixel,blurhash:e.blurhash,width:e.inlineWidth,height:e.inlineHeight,background:"var(--loading-bg)",focus:e.focus},a=new M.Z({root:t.root,store:t.store,data:i});return{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},p(t,e){var i={};t.description&&(i.alt=e.description),t.description&&(i.title=e.description),t.previewUrl&&(i.src=e.previewUrl),t.oneTransparentPixel&&(i.fallback=e.oneTransparentPixel),t.blurhash&&(i.blurhash=e.blurhash),t.inlineWidth&&(i.width=e.inlineWidth),t.inlineHeight&&(i.height=e.inlineHeight),t.focus&&(i.focus=e.focus),a._set(i)},d(t){a.destroy(t)}}}function Nt(t,e){var i={class:e.noNativeWidthHeight?"no-native-width-height":"",label:e.animatedLabel,poster:e.previewUrl,blurhash:e.blurhash,src:e.url,staticSrc:e.previewUrl,useWidthHeight:!e.blurhash,width:e.inlineWidth,height:e.inlineHeight,playing:e.mouseover,focus:e.focus},a=new wt({root:t.root,store:t.store,data:i});return{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},p(t,e){var i={};t.noNativeWidthHeight&&(i.class=e.noNativeWidthHeight?"no-native-width-height":""),t.animatedLabel&&(i.label=e.animatedLabel),t.previewUrl&&(i.poster=e.previewUrl),t.blurhash&&(i.blurhash=e.blurhash),t.url&&(i.src=e.url),t.previewUrl&&(i.staticSrc=e.previewUrl),t.blurhash&&(i.useWidthHeight=!e.blurhash),t.inlineWidth&&(i.width=e.inlineWidth),t.inlineHeight&&(i.height=e.inlineHeight),t.mouseover&&(i.playing=e.mouseover),t.focus&&(i.focus=e.focus),a._set(i)},d(t){a.destroy(t)}}}function Mt(t,e){var i={ariaLabel:e.animatedLabel,poster:e.previewUrl,src:e.url,width:e.inlineWidth,height:e.inlineHeight,focus:e.focus},a=new mt({root:t.root,store:t.store,data:i});return{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},p(t,e){var i={};t.animatedLabel&&(i.ariaLabel=e.animatedLabel),t.previewUrl&&(i.poster=e.previewUrl),t.url&&(i.src=e.url),t.inlineWidth&&(i.width=e.inlineWidth),t.inlineHeight&&(i.height=e.inlineHeight),t.focus&&(i.focus=e.focus),a._set(i)},d(t){a.destroy(t)}}}function Ct(t,e){var i={alt:e.description,title:e.description,src:e.previewUrl,fallback:e.oneTransparentPixel,blurhash:e.blurhash,width:e.inlineWidth,height:e.inlineHeight,background:"var(--loading-bg)",focus:e.focus},a=new M.Z({root:t.root,store:t.store,data:i});return{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},p(t,e){var i={};t.description&&(i.alt=e.description),t.description&&(i.title=e.description),t.previewUrl&&(i.src=e.previewUrl),t.oneTransparentPixel&&(i.fallback=e.oneTransparentPixel),t.blurhash&&(i.blurhash=e.blurhash),t.inlineWidth&&(i.width=e.inlineWidth),t.inlineHeight&&(i.height=e.inlineHeight),t.focus&&(i.focus=e.focus),a._set(i)},d(t){a.destroy(t)}}}function Rt(t){if((0,a.S1)(this,t),this.store=v.h,this._state=(0,a.f0)((0,a.f0)(this.store._init(["largeInlineMedia","ignoreBlurhash","autoplayGifs"]),{oneTransparentPixel:rt.Pf,mouseover:void 0}),t.data),this.store._add(this,["largeInlineMedia","ignoreBlurhash","autoplayGifs"]),this._recompute({media:1,meta:1,small:1,smallWidth:1,$largeInlineMedia:1,smallHeight:1,original:1,originalWidth:1,originalHeight:1,uuid:1,decodedBlurhash:1,$ignoreBlurhash:1,blurhashToUse:1,showAsSensitive:1,type:1,inlineWidth:1,inlineHeight:1,blurhash:1,description:1},this._state),this._intro=!0,this._handlers.destroy=[a.iT],document.getElementById("svelte-1vanzu1-style")||function(){var t=(0,a.az)("style");t.id="svelte-1vanzu1-style",t.textContent=".status-media video, .status-media img{object-fit:cover}.play-video-button.svelte-1vanzu1,.show-image-button.svelte-1vanzu1{margin:auto;padding:0;border-radius:0;border:none;background:none}.play-audio-button.svelte-1vanzu1{background:var(--audio-bg)}.show-image-button.svelte-1vanzu1{cursor:zoom-in}.inline-media.svelte-1vanzu1{position:relative}@media(max-width: 240px){.inline-media.svelte-1vanzu1{min-height:100px}}",(0,a.R3)(document.head,t)}(),this._fragment=function(t,e){var i;function s(t){return t.blurhash||"video"!==t.type&&"audio"!==t.type?At:zt}var n=s(e),o=n(t,e);return{c(){o.c(),i=(0,a.Yr)()},l(t){o.l(t),i=(0,a.Yr)()},m(t,e){o.m(t,e),(0,a.$T)(t,i,e)},p(e,a){n===(n=s(a))&&o?o.p(e,a):(o.d(1),(o=n(t,a)).c(),o.m(i.parentNode,i))},d(t){o.d(t),t&&(0,a.r2)(i)}}}(this,this._state),this.root._oncreate.push((()=>{Tt.call(this),this.fire("update",{changed:(0,a.lZ)({},this._state),current:this._state})})),t.target){var e=(0,a.pI)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(Rt.prototype,a.uS),(0,a.f0)(Rt.prototype,$t),Rt.prototype._recompute=function(t,e){t.media&&this._differs(e.meta,e.meta=function({media:t}){return t.meta}(e))&&(t.meta=!0),t.meta&&(this._differs(e.focus,e.focus=function({meta:t}){return t&&t.focus}(e))&&(t.focus=!0),this._differs(e.small,e.small=function({meta:t}){return t&&t.small}(e))&&(t.small=!0)),t.small&&this._differs(e.smallWidth,e.smallWidth=function({small:t}){return t&&t.width}(e))&&(t.smallWidth=!0),(t.smallWidth||t.$largeInlineMedia)&&this._differs(e.inlineWidth,e.inlineWidth=function({smallWidth:t,$largeInlineMedia:e}){return e?t||rt.IP:"100%"}(e))&&(t.inlineWidth=!0),t.small&&this._differs(e.smallHeight,e.smallHeight=function({small:t}){return t&&t.height}(e))&&(t.smallHeight=!0),(t.smallHeight||t.$largeInlineMedia)&&this._differs(e.inlineHeight,e.inlineHeight=function({smallHeight:t,$largeInlineMedia:e}){return e?t||rt.$b:"auto"}(e))&&(t.inlineHeight=!0),t.meta&&this._differs(e.original,e.original=function({meta:t}){return t&&t.original}(e))&&(t.original=!0),t.original&&this._differs(e.originalWidth,e.originalWidth=function({original:t}){return t&&t.width}(e))&&(t.originalWidth=!0),(t.originalWidth||t.smallWidth)&&this._differs(e.modalWidth,e.modalWidth=function({originalWidth:t,smallWidth:e}){return t||e||0}(e))&&(t.modalWidth=!0),t.original&&this._differs(e.originalHeight,e.originalHeight=function({original:t}){return t&&t.height}(e))&&(t.originalHeight=!0),(t.originalHeight||t.smallHeight)&&this._differs(e.modalHeight,e.modalHeight=function({originalHeight:t,smallHeight:e}){return t||e||0}(e))&&(t.modalHeight=!0),(t.smallWidth||t.smallHeight)&&this._differs(e.noNativeWidthHeight,e.noNativeWidthHeight=function({smallWidth:t,smallHeight:e}){return"number"!=typeof t||"number"!=typeof e}(e))&&(t.noNativeWidthHeight=!0),(t.media||t.uuid)&&this._differs(e.elementId,e.elementId=function({media:t,uuid:e}){return`media-${e}-${t.id}`}(e))&&(t.elementId=!0),t.media&&(this._differs(e.description,e.description=function({media:t}){return t.description||""}(e))&&(t.description=!0),this._differs(e.previewUrl,e.previewUrl=function({media:t}){return t.preview_url}(e))&&(t.previewUrl=!0),this._differs(e.decodedBlurhash,e.decodedBlurhash=function({media:t}){return t.decodedBlurhash}(e))&&(t.decodedBlurhash=!0)),(t.decodedBlurhash||t.$ignoreBlurhash)&&this._differs(e.blurhashToUse,e.blurhashToUse=It(e))&&(t.blurhashToUse=!0),(t.blurhashToUse||t.showAsSensitive)&&this._differs(e.blurhash,e.blurhash=function({blurhashToUse:t,showAsSensitive:e}){return e&&t}(e))&&(t.blurhash=!0),t.media&&(this._differs(e.url,e.url=function({media:t}){return t.url}(e))&&(t.url=!0),this._differs(e.type,e.type=function({media:t}){return t.type}(e))&&(t.type=!0)),(t.type||t.inlineWidth||t.inlineHeight||t.blurhash||t.$largeInlineMedia)&&this._differs(e.inlineMediaStyle,e.inlineMediaStyle=function({type:t,inlineWidth:e,inlineHeight:i,blurhash:a,$largeInlineMedia:s}){return"audio"===t||a&&s?"":`width: ${e}px; height: ${i}px;`}(e))&&(t.inlineMediaStyle=!0),t.showAsSensitive&&(this._differs(e.tabindex,e.tabindex=function({showAsSensitive:t}){return t?"-1":"0"}(e))&&(t.tabindex=!0),this._differs(e.ariaHidden,e.ariaHidden=function({showAsSensitive:t}){return t}(e))&&(t.ariaHidden=!0)),(t.type||t.description)&&(this._differs(e.imageButtonAriaLabel,e.imageButtonAriaLabel=function({type:t,description:e}){return(0,p.A)(["Show ",["animated","select",{true:["animated"],other:[]}]," image: ",["description"]],{animated:"gifv"===t,description:e})}(e))&&(t.imageButtonAriaLabel=!0),this._differs(e.videoOrAudioButtonLabel,e.videoOrAudioButtonLabel=function({type:t,description:e}){return(0,p.A)(["Play ",["audio","select",{true:["audio"],other:["video"]}],": ",["description"]],{audio:"audio"===t,description:e})}(e))&&(t.videoOrAudioButtonLabel=!0)),t.description&&this._differs(e.animatedLabel,e.animatedLabel=function({description:t}){return(0,p.A)(["Animated image: ",["description"]],{description:t})}(e))&&(t.animatedLabel=!0)};const Et=Rt;var Lt=i(267);function Dt(t,e,i){const a=Object.create(t);return a.media=e[i],a.index=i,a}function Pt(t,e){var i={media:e.media,uuid:e.uuid,mediaAttachments:e.mediaAttachments,index:e.index,showAsSensitive:e.showAsSensitive},a=new Et({root:t.root,store:t.store,data:i});return{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},p(t,e){var i={};t.mediaAttachments&&(i.media=e.media),t.uuid&&(i.uuid=e.uuid),t.mediaAttachments&&(i.mediaAttachments=e.mediaAttachments),t.showAsSensitive&&(i.showAsSensitive=e.showAsSensitive),a._set(i)},d(t){a.destroy(t)}}}function jt(t){if((0,a.S1)(this,t),this._state=(0,a.f0)(this.store._init(["largeInlineMedia"]),t.data),this.store._add(this,["largeInlineMedia"]),this._recompute({mediaAttachments:1,sensitive:1,$largeInlineMedia:1,oddCols:1,twoCols:1,sensitiveShown:1},this._state),this._intro=!0,this._handlers.destroy=[a.iT],document.getElementById("svelte-vzucjy-style")||function(){var t=(0,a.az)("style");t.id="svelte-vzucjy-style",t.textContent=".status-media.svelte-vzucjy{grid-area:media;display:grid;align-items:center;justify-content:center;justify-items:center;grid-column-gap:5px;grid-row-gap:5px;overflow:hidden;margin:10px 10px 10px 5px}.status-media.grouped-images.svelte-vzucjy{grid-area:media-grp;border-radius:6px}.status-media.grouped-images.svelte-vzucjy>.inline-media{padding-bottom:56.25%;width:100%}.status-media.grouped-images.two-cols.svelte-vzucjy>.inline-media{padding-bottom:calc(112.5% + 5px)}.status-media.grouped-images.odd-cols.svelte-vzucjy>.inline-media:first-child{grid-row-end:span 2;padding-bottom:calc(112.5% + 5px);background-color:blue}.status-media.not-grouped-images.svelte-vzucjy>.inline-media{width:100%;min-height:250px}.status-media.not-grouped-images.svelte-vzucjy .inline-media img,.status-media.not-grouped-images.svelte-vzucjy .inline-media .lazy-image{width:100%;height:100%}.status-media.status-media-is-sensitive.svelte-vzucjy{height:inherit;margin:0}",(0,a.R3)(document.head,t)}(),this._fragment=function(t,e){for(var i,s=e.mediaAttachments,n=[],o=0;o<s.length;o+=1)n[o]=Pt(t,Dt(e,s,o));return{c(){i=(0,a.az)("div");for(var t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){i=(0,a.d$)(t,"DIV",{class:!0,style:!0},!1);for(var e=(0,a.pI)(i),s=0;s<n.length;s+=1)n[s].l(e);e.forEach(a.r2),this.h()},h(){i.className=e.computedClass+" svelte-vzucjy",(0,a.A_)(i,"grid-template-columns","repeat("+e.nCols+", 1fr)")},m(t,e){(0,a.$T)(t,i,e);for(var s=0;s<n.length;s+=1)n[s].m(i,null)},p(e,o){if(e.mediaAttachments||e.uuid||e.showAsSensitive){s=o.mediaAttachments;for(var r=0;r<s.length;r+=1){const a=Dt(o,s,r);n[r]?n[r].p(e,a):(n[r]=Pt(t,a),n[r].c(),n[r].m(i,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=s.length}e.computedClass&&(i.className=o.computedClass+" svelte-vzucjy"),e.nCols&&(0,a.A_)(i,"grid-template-columns","repeat("+o.nCols+", 1fr)")},d(t){t&&(0,a.r2)(i),(0,a.kw)(n,t)}}}(this,this._state),t.target){var e=(0,a.pI)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(jt.prototype,a.uS),jt.prototype._recompute=function(t,e){t.mediaAttachments&&(this._differs(e.oddCols,e.oddCols=function({mediaAttachments:t}){return t.length>1&&t.length%2}(e))&&(t.oddCols=!0),this._differs(e.twoCols,e.twoCols=function({mediaAttachments:t}){return 2===t.length}(e))&&(t.twoCols=!0)),(t.sensitive||t.$largeInlineMedia||t.oddCols||t.twoCols)&&this._differs(e.computedClass,e.computedClass=function({sensitive:t,$largeInlineMedia:e,oddCols:i,twoCols:a}){return(0,Lt.q)("status-media",t&&"status-media-is-sensitive",i&&"odd-cols",a&&"two-cols",e?"not-grouped-images":"grouped-images")}(e))&&(t.computedClass=!0),(t.sensitive||t.sensitiveShown)&&this._differs(e.showAsSensitive,e.showAsSensitive=function({sensitive:t,sensitiveShown:e}){return!!t&&!e}(e))&&(t.showAsSensitive=!0),(t.mediaAttachments||t.$largeInlineMedia)&&this._differs(e.nCols,e.nCols=function({mediaAttachments:t,$largeInlineMedia:e}){return!e&&t.length>1?2:1}(e))&&(t.nCols=!0)};const Ft=jt;var Ht={toggleSensitiveMedia(t){const{uuid:e}=this.get(),{sensitivesShown:i}=this.store.get();return i[e]=!i[e],this.store.set({sensitivesShown:i}),this.fire("recalculateHeight"),t&&requestAnimationFrame((()=>{const t=this.refs.hideSensitiveMedia||this.refs.showSensitiveMedia;try{t.focus({preventScroll:!0})}catch(e){console.error("ignored focus error",e)}})),!0},async showFirstMedia(){const{mediaAttachments:t}=this.get();(await(0,lt.e)())(t,0)}};function Ot(){const{elementId:t}=this.get();q(this,t,(()=>this.toggleSensitiveMedia(!0)))}function Bt(t,e){var i={mediaAttachments:e.mediaAttachments,sensitive:e.sensitive,sensitiveShown:e.sensitiveShown,uuid:e.uuid},a=new Ft({root:t.root,store:t.store,data:i});return{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},p(t,e){var i={};t.mediaAttachments&&(i.mediaAttachments=e.mediaAttachments),t.sensitive&&(i.sensitive=e.sensitive),t.sensitiveShown&&(i.sensitiveShown=e.sensitiveShown),t.uuid&&(i.uuid=e.uuid),a._set(i)},d(t){a.destroy(t)}}}function Ut(t,e){var i,s,n,o,r;function l(t){return t.sensitiveShown?Vt:Wt}var c=l(e),d=c(t,e),u={mediaAttachments:e.mediaAttachments,sensitive:e.sensitive,sensitiveShown:e.sensitiveShown,uuid:e.uuid},h=new Ft({root:t.root,store:t.store,data:u}),p=e.enableShortcuts&&Zt(t,e);return{c(){i=(0,a.az)("div"),s=(0,a.az)("div"),d.c(),n=(0,a.rw)("\n    "),h._fragment.c(),o=(0,a.rw)("\n"),p&&p.c(),r=(0,a.Yr)(),this.h()},l(t){i=(0,a.d$)(t,"DIV",{class:!0,style:!0},!1);var e=(0,a.pI)(i);s=(0,a.d$)(e,"DIV",{class:!0},!1);var l=(0,a.pI)(s);d.l(l),n=(0,a.M4)(l,"\n    "),h._fragment.l(l),l.forEach(a.r2),e.forEach(a.r2),o=(0,a.M4)(t,"\n"),p&&p.l(t),r=(0,a.Yr)(),this.h()},h(){s.className="status-sensitive-inner-div svelte-1kzog83",i.className=e.computedClass+" svelte-1kzog83",i.style.cssText=e.customSize},m(t,e){(0,a.$T)(t,i,e),(0,a.R3)(i,s),d.m(s,null),(0,a.R3)(s,n),h._mount(s,null),(0,a.$T)(t,o,e),p&&p.m(t,e),(0,a.$T)(t,r,e)},p(e,a){c===(c=l(a))&&d?d.p(e,a):(d.d(1),(d=c(t,a)).c(),d.m(s,n));var o={};e.mediaAttachments&&(o.mediaAttachments=a.mediaAttachments),e.sensitive&&(o.sensitive=a.sensitive),e.sensitiveShown&&(o.sensitiveShown=a.sensitiveShown),e.uuid&&(o.uuid=a.uuid),h._set(o),e.computedClass&&(i.className=a.computedClass+" svelte-1kzog83"),e.customSize&&(i.style.cssText=a.customSize),a.enableShortcuts?p?p.p(e,a):((p=Zt(t,a)).c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},d(t){t&&(0,a.r2)(i),d.d(),h.destroy(),t&&(0,a.r2)(o),p&&p.d(t),t&&(0,a.r2)(r)}}}function Wt(t,e){var i,s,n,o,r,l,c=new S.Z({root:t.root,store:t.store,data:{className:"status-sensitive-media-svg",href:"#fa-eye"}});return{c(){i=(0,a.az)("button"),s=(0,a.az)("div"),n=(0,a.az)("div"),o=(0,a.rw)("Sensitive content. Click to show."),r=(0,a.rw)("\n        "),l=(0,a.az)("div"),c._fragment.c(),this.h()},l(t){i=(0,a.d$)(t,"BUTTON",{id:!0,type:!0,class:!0,"aria-label":!0},!1);var e=(0,a.pI)(i);s=(0,a.d$)(e,"DIV",{class:!0},!1);var d=(0,a.pI)(s);n=(0,a.d$)(d,"DIV",{class:!0},!1);var u=(0,a.pI)(n);o=(0,a.M4)(u,"Sensitive content. Click to show."),u.forEach(a.r2),d.forEach(a.r2),r=(0,a.M4)(e,"\n        "),l=(0,a.d$)(e,"DIV",{class:!0},!1);var h=(0,a.pI)(l);c._fragment.l(h),h.forEach(a.r2),e.forEach(a.r2),this.h()},h(){n.className="status-sensitive-media-warning-text svelte-1kzog83",s.className="status-sensitive-media-warning svelte-1kzog83",l.className="svg-wrapper svelte-1kzog83",i.id=e.elementId,i.type="button",i.className="status-sensitive-media-button svelte-1kzog83",(0,a.P$)(i,"aria-label","Show sensitive media")},m(e,d){(0,a.$T)(e,i,d),(0,a.R3)(i,s),(0,a.R3)(s,n),(0,a.R3)(n,o),(0,a.R3)(i,r),(0,a.R3)(i,l),c._mount(l,null),t.refs.showSensitiveMedia=i},p(t,e){t.elementId&&(i.id=e.elementId)},d(e){e&&(0,a.r2)(i),c.destroy(),t.refs.showSensitiveMedia===i&&(t.refs.showSensitiveMedia=null)}}}function Vt(t,e){var i,s,n=new S.Z({root:t.root,store:t.store,data:{className:"status-sensitive-media-svg",href:"#fa-eye-slash"}});return{c(){i=(0,a.az)("button"),s=(0,a.az)("div"),n._fragment.c(),this.h()},l(t){i=(0,a.d$)(t,"BUTTON",{id:!0,type:!0,class:!0,"aria-label":!0},!1);var e=(0,a.pI)(i);s=(0,a.d$)(e,"DIV",{class:!0},!1);var o=(0,a.pI)(s);n._fragment.l(o),o.forEach(a.r2),e.forEach(a.r2),this.h()},h(){s.className="svg-wrapper svelte-1kzog83",i.id=e.elementId,i.type="button",i.className="status-sensitive-media-button svelte-1kzog83",(0,a.P$)(i,"aria-label","Hide sensitive media")},m(e,o){(0,a.$T)(e,i,o),(0,a.R3)(i,s),n._mount(s,null),t.refs.hideSensitiveMedia=i},p(t,e){t.elementId&&(i.id=e.elementId)},d(e){e&&(0,a.r2)(i),n.destroy(),t.refs.hideSensitiveMedia===i&&(t.refs.hideSensitiveMedia=null)}}}function Zt(t,e){var i={scope:e.shortcutScope,key:"y"},a=new C.Z({root:t.root,store:t.store,data:i});return a.on("pressed",(function(e){t.toggleSensitiveMedia(!1)})),{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},p(t,e){var i={};t.shortcutScope&&(i.scope=e.shortcutScope),a._set(i)},d(t){a.destroy(t)}}}function qt(t,e){var i={scope:e.shortcutScope,key:"i"},a=new C.Z({root:t.root,store:t.store,data:i});return a.on("pressed",(function(e){t.showFirstMedia()})),{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},p(t,e){var i={};t.shortcutScope&&(i.scope=e.shortcutScope),a._set(i)},d(t){a.destroy(t)}}}function Yt(t){if((0,a.S1)(this,t),this.store=v.h,this.refs={},this._state=(0,a.f0)(this.store._init(["largeInlineMedia","sensitivesShown","markMediaAsSensitive","neverMarkMediaAsSensitive"]),t.data),this.store._add(this,["largeInlineMedia","sensitivesShown","markMediaAsSensitive","neverMarkMediaAsSensitive"]),this._recompute({$sensitivesShown:1,uuid:1,originalStatus:1,mediaAttachments:1,sensitiveShown:1,oddCols:1,twoCols:1,$largeInlineMedia:1,$markMediaAsSensitive:1,$neverMarkMediaAsSensitive:1},this._state),this._intro=!0,this._handlers.destroy=[a.iT],document.getElementById("svelte-1kzog83-style")||function(){var t=(0,a.az)("style");t.id="svelte-1kzog83-style",t.textContent=".status-sensitive-media-container.svelte-1kzog83{grid-area:media;width:100%;margin:10px 0;position:relative;border-radius:0;border:none;background:none}.status-sensitive-inner-div.svelte-1kzog83{height:100%}.status-sensitive-media-container.grouped-images.svelte-1kzog83 .status-sensitive-inner-div.svelte-1kzog83{position:relative;width:100%}.status-sensitive-media-container.grouped-images.svelte-1kzog83{grid-area:media-grp}.status-sensitive-media-button.svelte-1kzog83{margin:0;padding:0;border:none;background:none}.status-sensitive-media-button.svelte-1kzog83:hover{background:none}.status-sensitive-media-button.svelte-1kzog83:active{background:none}.status-sensitive-media-shown.svelte-1kzog83 .status-sensitive-media-button.svelte-1kzog83{position:absolute;top:5px;left:5px;z-index:90}.status-sensitive-media-hidden.svelte-1kzog83 .status-sensitive-media-button.svelte-1kzog83{position:absolute;right:0;bottom:0;width:100%;height:100%}.status-sensitive-media-container.status-sensitive-media-hidden.svelte-1kzog83{width:100%;margin:10px auto}.status-sensitive-media-container.status-sensitive-media-hidden.not-grouped-images.svelte-1kzog83{height:250px}.status-sensitive-media-container.svelte-1kzog83 .status-sensitive-media-warning.svelte-1kzog83{top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;color:var(--deemphasized-text-color);z-index:60;padding:0 10px;position:absolute}.status-sensitive-media-container.svelte-1kzog83 .status-sensitive-media-warning .status-sensitive-media-warning-text.svelte-1kzog83{background:var(--mask-bg);padding:10px;border-radius:6px;color:var(--blurhash-sensitive-text-color)}.status-sensitive-media-container.svelte-1kzog83 .svg-wrapper.svelte-1kzog83{display:flex;align-items:flex-start;justify-content:flex-start;z-index:40;pointer-events:none;background:var(--mask-bg)}.status-sensitive-media-hidden.svelte-1kzog83 .svg-wrapper.svelte-1kzog83{position:absolute;background:none;top:5px;left:5px;right:0;bottom:0}.status-sensitive-media-container.grouped-images.svelte-1kzog83 .svg-wrapper.svelte-1kzog83{border-radius:6px}.status-sensitive-media-container.status-sensitive-media-shown.svelte-1kzog83 .svg-wrapper.svelte-1kzog83{background:none}.status-sensitive-media-svg{width:24px;height:24px;fill:var(--mask-svg-fill);border-radius:2px;background:var(--mask-opaque-bg);margin:5px;padding:6px 10px}.status-sensitive-media-container.status-sensitive-media-hidden .status-sensitive-media-svg{fill:var(--blurhash-sensitive-text-color);background:var(--mask-bg)}",(0,a.R3)(document.head,t)}(),this._fragment=function(t,e){var i,s;function n(t){return t.sensitive?Ut:Bt}var o=n(e),r=o(t,e),l=e.enableShortcuts&&qt(t,e);return{c(){r.c(),i=(0,a.rw)("\n"),l&&l.c(),s=(0,a.Yr)()},l(t){r.l(t),i=(0,a.M4)(t,"\n"),l&&l.l(t),s=(0,a.Yr)()},m(t,e){r.m(t,e),(0,a.$T)(t,i,e),l&&l.m(t,e),(0,a.$T)(t,s,e)},p(e,a){o===(o=n(a))&&r?r.p(e,a):(r.d(1),(r=o(t,a)).c(),r.m(i.parentNode,i)),a.enableShortcuts?l?l.p(e,a):((l=qt(t,a)).c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},d(t){r.d(t),t&&(0,a.r2)(i),l&&l.d(t),t&&(0,a.r2)(s)}}}(this,this._state),this.root._oncreate.push((()=>{Ot.call(this),this.fire("update",{changed:(0,a.lZ)({},this._state),current:this._state})})),t.target){var e=(0,a.pI)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(Yt.prototype,a.uS),(0,a.f0)(Yt.prototype,Ht),Yt.prototype._recompute=function(t,e){(t.$sensitivesShown||t.uuid)&&this._differs(e.sensitiveShown,e.sensitiveShown=function({$sensitivesShown:t,uuid:e}){return!!t[e]}(e))&&(t.sensitiveShown=!0),t.originalStatus&&this._differs(e.mediaAttachments,e.mediaAttachments=function({originalStatus:t}){return t.media_attachments}(e))&&(t.mediaAttachments=!0),t.mediaAttachments&&(this._differs(e.oddCols,e.oddCols=function({mediaAttachments:t}){return t.length>1&&t.length%2}(e))&&(t.oddCols=!0),this._differs(e.twoCols,e.twoCols=function({mediaAttachments:t}){return 2===t.length}(e))&&(t.twoCols=!0)),(t.sensitiveShown||t.oddCols||t.twoCols||t.$largeInlineMedia)&&this._differs(e.computedClass,e.computedClass=function({sensitiveShown:t,oddCols:e,twoCols:i,$largeInlineMedia:a}){return(0,Lt.q)("status-sensitive-media-container",t?"status-sensitive-media-shown":"status-sensitive-media-hidden",e&&"odd-cols",i&&"two-cols",a?"not-grouped-images":"grouped-images")}(e))&&(t.computedClass=!0),(t.originalStatus||t.$markMediaAsSensitive||t.$neverMarkMediaAsSensitive)&&this._differs(e.sensitive,e.sensitive=function({originalStatus:t,$markMediaAsSensitive:e,$neverMarkMediaAsSensitive:i}){return!i&&(e||t.sensitive)}(e))&&(t.sensitive=!0),t.uuid&&this._differs(e.elementId,e.elementId=function({uuid:t}){return`sensitive-${t}`}(e))&&(t.elementId=!0),(t.$largeInlineMedia||t.mediaAttachments)&&this._differs(e.customSize,e.customSize=function({$largeInlineMedia:t,mediaAttachments:e}){return t||!e||e.length<5?"":`padding-bottom: ${29*Math.ceil(e.length/2)}%;`}(e))&&(t.customSize=!0),(t.mediaAttachments||t.$largeInlineMedia)&&this._differs(e.nCols,e.nCols=function({mediaAttachments:t,$largeInlineMedia:e}){return!e&&t.length>1?2:1}(e))&&(t.nCols=!0)};const Kt=Yt;var Gt=i(7569),Qt=i(7843);function Jt(t){try{return new URL(t,location.href).origin!==location.origin}catch(e){return console.error("Ignoring malformed URL",t),!0}}var Xt={hydrateContent(){(0,Gt.B)("hydrateContent");const t=this.refs.node,{originalStatus:e,uuid:i}=this.get(),{mentions:a,tags:s}=e;let n=0;const o=Array.from(t.getElementsByTagName("A"));for(const r of o){if(s&&r.classList.contains("hashtag"))for(const e of s)r.getAttribute("href").toLowerCase().endsWith(`/${e.name.toLowerCase()}`)&&(r.setAttribute("href",`/tags/${e.name}`),r.setAttribute("id",`status-content-link-${i}-${++n}`),r.removeAttribute("target"),r.removeAttribute("rel"));else if(a&&r.classList.contains("mention"))for(const e of a)r.getAttribute("href")===e.url&&(r.setAttribute("href",`/accounts/${e.id}`),r.setAttribute("title",`@${e.acct}`),r.setAttribute("id",`status-content-link-${i}-${++n}`),r.removeAttribute("target"),r.removeAttribute("rel"));const t=r.getAttribute("href");Jt(t)&&(r.setAttribute("title",t),r.setAttribute("target","_blank"),r.setAttribute("rel","nofollow noopener"))}(0,Gt.s)("hydrateContent")}};function te(){this.hydrateContent()}function ee(t){var e,i,s;if((0,a.S1)(this,t),this.store=v.h,this.refs={},this._state=(0,a.f0)(this.store._init(["autoplayGifs"]),t.data),this.store._add(this,["autoplayGifs"]),this._recompute({isStatusInOwnThread:1,isStatusInNotification:1,shown:1,originalStatus:1,content:1,originalStatusEmojis:1,$autoplayGifs:1},this._state),this._intro=!0,this._handlers.destroy=[a.iT],document.getElementById("svelte-1qsi0g9-style")||function(){var t=(0,a.az)("style");t.id="svelte-1qsi0g9-style",t.textContent=".status-content.svelte-1qsi0g9{margin:10px 10px 10px 5px;grid-area:content;word-wrap:break-word;overflow:hidden;white-space:pre-wrap;font-size:0.9em;display:none}.status-content.status-in-own-thread.svelte-1qsi0g9{font-size:1.3em;margin:20px 10px 20px 5px}.status-content.shown.svelte-1qsi0g9{display:block}.status-content li{font-size:1.3em}\n      .status-content p,\n      .status-content blockquote,\n      .status-content ul,\n      .status-content ol{margin:0 0 20px}\n      .status-content p:first-child,\n      .status-content blockquote:first-child,\n      .status-content ul:first-child,\n      .status-content ol:first-child{margin:0 0 20px}\n      .status-content p:last-child,\n      .status-content blockquote:last-child,\n      .status-content ul:last-child,\n      .status-content ol:last-child{margin:0}.status-content blockquote{padding-left:1.5rem;border-left:5px solid var(--body-bg);color:var(--very-deemphasized-text-color);font-style:italic}.status-content ul, .status-content ol{padding-left:2rem}.status-content.status-in-notification.svelte-1qsi0g9{color:var(--very-deemphasized-text-color)}.status-content.status-in-notification a, .status-content.status-in-notification a:hover{color:var(--very-deemphasized-link-color)}.status-content .invisible{font-size:0;line-height:0;display:inline-block;width:0;height:0;position:absolute}.underline-links .status-content a{text-decoration:underline}@media(max-width: 240px){\n      .status-content p:last-child,\n      .status-content blockquote:last-child,\n      .status-content ul:last-child,\n      .status-content ol:last-child{margin:0 0 10px}}",(0,a.R3)(document.head,t)}(),this._fragment=(e=this,i=this._state,{c(){s=(0,a.az)("div"),this.h()},l(t){s=(0,a.d$)(t,"DIV",{class:!0},!1),(0,a.pI)(s).forEach(a.r2),this.h()},h(){s.className=i.computedClass+" svelte-1qsi0g9"},m(t,n){(0,a.$T)(t,s,n),s.innerHTML=i.massagedContent,e.refs.node=s},p(t,e){t.massagedContent&&(s.innerHTML=e.massagedContent),t.computedClass&&(s.className=e.computedClass+" svelte-1qsi0g9")},d(t){t&&(0,a.r2)(s),e.refs.node===s&&(e.refs.node=null)}}),this.root._oncreate.push((()=>{te.call(this),this.fire("update",{changed:(0,a.lZ)({},this._state),current:this._state})})),t.target){var n=(0,a.pI)(t.target);t.hydrate?this._fragment.l(n):this._fragment.c(),n.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(ee.prototype,a.uS),(0,a.f0)(ee.prototype,Xt),ee.prototype._recompute=function(t,e){(t.isStatusInOwnThread||t.isStatusInNotification||t.shown)&&this._differs(e.computedClass,e.computedClass=function({isStatusInOwnThread:t,isStatusInNotification:e,shown:i}){return(0,Lt.q)("status-content",t&&"status-in-own-thread",e&&"status-in-notification",i&&"shown")}(e))&&(t.computedClass=!0),t.originalStatus&&this._differs(e.content,e.content=function({originalStatus:t}){return t.content||""}(e))&&(t.content=!0),(t.content||t.originalStatusEmojis||t.$autoplayGifs)&&this._differs(e.massagedContent,e.massagedContent=function({content:t,originalStatusEmojis:e,$autoplayGifs:i}){return(0,Qt.K)(t,e,i)}(e))&&(t.massagedContent=!0)};const ie=ee;var ae=i(6630),se=i(5573),ne=i.n(se);var oe={toggleSpoilers(t){const{uuid:e}=this.get(),{spoilersShown:i}=this.store.get();return i[e]=void 0===t?!i[e]:!!t,this.store.set({spoilersShown:i}),requestAnimationFrame((()=>{(0,Gt.B)("clickSpoilerButton"),this.fire("recalculateHeight"),(0,Gt.s)("clickSpoilerButton")})),!0}};function re(){this.toggleSpoilers=this.toggleSpoilers.bind(this);const{elementId:t}=this.get();q(this,t,(()=>this.toggleSpoilers())),(0,I.on)("toggleAllSpoilers",this,this.toggleSpoilers)}function le(t,e){var i={scope:e.shortcutScope,key:"x"},a=new C.Z({root:t.root,store:t.store,data:i});return a.on("pressed",(function(e){t.toggleSpoilers()})),{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},p(t,e){var i={};t.shortcutScope&&(i.scope=e.shortcutScope),a._set(i)},d(t){a.destroy(t)}}}function ce(t){var e,i,s,n,o,r,l,c,d,u,h,p,m,f;if((0,a.S1)(this,t),this.store=v.h,this._state=(0,a.f0)(this.store._init(["autoplayGifs"]),t.data),this.store._add(this,["autoplayGifs"]),this._recompute({spoilerText:1,originalStatusEmojis:1,$autoplayGifs:1,uuid:1},this._state),this._intro=!0,this._handlers.destroy=[a.iT],document.getElementById("svelte-8nwehe-style")||function(){var t=(0,a.az)("style");t.id="svelte-8nwehe-style",t.textContent=".status-spoiler.svelte-8nwehe{grid-area:spoiler;word-wrap:break-word;overflow:hidden;white-space:pre-wrap;font-size:0.9em;margin:10px 5px}.status-spoiler.status-in-own-thread.svelte-8nwehe{font-size:1.3em;margin:20px 5px 10px}.status-spoiler.status-in-notification.svelte-8nwehe{color:var(--very-deemphasized-text-color)}.status-spoiler-button.svelte-8nwehe{grid-area:spoiler-btn;margin:10px 5px}.status-spoiler-button.svelte-8nwehe button.svelte-8nwehe{padding:5px 10px;font-size:1.1em}.underline-links .status-spoiler a{text-decoration:underline}",(0,a.R3)(document.head,t)}(),this._fragment=(e=this,i=this._state,m=i.spoilerShown?"Show less":"Show more",f=i.enableShortcuts&&le(e,i),{c(){s=(0,a.az)("div"),n=(0,a.az)("p"),r=(0,a.rw)("\n"),l=(0,a.az)("div"),c=(0,a.az)("button"),d=(0,a.rw)(m),h=(0,a.rw)("\n"),f&&f.c(),p=(0,a.Yr)(),this.h()},l(t){s=(0,a.d$)(t,"DIV",{class:!0},!1);var e=(0,a.pI)(s);n=(0,a.d$)(e,"P",{},!1),(0,a.pI)(n).forEach(a.r2),e.forEach(a.r2),r=(0,a.M4)(t,"\n"),l=(0,a.d$)(t,"DIV",{class:!0},!1);var i=(0,a.pI)(l);c=(0,a.d$)(i,"BUTTON",{id:!0,type:!0,class:!0},!1);var o=(0,a.pI)(c);d=(0,a.M4)(o,m),o.forEach(a.r2),i.forEach(a.r2),h=(0,a.M4)(t,"\n"),f&&f.l(t),p=(0,a.Yr)(),this.h()},h(){s.className=o="status-spoiler "+(i.isStatusInNotification?"status-in-notification":"")+" "+(i.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-8nwehe",c.id=i.elementId,c.type="button",c.className="svelte-8nwehe",l.className=u="status-spoiler-button "+(i.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-8nwehe"},m(t,e){(0,a.$T)(t,s,e),(0,a.R3)(s,n),n.innerHTML=i.massagedSpoilerText,(0,a.$T)(t,r,e),(0,a.$T)(t,l,e),(0,a.R3)(l,c),(0,a.R3)(c,d),(0,a.$T)(t,h,e),f&&f.m(t,e),(0,a.$T)(t,p,e)},p(t,i){t.massagedSpoilerText&&(n.innerHTML=i.massagedSpoilerText),(t.isStatusInNotification||t.isStatusInOwnThread)&&o!==(o="status-spoiler "+(i.isStatusInNotification?"status-in-notification":"")+" "+(i.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-8nwehe")&&(s.className=o),t.spoilerShown&&m!==(m=i.spoilerShown?"Show less":"Show more")&&(0,a.a_)(d,m),t.elementId&&(c.id=i.elementId),t.isStatusInOwnThread&&u!==(u="status-spoiler-button "+(i.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-8nwehe")&&(l.className=u),i.enableShortcuts?f?f.p(t,i):((f=le(e,i)).c(),f.m(p.parentNode,p)):f&&(f.d(1),f=null)},d(t){t&&((0,a.r2)(s),(0,a.r2)(r),(0,a.r2)(l),(0,a.r2)(h)),f&&f.d(t),t&&(0,a.r2)(p)}}),this.root._oncreate.push((()=>{re.call(this),this.fire("update",{changed:(0,a.lZ)({},this._state),current:this._state})})),t.target){var g=(0,a.pI)(t.target);t.hydrate?this._fragment.l(g):this._fragment.c(),g.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(ce.prototype,a.uS),(0,a.f0)(ce.prototype,oe),ce.prototype._recompute=function(t,e){(t.spoilerText||t.originalStatusEmojis||t.$autoplayGifs)&&this._differs(e.massagedSpoilerText,e.massagedSpoilerText=function({spoilerText:t,originalStatusEmojis:e,$autoplayGifs:i}){return t=ne()(t),(0,ae.k)(t,e,i)}(e))&&(t.massagedSpoilerText=!0),t.uuid&&this._differs(e.elementId,e.elementId=function({uuid:t}){return`spoiler-${t}`}(e))&&(t.elementId=!0)};const de=ce;var ue=i(6905),he=i(624),pe=i(8848),me=i(1372);var fe={observe:me.N7,onPostedStatus(t){const{originalStatusId:e}=this.get();t===e&&requestAnimationFrame((()=>{const{uuid:t}=this.get(),{repliesShown:e}=this.store.get();e[t]=!1,this.store.set({repliesShown:e}),this.fire("recalculateHeight")}))},setupRecalculateHeightListener(){const t=()=>requestAnimationFrame((()=>this.fire("recalculateHeight"))),e=(0,he.Z)(t,400),i=(0,pe.Z)((()=>{e(),t()}),150,{leading:!0,trailing:!0});this.observe("composeData",i)}};function ge(){(0,I.on)("postedStatus",this,this.onPostedStatus),this.setupRecalculateHeightListener()}function ve(t){var e,i,s,n,o;if((0,a.S1)(this,t),this.store=v.h,this._state=(0,a.f0)(this.store._init(["currentComposeData"]),t.data),this.store._add(this,["currentComposeData"]),this._recompute({$currentComposeData:1,originalStatusId:1},this._state),this._intro=!0,this._handlers.destroy=[a.iT],document.getElementById("svelte-1jxbhxo-style")||function(){var t=(0,a.az)("style");t.id="svelte-1jxbhxo-style",t.textContent=".status-article-compose-box.svelte-1jxbhxo{grid-area:compose;max-width:100%}",(0,a.R3)(document.head,t)}(),this._fragment=(e=this,i=this._state,n={realm:i.originalStatusId,autoFocus:"true",hideBottomBorder:"true",isReply:"true",replyVisibility:i.visibility,replySpoiler:i.spoilerText,inReplyToUuid:i.uuid},o=new ue.default({root:e.root,store:e.store,data:n}),{c(){s=(0,a.az)("div"),o._fragment.c(),this.h()},l(t){s=(0,a.d$)(t,"DIV",{class:!0},!1);var e=(0,a.pI)(s);o._fragment.l(e),e.forEach(a.r2),this.h()},h(){s.className="status-article-compose-box svelte-1jxbhxo"},m(t,e){(0,a.$T)(t,s,e),o._mount(s,null)},p(t,e){var i={};t.originalStatusId&&(i.realm=e.originalStatusId),t.visibility&&(i.replyVisibility=e.visibility),t.spoilerText&&(i.replySpoiler=e.spoilerText),t.uuid&&(i.inReplyToUuid=e.uuid),o._set(i)},d(t){t&&(0,a.r2)(s),o.destroy()}}),this.root._oncreate.push((()=>{ge.call(this),this.fire("update",{changed:(0,a.lZ)({},this._state),current:this._state})})),t.target){var r=(0,a.pI)(t.target);t.hydrate?this._fragment.l(r):this._fragment.c(),r.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(ve.prototype,a.uS),(0,a.f0)(ve.prototype,fe),ve.prototype._recompute=function(t,e){(t.$currentComposeData||t.originalStatusId)&&this._differs(e.composeData,e.composeData=function({$currentComposeData:t,originalStatusId:e}){return t[e]||{}}(e))&&(t.composeData=!0)};const ye=ve;function be(t,e,i){const a=Object.create(t);return a.mention=e[i],a.i=i,a}function we(t,e){for(var i,s,n,o=e.mentions,r=[],l=0;l<o.length;l+=1)r[l]=xe(t,be(e,o,l));return{c(){i=(0,a.az)("div"),s=(0,a.az)("p");for(var t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){i=(0,a.d$)(t,"DIV",{class:!0},!1);var e=(0,a.pI)(i);s=(0,a.d$)(e,"P",{},!1);for(var n=(0,a.pI)(s),o=0;o<r.length;o+=1)r[o].l(n);n.forEach(a.r2),e.forEach(a.r2),this.h()},h(){i.className=n="status-mentions "+(e.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-12x5to9"},m(t,e){(0,a.$T)(t,i,e),(0,a.R3)(i,s);for(var n=0;n<r.length;n+=1)r[n].m(s,null)},p(e,a){if(e.uuid||e.mentions){o=a.mentions;for(var l=0;l<o.length;l+=1){const i=be(a,o,l);r[l]?r[l].p(e,i):(r[l]=xe(t,i),r[l].c(),r[l].m(s,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=o.length}e.isStatusInOwnThread&&n!==(n="status-mentions "+(a.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-12x5to9")&&(i.className=n)},d(t){t&&(0,a.r2)(i),(0,a.kw)(r,t)}}}function _e(t,e){var i;return{c(){i=(0,a.rw)(" ")},l(t){i=(0,a.M4)(t," ")},m(t,e){(0,a.$T)(t,i,e)},d(t){t&&(0,a.r2)(i)}}}function xe(t,e){var i,s,n,o,r,l,c,d,u=e.mention.username,h=e.i>0&&_e();return{c(){h&&h.c(),i=(0,a.rw)("\n        "),s=(0,a.az)("a"),n=(0,a.rw)("@"),o=(0,a.rw)(u),r=(0,a.rw)("\n        "),this.h()},l(t){h&&h.l(t),i=(0,a.M4)(t,"\n        "),s=(0,a.d$)(t,"A",{id:!0,href:!0,rel:!0,title:!0},!1);var e=(0,a.pI)(s);n=(0,a.M4)(e,"@"),o=(0,a.M4)(e,u),r=(0,a.M4)(e,"\n        "),e.forEach(a.r2),this.h()},h(){s.id=l="status-mention-link-"+e.uuid+"-"+e.mention.id,s.href=c="/accounts/"+e.mention.id,s.rel="prefetch",s.title=d="@"+e.mention.acct},m(t,e){h&&h.m(t,e),(0,a.$T)(t,i,e),(0,a.$T)(t,s,e),(0,a.R3)(s,n),(0,a.R3)(s,o),(0,a.R3)(s,r)},p(t,e){e.i>0?h||((h=_e()).c(),h.m(i.parentNode,i)):h&&(h.d(1),h=null),t.mentions&&u!==(u=e.mention.username)&&(0,a.a_)(o,u),(t.uuid||t.mentions)&&l!==(l="status-mention-link-"+e.uuid+"-"+e.mention.id)&&(s.id=l),t.mentions&&c!==(c="/accounts/"+e.mention.id)&&(s.href=c),t.mentions&&d!==(d="@"+e.mention.acct)&&(s.title=d)},d(t){h&&h.d(t),t&&((0,a.r2)(i),(0,a.r2)(s))}}}function Se(t){var e,i,s,n;if((0,a.S1)(this,t),this._state=(0,a.f0)({},t.data),this._recompute({originalStatus:1},this._state),this._intro=!0,document.getElementById("svelte-12x5to9-style")||function(){var t=(0,a.az)("style");t.id="svelte-12x5to9-style",t.textContent=".status-mentions.svelte-12x5to9{grid-area:mentions;margin:10px 0 10px 5px;font-size:0.9em}.status-mentions.status-in-own-thread.svelte-12x5to9{font-size:1.3em;margin:20px 10px 20px 5px}.underline-links .status-mentions a{text-decoration:underline}",(0,a.R3)(document.head,t)}(),this._fragment=(e=this,i=this._state,n=i.mentions.length&&we(e,i),{c(){n&&n.c(),s=(0,a.Yr)()},l(t){n&&n.l(t),s=(0,a.Yr)()},m(t,e){n&&n.m(t,e),(0,a.$T)(t,s,e)},p(t,i){i.mentions.length?n?n.p(t,i):((n=we(e,i)).c(),n.m(s.parentNode,s)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&(0,a.r2)(s)}}),t.target){var o=(0,a.pI)(t.target);t.hydrate?this._fragment.l(o):this._fragment.c(),o.forEach(a.r2),this._mount(t.target,t.anchor)}}(0,a.f0)(Se.prototype,a.uS),Se.prototype._recompute=function(t,e){t.originalStatus&&this._differs(e.mentions,e.mentions=function({originalStatus:t}){return t.mentions||[]}(e))&&(t.mentions=!0)};const Ie=Se,$e=["second","minute","hour","day","week","month","year"],Te=[60,60,24,7,365/7/12,12],Ae=(0,b.I)((()=>new Intl.RelativeTimeFormat(y.M)));function ze(t){let e=0;const i=t<0;for(t=Math.abs(t);t>=Te[e]&&e<Te.length;e++)t/=Te[e];return e*=2,(t=Math.floor(t))>(0===e?9:1)&&(e+=1),function(t,e){if(0===e)return"just now";const i=$e[Math.floor(e/2)];return Ae().format(t,i)}(i?-t:t,e)}function ke(t){return ze(t/1e3)}function Ne(t,e){(0,Gt.B)("formatTimeagoDate");const i=ke(Math.min(0,t-e));return(0,Gt.s)("formatTimeagoDate"),i}async function Me(t){const{currentInstance:e,accessToken:i}=v.h.get();try{return await async function(t,e,i){const a=`${(0,K.E)(t)}/api/v1/polls/${i}`;return(0,Y.U2)(a,(0,K.I)(e),{timeout:Y.EH})}(e,i,t)}catch(a){console.error(a),G.A.say((0,p.A)(["Unable to refresh poll: ",["error"]],{error:a.message||""}))}}async function Ce(t,e){const{currentInstance:i,accessToken:a}=v.h.get();try{return await async function(t,e,i,a){const s=`${(0,K.E)(t)}/api/v1/polls/${i}/votes`;return(0,Y.v_)(s,{choices:a},(0,K.I)(e),{timeout:Y.$Q})}(i,a,t,e.map((t=>t.toString())))}catch(s){console.error(s),G.A.say((0,p.A)(["Unable to vote in poll: ",["error"]],{error:s.message||""}))}}async function Re(t){const e=Date.now(),i=await t(),a=Date.now()-e;return a<1e3&&await new Promise((t=>setTimeout(t,1e3-a))),i}function Ee(t,e){const i=[];for(let a=0;a<e.length;a++)t.elements[a].checked&&i.push(a);return i}function Le({expiresAtTS:t,expired:e,$now:i}){return e?Ne(t,i):function(t,e){(0,Gt.B)("formatTimeagoFutureDate");const i=ke(Math.max(0,t-e));return(0,Gt.s)("formatTimeagoFutureDate"),i}(t,i)}function De(t){return t&&t.replace(/[\n\t]+/g," ")||""}var Pe={onRefreshClick(){return(async()=>{const{pollId:t}=this.get();this.set({loading:!0});try{const e=await Re((()=>Me(t)));if(e){const{polls:i}=this.store.get();i[t]=e,this.store.set({polls:i})}}finally{this.set({loading:!1})}})(),!0},async onSubmit(t){t.preventDefault(),t.stopPropagation();const{pollId:e,options:i,formDisabled:a}=this.get();if(a)return;const s=Ee(this.refs.form,i);this.set({loading:!0});try{const t=await Re((()=>Ce(e,s)));if(t){const{polls:i}=this.store.get();i[e]=t,this.store.set({polls:i})}}finally{this.set({loading:!1})}},onChange(){const{options:t}=this.get(),e=Ee(this.refs.form,t);this.set({choices:e})}};function je(){this.onRefreshClick=this.onRefreshClick.bind(this);const{refreshElementId:t}=this.get();q(this,t,this.onRefreshClick)}function Fe(t){const{component:e}=this._svelte;e.onChange()}function He(t,e,i){const a=Object.create(t);return a.option=e[i],a.i=i,a}function Oe(t,e,i){const a=Object.create(t);return a.option=e[i],a}function Be(t,e){for(var i,s,n,o,r,l=e.options,c=[],d=0;d<l.length;d+=1)c[d]=We(t,He(e,l,d));function u(e){t.onSubmit(e)}return{c(){i=(0,a.az)("form"),s=(0,a.az)("ul");for(var t=0;t<c.length;t+=1)c[t].c();n=(0,a.rw)("\n      "),o=(0,a.az)("button"),r=(0,a.rw)("Vote"),this.h()},l(t){i=(0,a.d$)(t,"FORM",{class:!0,"aria-label":!0},!1);var e=(0,a.pI)(i);s=(0,a.d$)(e,"UL",{class:!0,"aria-label":!0},!1);for(var l=(0,a.pI)(s),d=0;d<c.length;d+=1)c[d].l(l);l.forEach(a.r2),n=(0,a.M4)(e,"\n      "),o=(0,a.d$)(e,"BUTTON",{disabled:!0,type:!0,class:!0},!1);var u=(0,a.pI)(o);r=(0,a.M4)(u,"Vote"),u.forEach(a.r2),e.forEach(a.r2),this.h()},h(){s.className="poll-choices svelte-1yo012l",(0,a.P$)(s,"aria-label","Poll choices"),o.disabled=e.formDisabled,o.type="submit",o.className="svelte-1yo012l",(0,a.NH)(i,"submit",u),i.className="poll-form svelte-1yo012l",(0,a.P$)(i,"aria-label","Vote on poll")},m(e,l){(0,a.$T)(e,i,l),(0,a.R3)(i,s);for(var d=0;d<c.length;d+=1)c[d].m(s,null);(0,a.R3)(i,n),(0,a.R3)(i,o),(0,a.R3)(o,r),t.refs.form=i},p(e,i){if(e.options||e.multiple||e.uuid){l=i.options;for(var a=0;a<l.length;a+=1){const n=He(i,l,a);c[a]?c[a].p(e,n):(c[a]=We(t,n),c[a].c(),c[a].m(s,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=l.length}e.formDisabled&&(o.disabled=i.formDisabled)},d(e){e&&(0,a.r2)(i),(0,a.kw)(c,e),(0,a.ys)(i,"submit",u),t.refs.form===i&&(t.refs.form=null)}}}function Ue(t,e){for(var i,s=e.options,n=[],o=0;o<s.length;o+=1)n[o]=Ve(t,Oe(e,s,o));return{c(){i=(0,a.az)("ul");for(var t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){i=(0,a.d$)(t,"UL",{class:!0,"aria-label":!0},!1);for(var e=(0,a.pI)(i),s=0;s<n.length;s+=1)n[s].l(e);e.forEach(a.r2),this.h()},h(){i.className="poll-choices svelte-1yo012l",(0,a.P$)(i,"aria-label","Poll results")},m(t,e){(0,a.$T)(t,i,e);for(var s=0;s<n.length;s+=1)n[s].m(i,null)},p(e,a){if(e.options){s=a.options;for(var o=0;o<s.length;o+=1){const r=Oe(a,s,o);n[o]?n[o].p(e,r):(n[o]=Ve(t,r),n[o].c(),n[o].m(i,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=s.length}},d(t){t&&(0,a.r2)(i),(0,a.kw)(n,t)}}}function We(t,e){var i,s,n,o,r,l,c,d=De(e.option.title);return{c(){i=(0,a.az)("li"),s=(0,a.az)("label"),n=(0,a.az)("input"),l=(0,a.rw)("\n              "),c=(0,a.az)("span"),this.h()},l(t){i=(0,a.d$)(t,"LI",{class:!0},!1);var e=(0,a.pI)(i);s=(0,a.d$)(e,"LABEL",{},!1);var o=(0,a.pI)(s);n=(0,a.d$)(o,"INPUT",{type:!0,name:!0,value:!0},!1),(0,a.pI)(n).forEach(a.r2),l=(0,a.M4)(o,"\n              "),c=(0,a.d$)(o,"SPAN",{class:!0},!1),(0,a.pI)(c).forEach(a.r2),o.forEach(a.r2),e.forEach(a.r2),this.h()},h(){n._svelte={component:t},(0,a.NH)(n,"change",Fe),(0,a.P$)(n,"type",o=e.multiple?"checkbox":"radio"),n.name=r="poll-choice-"+e.uuid,n.value=e.i,c.className="svelte-1yo012l",i.className="poll-choice poll-form-option svelte-1yo012l"},m(t,e){(0,a.$T)(t,i,e),(0,a.R3)(i,s),(0,a.R3)(s,n),(0,a.R3)(s,l),(0,a.R3)(s,c),c.innerHTML=d},p(t,e){t.multiple&&o!==(o=e.multiple?"checkbox":"radio")&&(0,a.P$)(n,"type",o),t.uuid&&r!==(r="poll-choice-"+e.uuid)&&(n.name=r),t.options&&d!==(d=De(e.option.title))&&(c.innerHTML=d)},d(t){t&&(0,a.r2)(i),(0,a.ys)(n,"change",Fe)}}}function Ve(t,e){var i,s,n,o,r,l,c,d,u,h,p,m=e.option.share,f=De(e.option.title);return{c(){i=(0,a.az)("li"),s=(0,a.az)("div"),n=(0,a.az)("strong"),o=(0,a.rw)(m),r=(0,a.rw)("%"),l=(0,a.rw)(" "),c=(0,a.az)("span"),d=(0,a.rw)("\n          "),u=(0,a.uO)("svg"),h=(0,a.uO)("line"),this.h()},l(t){i=(0,a.d$)(t,"LI",{class:!0},!1);var e=(0,a.pI)(i);s=(0,a.d$)(e,"DIV",{class:!0},!1);var p=(0,a.pI)(s);n=(0,a.d$)(p,"STRONG",{},!1);var f=(0,a.pI)(n);o=(0,a.M4)(f,m),r=(0,a.M4)(f,"%"),f.forEach(a.r2),l=(0,a.M4)(p," "),c=(0,a.d$)(p,"SPAN",{},!1),(0,a.pI)(c).forEach(a.r2),p.forEach(a.r2),d=(0,a.M4)(e,"\n          "),u=(0,a.d$)(e,"svg",{"aria-hidden":!0,class:!0},!0);var g=(0,a.pI)(u);h=(0,a.d$)(g,"line",{x1:!0,y1:!0,x2:!0,y2:!0},!0),(0,a.pI)(h).forEach(a.r2),g.forEach(a.r2),e.forEach(a.r2),this.h()},h(){s.className="option-text svelte-1yo012l",(0,a.P$)(h,"x1","0"),(0,a.P$)(h,"y1","0"),(0,a.P$)(h,"x2",p=e.option.share+"%"),(0,a.P$)(h,"y2","0"),(0,a.P$)(u,"aria-hidden","true"),(0,a.P$)(u,"class","svelte-1yo012l"),i.className="poll-choice option svelte-1yo012l"},m(t,e){(0,a.$T)(t,i,e),(0,a.R3)(i,s),(0,a.R3)(s,n),(0,a.R3)(n,o),(0,a.R3)(n,r),(0,a.R3)(s,l),(0,a.R3)(s,c),c.innerHTML=f,(0,a.R3)(i,d),(0,a.R3)(i,u),(0,a.R3)(u,h)},p(t,e){t.options&&m!==(m=e.option.share)&&(0,a.a_)(o,m),t.options&&f!==(f=De(e.option.title))&&(c.innerHTML=f),t.options&&p!==(p=e.option.share+"%")&&(0,a.P$)(h,"x2",p)},d(t){t&&(0,a.r2)(i)}}}function Ze(t){if((0,a.S1)(this,t),this.store=v.h,this.refs={},this._state=(0,a.f0)((0,a.f0)(this.store._init(["polls","autoplayGifs","now","isMobileSize"]),{loading:!1,choices:[]}),t.data),this.store._add(this,["polls","autoplayGifs","now","isMobileSize"]),this._recompute({originalStatus:1,$polls:1,pollId:1,poll:1,originalStatusEmojis:1,$autoplayGifs:1,expiresAt:1,expiresAtTS:1,expired:1,$now:1,uuid:1,$isMobileSize:1,isStatusInOwnThread:1,choices:1,votesCount:1,isStatusInNotification:1,loading:1,shown:1},this._state),this._intro=!0,this._handlers.destroy=[a.iT],document.getElementById("svelte-1yo012l-style")||function(){var t=(0,a.az)("style");t.id="svelte-1yo012l-style",t.textContent=".poll.svelte-1yo012l{grid-area:poll;margin:10px 10px 10px 5px;padding:20px;border:1px solid var(--main-border);border-radius:2px;transition:opacity 0.2s linear;display:none}.poll.shown.svelte-1yo012l{display:block}.poll.status-in-own-thread.svelte-1yo012l{padding:20px}.poll.poll-loading.svelte-1yo012l{opacity:0.5;pointer-events:none}ul.poll-choices.svelte-1yo012l{list-style:none;margin:0;padding:0}li.poll-choice.svelte-1yo012l{margin:10px 0;padding:0}li.poll-choice.svelte-1yo012l:first-child{margin-top:0}.option.svelte-1yo012l{margin:0 0 10px 0;padding:0;display:flex;flex-direction:column;stroke:var(--svg-fill);stroke-width:10px}.option-text.svelte-1yo012l{word-wrap:break-word;white-space:pre-wrap;font-size:1.1em}svg.svelte-1yo012l{height:10px;width:100%;margin-top:5px}.status-in-notification.svelte-1yo012l .option-text.svelte-1yo012l{color:var(--very-deemphasized-text-color)}.status-in-notification.svelte-1yo012l svg.svelte-1yo012l{opacity:0.5}.status-in-own-thread.svelte-1yo012l .option-text.svelte-1yo012l{font-size:1.2em}ul.poll-details.svelte-1yo012l{display:grid;grid-template-columns:max-content minmax(0, max-content) max-content;grid-gap:20px;align-items:center;justify-content:left;margin:10px 0 0 0;padding:0;list-style:none;overflow-x:hidden}.poll-stat.svelte-1yo012l button.svelte-1yo012l{background:none;box-shadow:none;border:none;border-spacing:0;margin:0;padding:0;font-size:inherit;font-weight:normal;text-align:left;text-decoration:none;text-indent:0;display:flex;align-items:center}.poll-stat.svelte-1yo012l button.svelte-1yo012l:hover{text-decoration:underline}li.poll-stat.svelte-1yo012l{display:flex;flex-direction:row;align-items:center;color:var(--deemphasized-text-color);padding:0;margin:0}.poll-stat.is-notification.svelte-1yo012l,.poll-stat.is-notification.svelte-1yo012l .poll-stat-text.svelte-1yo012l{color:var(--very-deemphasized-text-color)}.poll-stat.is-notification .poll-icon{fill:var(--very-deemphasized-text-color)}.poll-stat.poll-expired.svelte-1yo012l{display:none}.poll-stat-text.svelte-1yo012l{margin-left:5px;color:var(--deemphasized-text-color)}.poll-stat-expiry.svelte-1yo012l{word-wrap:break-word;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.poll-icon{fill:var(--deemphasized-text-color);width:18px;height:18px;min-width:18px}.poll-form-option.svelte-1yo012l{padding-bottom:10px}.poll-form.svelte-1yo012l label span.svelte-1yo012l{text-overflow:ellipsis;overflow:hidden;word-break:break-word;white-space:pre-wrap;padding-left:5px}@media(max-width: 479px){.poll.svelte-1yo012l{padding:10px 5px}.poll.status-in-own-thread.svelte-1yo012l{padding:10px}ul.poll-details.svelte-1yo012l{grid-gap:5px;justify-content:space-between}}@media(max-width: 320px){.poll-stat-text-refresh.svelte-1yo012l{display:none}ul.poll-details.svelte-1yo012l{grid-gap:2px}.poll-stat-text.svelte-1yo012l{margin-left:2px}li.poll-choice.svelte-1yo012l{margin:5px 0}}",(0,a.R3)(document.head,t)}(),this._fragment=function(t,e){var i,s,n,o,r,l,c,d,u,h,p,m,f,g,v,y,b,w,_,x,I,$,T,A,z,k;function N(t){return t.voted||t.expired?Ue:Be}var M=N(e),C=M(t,e),R=new S.Z({root:t.root,store:t.store,data:{className:"poll-icon",href:"#fa-bar-chart"}}),E=new S.Z({root:t.root,store:t.store,data:{className:"poll-icon",href:"#fa-clock"}}),L=new S.Z({root:t.root,store:t.store,data:{className:"poll-icon",href:"#fa-refresh"}});return{c(){i=(0,a.az)("div"),C.c(),s=(0,a.rw)("\n  "),n=(0,a.az)("ul"),o=(0,a.az)("li"),R._fragment.c(),r=(0,a.rw)("\n      "),l=(0,a.az)("span"),c=(0,a.rw)(e.votesText),u=(0,a.rw)("\n    "),h=(0,a.az)("li"),E._fragment.c(),p=(0,a.rw)("\n      "),m=(0,a.az)("span"),f=(0,a.az)("span"),g=(0,a.rw)(e.expiryText),y=(0,a.rw)("\n        "),b=(0,a.az)("time"),w=(0,a.rw)(e.expiresAtTimeagoFormatted),x=(0,a.rw)("\n    "),I=(0,a.az)("li"),$=(0,a.az)("button"),L._fragment.c(),T=(0,a.rw)("\n        "),A=(0,a.az)("span"),z=(0,a.rw)("Refresh"),this.h()},l(t){i=(0,a.d$)(t,"DIV",{class:!0,"aria-busy":!0},!1);var d=(0,a.pI)(i);C.l(d),s=(0,a.M4)(d,"\n  "),n=(0,a.d$)(d,"UL",{class:!0,"aria-label":!0},!1);var v=(0,a.pI)(n);o=(0,a.d$)(v,"LI",{class:!0},!1);var _=(0,a.pI)(o);R._fragment.l(_),r=(0,a.M4)(_,"\n      "),l=(0,a.d$)(_,"SPAN",{class:!0},!1);var S=(0,a.pI)(l);c=(0,a.M4)(S,e.votesText),S.forEach(a.r2),_.forEach(a.r2),u=(0,a.M4)(v,"\n    "),h=(0,a.d$)(v,"LI",{class:!0},!1);var k=(0,a.pI)(h);E._fragment.l(k),p=(0,a.M4)(k,"\n      "),m=(0,a.d$)(k,"SPAN",{class:!0},!1);var N=(0,a.pI)(m);f=(0,a.d$)(N,"SPAN",{class:!0},!1);var M=(0,a.pI)(f);g=(0,a.M4)(M,e.expiryText),M.forEach(a.r2),y=(0,a.M4)(N,"\n        "),b=(0,a.d$)(N,"TIME",{datetime:!0,title:!0},!1);var D=(0,a.pI)(b);w=(0,a.M4)(D,e.expiresAtTimeagoFormatted),D.forEach(a.r2),N.forEach(a.r2),k.forEach(a.r2),x=(0,a.M4)(v,"\n    "),I=(0,a.d$)(v,"LI",{class:!0},!1);var P=(0,a.pI)(I);$=(0,a.d$)(P,"BUTTON",{id:!0,class:!0,"aria-label":!0},!1);var j=(0,a.pI)($);L._fragment.l(j),T=(0,a.M4)(j,"\n        "),A=(0,a.d$)(j,"SPAN",{class:!0,"aria-hidden":!0},!1);var F=(0,a.pI)(A);z=(0,a.M4)(F,"Refresh"),F.forEach(a.r2),j.forEach(a.r2),P.forEach(a.r2),v.forEach(a.r2),d.forEach(a.r2),this.h()},h(){l.className="poll-stat-text svelte-1yo012l",o.className=d="poll-stat "+(e.notification?"is-notification":"")+" svelte-1yo012l",f.className=v=e.useNarrowSize?"sr-only":"",b.dateTime=e.expiresAt,b.title=e.expiresAtAbsoluteFormatted,m.className="poll-stat-text poll-stat-expiry svelte-1yo012l",h.className=_="poll-stat "+(e.notification?"is-notification":"")+" svelte-1yo012l",A.className="poll-stat-text poll-stat-text-refresh svelte-1yo012l",(0,a.P$)(A,"aria-hidden","true"),$.id=e.refreshElementId,$.className="focus-fix svelte-1yo012l",(0,a.P$)($,"aria-label","Refresh"),I.className=k="poll-stat "+(e.notification?"is-notification":"")+" "+(e.expired?"poll-expired":"")+" svelte-1yo012l",n.className="poll-details svelte-1yo012l",(0,a.P$)(n,"aria-label","Poll details"),i.className=e.computedClass+" svelte-1yo012l",(0,a.P$)(i,"aria-busy",e.loading)},m(t,e){(0,a.$T)(t,i,e),C.m(i,null),(0,a.R3)(i,s),(0,a.R3)(i,n),(0,a.R3)(n,o),R._mount(o,null),(0,a.R3)(o,r),(0,a.R3)(o,l),(0,a.R3)(l,c),(0,a.R3)(n,u),(0,a.R3)(n,h),E._mount(h,null),(0,a.R3)(h,p),(0,a.R3)(h,m),(0,a.R3)(m,f),(0,a.R3)(f,g),(0,a.R3)(m,y),(0,a.R3)(m,b),(0,a.R3)(b,w),(0,a.R3)(n,x),(0,a.R3)(n,I),(0,a.R3)(I,$),L._mount($,null),(0,a.R3)($,T),(0,a.R3)($,A),(0,a.R3)(A,z)},p(e,n){M===(M=N(n))&&C?C.p(e,n):(C.d(1),(C=M(t,n)).c(),C.m(i,s)),e.votesText&&(0,a.a_)(c,n.votesText),e.notification&&d!==(d="poll-stat "+(n.notification?"is-notification":"")+" svelte-1yo012l")&&(o.className=d),e.expiryText&&(0,a.a_)(g,n.expiryText),e.useNarrowSize&&v!==(v=n.useNarrowSize?"sr-only":"")&&(f.className=v),e.expiresAtTimeagoFormatted&&(0,a.a_)(w,n.expiresAtTimeagoFormatted),e.expiresAt&&(b.dateTime=n.expiresAt),e.expiresAtAbsoluteFormatted&&(b.title=n.expiresAtAbsoluteFormatted),e.notification&&_!==(_="poll-stat "+(n.notification?"is-notification":"")+" svelte-1yo012l")&&(h.className=_),e.refreshElementId&&($.id=n.refreshElementId),(e.notification||e.expired)&&k!==(k="poll-stat "+(n.notification?"is-notification":"")+" "+(n.expired?"poll-expired":"")+" svelte-1yo012l")&&(I.className=k),e.computedClass&&(i.className=n.computedClass+" svelte-1yo012l"),e.loading&&(0,a.P$)(i,"aria-busy",n.loading)},d(t){t&&(0,a.r2)(i),C.d(),R.destroy(),E.destroy(),L.destroy()}}}(this,this._state),this.root._oncreate.push((()=>{je.call(this),this.fire("update",{changed:(0,a.lZ)({},this._state),current:this._state})})),t.target){var e=(0,a.pI)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(Ze.prototype,a.uS),(0,a.f0)(Ze.prototype,Pe),Ze.prototype._recompute=function(t,e){t.originalStatus&&this._differs(e.pollId,e.pollId=function({originalStatus:t}){return t.poll.id}(e))&&(t.pollId=!0),(t.originalStatus||t.$polls||t.pollId)&&this._differs(e.poll,e.poll=function({originalStatus:t,$polls:e,pollId:i}){return e[i]||t.poll}(e))&&(t.poll=!0),(t.poll||t.originalStatusEmojis||t.$autoplayGifs)&&this._differs(e.options,e.options=function({poll:t,originalStatusEmojis:e,$autoplayGifs:i}){return t.options.map((({title:a,votes_count:s})=>({title:(0,ae.k)(ne()(a),e,i),share:t.votes_count?Math.round(s/t.votes_count*100):0})))}(e))&&(t.options=!0),t.poll&&(this._differs(e.votesCount,e.votesCount=function({poll:t}){return t.votes_count}(e))&&(t.votesCount=!0),this._differs(e.voted,e.voted=function({poll:t}){return t.voted}(e))&&(t.voted=!0),this._differs(e.multiple,e.multiple=function({poll:t}){return t.multiple}(e))&&(t.multiple=!0),this._differs(e.expired,e.expired=function({poll:t}){return t.expired}(e))&&(t.expired=!0),this._differs(e.expiresAt,e.expiresAt=function({poll:t}){return t.expires_at}(e))&&(t.expiresAt=!0)),t.expiresAt&&this._differs(e.expiresAtTS,e.expiresAtTS=function({expiresAt:t}){return new Date(t).getTime()}(e))&&(t.expiresAtTS=!0),(t.expiresAtTS||t.expired||t.$now)&&this._differs(e.expiresAtTimeagoFormatted,e.expiresAtTimeagoFormatted=Le(e))&&(t.expiresAtTimeagoFormatted=!0),t.expiresAtTS&&this._differs(e.expiresAtAbsoluteFormatted,e.expiresAtAbsoluteFormatted=function({expiresAtTS:t}){return w().format(t)}(e))&&(t.expiresAtAbsoluteFormatted=!0),t.expired&&this._differs(e.expiryText,e.expiryText=function({expired:t}){return t?"Ended":"Ends"}(e))&&(t.expiryText=!0),t.uuid&&this._differs(e.refreshElementId,e.refreshElementId=function({uuid:t}){return`poll-refresh-${t}`}(e))&&(t.refreshElementId=!0),(t.$isMobileSize||t.expired||t.isStatusInOwnThread)&&this._differs(e.useNarrowSize,e.useNarrowSize=function({$isMobileSize:t,expired:e,isStatusInOwnThread:i}){return!i&&t&&!e}(e))&&(t.useNarrowSize=!0),t.choices&&this._differs(e.formDisabled,e.formDisabled=function({choices:t}){return!t.length}(e))&&(t.formDisabled=!0),t.votesCount&&this._differs(e.votesText,e.votesText=function({votesCount:t}){return(0,p.A)([["count","plural",0,{one:["1 vote"],other:[["count"]," votes"]}]],{count:t})}(e))&&(t.votesText=!0),(t.isStatusInNotification||t.isStatusInOwnThread||t.loading||t.shown)&&this._differs(e.computedClass,e.computedClass=function({isStatusInNotification:t,isStatusInOwnThread:e,loading:i,shown:a}){return(0,Lt.q)("poll",t&&"status-in-notification",e&&"status-in-own-thread",i&&"poll-loading",a&&"shown")}(e))&&(t.computedClass=!0)};const qe=Ze;var Ye=i(8313);function Ke(t,e,i){let a=t;for(;a&&!i(a);){if(e(a))return!0;a=a.parentElement}return!1}var Ge=i(2846),Qe=i(1406),Je=i(2962);function Xe(t,e){if(!t)return;const i=(0,Qe.N)(t.account,e);return"reblog"===t.type?(0,p.A)([["account"]," boosted your toot"],{account:i}):"favourite"===t.type?(0,p.A)([["account"]," favorited your toot"],{account:i}):void 0}function ti(t,e,i){if(!t)return;const a=(0,Qe.N)(e,i);return(0,p.A)(["Boosted by ",["account"]],{account:a})}function ei(t){return t.replace(/\s+/g," ").trim()}function ii(t,e,i,a,s,n,o,r,l,c,d,u,h){const m=(0,Qe.N)(t,c),f=n||!s?ei(i):(0,p.A)(["Content warning: ",["spoiler"]],{spoiler:ei(s)}),g=u&&"has media",v=h&&"has poll",y=function(t){for(const e of Je.K5)if(e.key===t)return e.label}(l);if(d)return(0,p.A)([["privacy"]," toot by ",["account"]],{privacy:y,account:m});return[Xe(r,c),m,f,g,v,a,`@${t.acct}`,y,ti(o,e,c)].filter(Boolean).join(", ")}var ai=i(2222),si=i(6787),ni=i(9808),oi=i(9605);const ri=new Set(["a","button","input","textarea","label"]),li=t=>ri.has(t.localName),ci=t=>t.classList.contains("status-toolbar"),di=t=>t.classList.contains("status-article");var ui={onClickOrKeydown(t){const{type:e,keyCode:i,target:a}=t;return("click"===e||"keydown"===e&&13===i)&&(!Ke(a,li,di)&&(!Ke(a,ci,di)&&(this.open(),!0)))},open(){const{originalStatusId:t}=this.get();(0,Ye.E9)(`/statuses/${t}`)},openAuthorProfile(){const{accountForShortcut:t}=this.get();(0,Ye.E9)(`/accounts/${t.id}`)},async mentionAuthor(){const{accountForShortcut:t}=this.get();await(0,si.O)(t)}};function hi(){const{elementId:t,isStatusInOwnThread:e,showContent:i}=this.get(),{disableTapOnStatus:a}=this.store.get();e||a||q(this,t,(t=>this.onClickOrKeydown(t))),i||(0,Ge.F)((()=>{this.set({preloadHiddenContent:!0})})),(0,Ge.F)((()=>(0,oi.d)(this.refs.article)))}function pi(t,e){for(var i=[e.params],s={},n=0;n<i.length;n+=1)s=(0,a.f0)(s,i[n]);var o=new r.Z({root:t.root,store:t.store,data:s});return{c(){o._fragment.c()},l(t){o._fragment.l(t)},m(t,e){o._mount(t,e)},p(t,e){var s=t.params?(0,a.Yn)(i,[e.params]):{};o._set(s)},d(t){o.destroy(t)}}}function mi(t,e){for(var i=[e.params,e.timestampParams],s={},n=0;n<i.length;n+=1)s=(0,a.f0)(s,i[n]);var o=new f({root:t.root,store:t.store,data:s});return{c(){o._fragment.c()},l(t){o._fragment.l(t)},m(t,e){o._mount(t,e)},p(t,e){var s=t.params||t.timestampParams?(0,a.Yn)(i,[t.params&&e.params,t.timestampParams&&e.timestampParams]):{};o._set(s)},d(t){o.destroy(t)}}}function fi(t,e){for(var i=[e.params,{spoilerShown:e.spoilerShown}],s={},n=0;n<i.length;n+=1)s=(0,a.f0)(s,i[n]);var o=new de({root:t.root,store:t.store,data:s});return o.on("recalculateHeight",(function(e){t.fire("recalculateHeight",e)})),{c(){o._fragment.c()},l(t){o._fragment.l(t)},m(t,e){o._mount(t,e)},p(t,e){var s=t.params||t.spoilerShown?(0,a.Yn)(i,[t.params&&e.params,t.spoilerShown&&{spoilerShown:e.spoilerShown}]):{};o._set(s)},d(t){o.destroy(t)}}}function gi(t,e){for(var i=[e.params],s={},n=0;n<i.length;n+=1)s=(0,a.f0)(s,i[n]);var o=new Ie({root:t.root,store:t.store,data:s});return{c(){o._fragment.c()},l(t){o._fragment.l(t)},m(t,e){o._mount(t,e)},p(t,e){var s=t.params?(0,a.Yn)(i,[e.params]):{};o._set(s)},d(t){o.destroy(t)}}}function vi(t,e){for(var i=[e.params,{shown:e.showContent}],s={},n=0;n<i.length;n+=1)s=(0,a.f0)(s,i[n]);var o=new ie({root:t.root,store:t.store,data:s});return{c(){o._fragment.c()},l(t){o._fragment.l(t)},m(t,e){o._mount(t,e)},p(t,e){var s=t.params||t.showContent?(0,a.Yn)(i,[t.params&&e.params,t.showContent&&{shown:e.showContent}]):{};o._set(s)},d(t){o.destroy(t)}}}function yi(t,e){for(var i=[e.params],s={},n=0;n<i.length;n+=1)s=(0,a.f0)(s,i[n]);var o=new B({root:t.root,store:t.store,data:s});return{c(){o._fragment.c()},l(t){o._fragment.l(t)},m(t,e){o._mount(t,e)},p(t,e){var s=t.params?(0,a.Yn)(i,[e.params]):{};o._set(s)},d(t){o.destroy(t)}}}function bi(t,e){for(var i=[e.params],s={},n=0;n<i.length;n+=1)s=(0,a.f0)(s,i[n]);var o=new Kt({root:t.root,store:t.store,data:s});return o.on("recalculateHeight",(function(e){t.fire("recalculateHeight",e)})),{c(){o._fragment.c()},l(t){o._fragment.l(t)},m(t,e){o._mount(t,e)},p(t,e){var s=t.params?(0,a.Yn)(i,[e.params]):{};o._set(s)},d(t){o.destroy(t)}}}function wi(t,e){for(var i=[e.params,{shown:e.showContent}],s={},n=0;n<i.length;n+=1)s=(0,a.f0)(s,i[n]);var o=new qe({root:t.root,store:t.store,data:s});return{c(){o._fragment.c()},l(t){o._fragment.l(t)},m(t,e){o._mount(t,e)},p(t,e){var s=t.params||t.showContent?(0,a.Yn)(i,[t.params&&e.params,t.showContent&&{shown:e.showContent}]):{};o._set(s)},d(t){o.destroy(t)}}}function _i(t,e){for(var i=[e.params,e.timestampParams],s={},n=0;n<i.length;n+=1)s=(0,a.f0)(s,i[n]);var o=new N({root:t.root,store:t.store,data:s});return{c(){o._fragment.c()},l(t){o._fragment.l(t)},m(t,e){o._mount(t,e)},p(t,e){var s=t.params||t.timestampParams?(0,a.Yn)(i,[t.params&&e.params,t.timestampParams&&e.timestampParams]):{};o._set(s)},d(t){o.destroy(t)}}}function xi(t,e){for(var i=[e.params],s={},n=0;n<i.length;n+=1)s=(0,a.f0)(s,i[n]);var o=new ye({root:t.root,store:t.store,data:s});return o.on("recalculateHeight",(function(e){t.fire("recalculateHeight",e)})),{c(){o._fragment.c()},l(t){o._fragment.l(t)},m(t,e){o._mount(t,e)},p(t,e){var s=t.params?(0,a.Yn)(i,[e.params]):{};o._set(s)},d(t){o.destroy(t)}}}function Si(t,e){var i,s,n={scope:e.shortcutScope,key:"o"},o=new C.Z({root:t.root,store:t.store,data:n});o.on("pressed",(function(e){t.open()}));var r={scope:e.shortcutScope,key:"p"},l=new C.Z({root:t.root,store:t.store,data:r});l.on("pressed",(function(e){t.openAuthorProfile()}));var c={scope:e.shortcutScope,key:"m"},d=new C.Z({root:t.root,store:t.store,data:c});return d.on("pressed",(function(e){t.mentionAuthor()})),{c(){o._fragment.c(),i=(0,a.rw)("\n  "),l._fragment.c(),s=(0,a.rw)("\n  "),d._fragment.c()},l(t){o._fragment.l(t),i=(0,a.M4)(t,"\n  "),l._fragment.l(t),s=(0,a.M4)(t,"\n  "),d._fragment.l(t)},m(t,e){o._mount(t,e),(0,a.$T)(t,i,e),l._mount(t,e),(0,a.$T)(t,s,e),d._mount(t,e)},p(t,e){var i={};t.shortcutScope&&(i.scope=e.shortcutScope),o._set(i);var a={};t.shortcutScope&&(a.scope=e.shortcutScope),l._set(a);var s={};t.shortcutScope&&(s.scope=e.shortcutScope),d._set(s)},d(t){o.destroy(t),t&&(0,a.r2)(i),l.destroy(t),t&&(0,a.r2)(s),d.destroy(t)}}}function Ii(t){if((0,a.S1)(this,t),this.store=v.h,this.refs={},this._state=(0,a.f0)((0,a.f0)(this.store._init(["currentInstance","spoilersShown","repliesShown","hideCards","omitEmojiInDisplayNames","now","disableRelativeTimestamps","disableLongAriaLabels","underlineLinks","disableTapOnStatus"]),{notification:void 0,replyVisibility:void 0,preloadHiddenContent:!1,enableShortcuts:null}),t.data),this.store._add(this,["currentInstance","spoilersShown","repliesShown","hideCards","omitEmojiInDisplayNames","now","disableRelativeTimestamps","disableLongAriaLabels","underlineLinks","disableTapOnStatus"]),this._recompute({status:1,originalStatus:1,notification:1,account:1,originalAccount:1,plainTextContent:1,plainTextContentOverLength:1,$currentInstance:1,timelineType:1,timelineValue:1,notificationId:1,statusId:1,uuid:1,elementId:1,originalStatusId:1,$spoilersShown:1,$repliesShown:1,isStatusInNotification:1,showMedia:1,$hideCards:1,$omitEmojiInDisplayNames:1,createdAtDate:1,createdAtDateTS:1,$now:1,$disableRelativeTimestamps:1,spoilerText:1,spoilerShown:1,shortInlineFormattedDate:1,showContent:1,reblog:1,visibility:1,$disableLongAriaLabels:1,showPoll:1,isStatusInOwnThread:1,$underlineLinks:1,$disableTapOnStatus:1,absoluteFormattedDate:1,accountId:1,originalAccountId:1,replyVisibility:1,inReplyToId:1,enableShortcuts:1,shortcutScope:1,originalStatusEmojis:1},this._state),this._intro=!0,this._handlers.destroy=[a.iT],document.getElementById("svelte-1t2jhtk-style")||function(){var t=(0,a.az)("style");t.id="svelte-1t2jhtk-style",t.textContent='.status-article.svelte-1t2jhtk{padding:var(--status-pad-v) var(--status-pad-h);display:grid;grid-template-areas:"header  header       header        header"\n        "sidebar author-name  author-handle relative-date"\n        "sidebar spoiler      spoiler       spoiler"\n        "sidebar spoiler-btn  spoiler-btn   spoiler-btn"\n        "sidebar mentions     mentions      mentions"\n        "sidebar content      content       content"\n        "sidebar card         card          card"\n        "sidebar media-grp    media-grp     media-grp"\n        "sidebar poll         poll          poll"\n        "media   media        media         media"\n        "....... toolbar      toolbar       toolbar"\n        "compose compose      compose       compose";grid-template-columns:min-content minmax(0, max-content) 1fr min-content;grid-template-rows:repeat(8, max-content)}.status-article.tap-on-status.svelte-1t2jhtk{cursor:pointer}.status-article.status-in-timeline.svelte-1t2jhtk{border-bottom:1px solid var(--main-border)}.status-article.status-direct.svelte-1t2jhtk{background-color:var(--status-direct-background)}.status-article.status-in-own-thread.svelte-1t2jhtk{grid-template-areas:"sidebar     author-name"\n      "sidebar     author-handle"\n      "spoiler     spoiler"\n      "spoiler-btn spoiler-btn"\n      "mentions    mentions"\n      "content     content"\n      "card        card"\n      "media-grp   media-grp"\n      "media       media"\n      "poll        poll"\n      "details     details"\n      "toolbar     toolbar"\n      "compose     compose";grid-template-columns:min-content 1fr;grid-template-rows:repeat(7, max-content)}',(0,a.R3)(document.head,t)}(),this._fragment=function(t,e){for(var i,s,n,r,l,c,u,p,m,f,g,v,y,b,w,_,x,S=e.showHeader&&pi(t,e),I=[e.params],$={},T=0;T<I.length;T+=1)$=(0,a.f0)($,I[T]);var A=new d({root:t.root,store:t.store,data:$}),z=[e.params],k={};for(T=0;T<z.length;T+=1)k=(0,a.f0)(k,z[T]);var N=new h({root:t.root,store:t.store,data:k}),M=!e.isStatusInOwnThread&&mi(t,e),C=[e.params],R={};for(T=0;T<C.length;T+=1)R=(0,a.f0)(R,C[T]);var E=new o({root:t.root,store:t.store,data:R}),L=e.spoilerText&&fi(t,e),D=!e.showContent&&gi(t,e),P=e.content&&(e.showContent||e.preloadHiddenContent)&&vi(t,e),j=e.showCard&&yi(t,e),F=e.showMedia&&bi(t,e),H=e.showPoll&&(e.showContent||e.preloadHiddenContent)&&wi(t,e),O=e.isStatusInOwnThread&&_i(t,e),B=[e.params,{replyShown:e.replyShown}],U={};for(T=0;T<B.length;T+=1)U=(0,a.f0)(U,B[T]);var W=new ot({root:t.root,store:t.store,data:U});W.on("recalculateHeight",(function(e){t.fire("recalculateHeight",e)}));var V=e.replyShown&&xi(t,e);function Z(e){t.fire("recalculateHeight",e)}var q=e.enableShortcuts&&Si(t,e);return{c(){i=(0,a.az)("article"),S&&S.c(),s=(0,a.rw)("\n  "),A._fragment.c(),n=(0,a.rw)("\n  "),N._fragment.c(),r=(0,a.rw)("\n  "),M&&M.c(),l=(0,a.rw)("\n  "),E._fragment.c(),c=(0,a.rw)("\n  "),L&&L.c(),u=(0,a.rw)("\n  "),D&&D.c(),p=(0,a.rw)("\n  "),P&&P.c(),m=(0,a.rw)("\n  "),j&&j.c(),f=(0,a.rw)("\n  "),F&&F.c(),g=(0,a.rw)("\n  "),H&&H.c(),v=(0,a.rw)("\n  "),O&&O.c(),y=(0,a.rw)("\n  "),W._fragment.c(),b=(0,a.rw)("\n  "),V&&V.c(),_=(0,a.rw)("\n"),q&&q.c(),x=(0,a.Yr)(),this.h()},l(t){i=(0,a.d$)(t,"ARTICLE",{id:!0,class:!0,tabindex:!0,"aria-posinset":!0,"aria-setsize":!0,"aria-label":!0},!1);var e=(0,a.pI)(i);S&&S.l(e),s=(0,a.M4)(e,"\n  "),A._fragment.l(e),n=(0,a.M4)(e,"\n  "),N._fragment.l(e),r=(0,a.M4)(e,"\n  "),M&&M.l(e),l=(0,a.M4)(e,"\n  "),E._fragment.l(e),c=(0,a.M4)(e,"\n  "),L&&L.l(e),u=(0,a.M4)(e,"\n  "),D&&D.l(e),p=(0,a.M4)(e,"\n  "),P&&P.l(e),m=(0,a.M4)(e,"\n  "),j&&j.l(e),f=(0,a.M4)(e,"\n  "),F&&F.l(e),g=(0,a.M4)(e,"\n  "),H&&H.l(e),v=(0,a.M4)(e,"\n  "),O&&O.l(e),y=(0,a.M4)(e,"\n  "),W._fragment.l(e),b=(0,a.M4)(e,"\n  "),V&&V.l(e),e.forEach(a.r2),_=(0,a.M4)(t,"\n"),q&&q.l(t),x=(0,a.Yr)(),this.h()},h(){(0,a.NH)(i,"recalculateHeight",Z),i.id=e.elementId,i.className=e.className+" svelte-1t2jhtk",i.tabIndex="0",(0,a.P$)(i,"aria-posinset",w=e.index+1),(0,a.P$)(i,"aria-setsize",e.length),(0,a.P$)(i,"aria-label",e.ariaLabel)},m(e,o){(0,a.$T)(e,i,o),S&&S.m(i,null),(0,a.R3)(i,s),A._mount(i,null),(0,a.R3)(i,n),N._mount(i,null),(0,a.R3)(i,r),M&&M.m(i,null),(0,a.R3)(i,l),E._mount(i,null),(0,a.R3)(i,c),L&&L.m(i,null),(0,a.R3)(i,u),D&&D.m(i,null),(0,a.R3)(i,p),P&&P.m(i,null),(0,a.R3)(i,m),j&&j.m(i,null),(0,a.R3)(i,f),F&&F.m(i,null),(0,a.R3)(i,g),H&&H.m(i,null),(0,a.R3)(i,v),O&&O.m(i,null),(0,a.R3)(i,y),W._mount(i,null),(0,a.R3)(i,b),V&&V.m(i,null),t.refs.article=i,(0,a.$T)(e,_,o),q&&q.m(e,o),(0,a.$T)(e,x,o)},p(e,n){n.showHeader?S?S.p(e,n):((S=pi(t,n)).c(),S.m(i,s)):S&&(S.d(1),S=null);var o=e.params?(0,a.Yn)(I,[n.params]):{};A._set(o);var r=e.params?(0,a.Yn)(z,[n.params]):{};N._set(r),n.isStatusInOwnThread?M&&(M.d(1),M=null):M?M.p(e,n):((M=mi(t,n)).c(),M.m(i,l));var c=e.params?(0,a.Yn)(C,[n.params]):{};E._set(c),n.spoilerText?L?L.p(e,n):((L=fi(t,n)).c(),L.m(i,u)):L&&(L.d(1),L=null),n.showContent?D&&(D.d(1),D=null):D?D.p(e,n):((D=gi(t,n)).c(),D.m(i,p)),n.content&&(n.showContent||n.preloadHiddenContent)?P?P.p(e,n):((P=vi(t,n)).c(),P.m(i,m)):P&&(P.d(1),P=null),n.showCard?j?j.p(e,n):((j=yi(t,n)).c(),j.m(i,f)):j&&(j.d(1),j=null),n.showMedia?F?F.p(e,n):((F=bi(t,n)).c(),F.m(i,g)):F&&(F.d(1),F=null),n.showPoll&&(n.showContent||n.preloadHiddenContent)?H?H.p(e,n):((H=wi(t,n)).c(),H.m(i,v)):H&&(H.d(1),H=null),n.isStatusInOwnThread?O?O.p(e,n):((O=_i(t,n)).c(),O.m(i,y)):O&&(O.d(1),O=null);var d=e.params||e.replyShown?(0,a.Yn)(B,[e.params&&n.params,e.replyShown&&{replyShown:n.replyShown}]):{};W._set(d),n.replyShown?V?V.p(e,n):((V=xi(t,n)).c(),V.m(i,null)):V&&(V.d(1),V=null),e.elementId&&(i.id=n.elementId),e.className&&(i.className=n.className+" svelte-1t2jhtk"),e.index&&w!==(w=n.index+1)&&(0,a.P$)(i,"aria-posinset",w),e.length&&(0,a.P$)(i,"aria-setsize",n.length),e.ariaLabel&&(0,a.P$)(i,"aria-label",n.ariaLabel),n.enableShortcuts?q?q.p(e,n):((q=Si(t,n)).c(),q.m(x.parentNode,x)):q&&(q.d(1),q=null)},d(e){e&&(0,a.r2)(i),S&&S.d(),A.destroy(),N.destroy(),M&&M.d(),E.destroy(),L&&L.d(),D&&D.d(),P&&P.d(),j&&j.d(),F&&F.d(),H&&H.d(),O&&O.d(),W.destroy(),V&&V.d(),(0,a.ys)(i,"recalculateHeight",Z),t.refs.article===i&&(t.refs.article=null),e&&(0,a.r2)(_),q&&q.d(e),e&&(0,a.r2)(x)}}}(this,this._state),this.root._oncreate.push((()=>{hi.call(this),this.fire("update",{changed:(0,a.lZ)({},this._state),current:this._state})})),t.target){var e=(0,a.pI)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(Ii.prototype,a.uS),(0,a.f0)(Ii.prototype,ui),Ii.prototype._recompute=function(t,e){t.status&&this._differs(e.originalStatus,e.originalStatus=function({status:t}){return t.reblog?t.reblog:t}(e))&&(t.originalStatus=!0),t.originalStatus&&this._differs(e.originalStatusId,e.originalStatusId=function({originalStatus:t}){return t.id}(e))&&(t.originalStatusId=!0),t.status&&this._differs(e.statusId,e.statusId=function({status:t}){return t.id}(e))&&(t.statusId=!0),t.notification&&this._differs(e.notificationId,e.notificationId=function({notification:t}){return t&&t.id}(e))&&(t.notificationId=!0),(t.notification||t.status)&&this._differs(e.account,e.account=function({notification:t,status:e}){return t&&t.account||e.account}(e))&&(t.account=!0),t.account&&this._differs(e.accountId,e.accountId=function({account:t}){return t.id}(e))&&(t.accountId=!0),t.originalStatus&&this._differs(e.originalAccount,e.originalAccount=function({originalStatus:t}){return t.account}(e))&&(t.originalAccount=!0),t.originalAccount&&this._differs(e.originalAccountId,e.originalAccountId=function({originalAccount:t}){return t.id}(e))&&(t.originalAccountId=!0),(t.originalAccount||t.notification)&&this._differs(e.accountForShortcut,e.accountForShortcut=function({originalAccount:t,notification:e}){return e?e.account:t}(e))&&(t.accountForShortcut=!0),t.originalStatus&&(this._differs(e.visibility,e.visibility=function({originalStatus:t}){return t.visibility}(e))&&(t.visibility=!0),this._differs(e.plainTextContent,e.plainTextContent=function({originalStatus:t}){return t.plainTextContent||""}(e))&&(t.plainTextContent=!0)),t.plainTextContent&&this._differs(e.plainTextContentOverLength,e.plainTextContentOverLength=function({plainTextContent:t}){return t.length>Je.Ai&&(0,ai.X)(t)>Je.Ai}(e))&&(t.plainTextContentOverLength=!0),(t.originalStatus||t.plainTextContentOverLength)&&this._differs(e.spoilerText,e.spoilerText=function({originalStatus:t,plainTextContentOverLength:e}){return t.spoiler_text||e&&Je.W2}(e))&&(t.spoilerText=!0),t.originalStatus&&this._differs(e.inReplyToId,e.inReplyToId=function({originalStatus:t}){return t.in_reply_to_id}(e))&&(t.inReplyToId=!0),(t.$currentInstance||t.timelineType||t.timelineValue||t.notificationId||t.statusId)&&this._differs(e.uuid,e.uuid=function({$currentInstance:t,timelineType:e,timelineValue:i,notificationId:a,statusId:s}){return(0,ni.L)(t,e,i,a,s)}(e))&&(t.uuid=!0),t.uuid&&this._differs(e.elementId,e.elementId=function({uuid:t}){return t}(e))&&(t.elementId=!0),t.elementId&&this._differs(e.shortcutScope,e.shortcutScope=function({elementId:t}){return t}(e))&&(t.shortcutScope=!0),(t.timelineType||t.timelineValue||t.originalStatusId)&&this._differs(e.isStatusInOwnThread,e.isStatusInOwnThread=function({timelineType:t,timelineValue:e,originalStatusId:i}){return("status"===t||"reply"===t)&&e===i}(e))&&(t.isStatusInOwnThread=!0),(t.originalStatusId||t.notification)&&this._differs(e.isStatusInNotification,e.isStatusInNotification=function({originalStatusId:t,notification:e}){return e&&e.status&&"mention"!==e.type&&e.status.id===t}(e))&&(t.isStatusInNotification=!0),(t.$spoilersShown||t.uuid)&&this._differs(e.spoilerShown,e.spoilerShown=function({$spoilersShown:t,uuid:e}){return!!t[e]}(e))&&(t.spoilerShown=!0),(t.$repliesShown||t.uuid)&&this._differs(e.replyShown,e.replyShown=function({$repliesShown:t,uuid:e}){return!!t[e]}(e))&&(t.replyShown=!0),(t.originalStatus||t.isStatusInNotification)&&this._differs(e.showMedia,e.showMedia=function({originalStatus:t,isStatusInNotification:e}){return!e&&t.media_attachments&&t.media_attachments.length}(e))&&(t.showMedia=!0),(t.originalStatus||t.isStatusInNotification||t.showMedia||t.$hideCards)&&this._differs(e.showCard,e.showCard=function({originalStatus:t,isStatusInNotification:e,showMedia:i,$hideCards:a}){return!a&&!e&&!i&&t.card&&t.card.title}(e))&&(t.showCard=!0),t.originalStatus&&this._differs(e.showPoll,e.showPoll=function({originalStatus:t}){return t.poll}(e))&&(t.showPoll=!0),t.originalAccount&&this._differs(e.originalAccountEmojis,e.originalAccountEmojis=function({originalAccount:t}){return t.emojis||[]}(e))&&(t.originalAccountEmojis=!0),t.originalStatus&&this._differs(e.originalStatusEmojis,e.originalStatusEmojis=function({originalStatus:t}){return t.emojis||[]}(e))&&(t.originalStatusEmojis=!0),t.originalAccount&&this._differs(e.originalAccountDisplayName,e.originalAccountDisplayName=function({originalAccount:t}){return t.display_name||t.username}(e))&&(t.originalAccountDisplayName=!0),(t.originalAccount||t.$omitEmojiInDisplayNames)&&this._differs(e.originalAccountAccessibleName,e.originalAccountAccessibleName=function({originalAccount:t,$omitEmojiInDisplayNames:e}){return(0,Qe.N)(t,e)}(e))&&(t.originalAccountAccessibleName=!0),t.originalStatus&&this._differs(e.createdAtDate,e.createdAtDate=function({originalStatus:t}){return t.created_at}(e))&&(t.createdAtDate=!0),t.createdAtDate&&this._differs(e.createdAtDateTS,e.createdAtDateTS=function({createdAtDate:t}){return new Date(t).getTime()}(e))&&(t.createdAtDateTS=!0),t.createdAtDateTS&&this._differs(e.absoluteFormattedDate,e.absoluteFormattedDate=function({createdAtDateTS:t}){return w().format(t)}(e))&&(t.absoluteFormattedDate=!0),(t.createdAtDateTS||t.$now||t.$disableRelativeTimestamps)&&this._differs(e.shortInlineFormattedDate,e.shortInlineFormattedDate=function({createdAtDateTS:t,$now:e,$disableRelativeTimestamps:i}){return i?x().format(t):Ne(t,e)}(e))&&(t.shortInlineFormattedDate=!0),t.status&&this._differs(e.reblog,e.reblog=function({status:t}){return t.reblog}(e))&&(t.reblog=!0),(t.spoilerText||t.spoilerShown)&&this._differs(e.showContent,e.showContent=function({spoilerText:t,spoilerShown:e}){return!t||e}(e))&&(t.showContent=!0),(t.originalAccount||t.account||t.plainTextContent||t.shortInlineFormattedDate||t.spoilerText||t.showContent||t.reblog||t.notification||t.visibility||t.$omitEmojiInDisplayNames||t.$disableLongAriaLabels||t.showMedia||t.showPoll)&&this._differs(e.ariaLabel,e.ariaLabel=function({originalAccount:t,account:e,plainTextContent:i,shortInlineFormattedDate:a,spoilerText:s,showContent:n,reblog:o,notification:r,visibility:l,$omitEmojiInDisplayNames:c,$disableLongAriaLabels:d,showMedia:u,showPoll:h}){return ii(t,e,i,a,s,n,o,r,l,c,d,u,h)}(e))&&(t.ariaLabel=!0),(t.notification||t.status||t.timelineType)&&this._differs(e.showHeader,e.showHeader=function({notification:t,status:e,timelineType:i}){return t&&["reblog","favourite","poll"].includes(t.type)||e.reblog||"pinned"===i}(e))&&(t.showHeader=!0),(t.visibility||t.timelineType||t.isStatusInOwnThread||t.$underlineLinks||t.$disableTapOnStatus)&&this._differs(e.className,e.className=function({visibility:t,timelineType:e,isStatusInOwnThread:i,$underlineLinks:a,$disableTapOnStatus:s}){return(0,Lt.q)("status-article","shortcut-list-item","focus-fix","direct"!==e&&"direct"===t&&"status-direct","search"!==e&&"status-in-timeline",i&&"status-in-own-thread",a&&"underline-links",!s&&!i&&"tap-on-status")}(e))&&(t.className=!0),t.originalStatus&&this._differs(e.content,e.content=function({originalStatus:t}){return t.content||""}(e))&&(t.content=!0),(t.createdAtDate||t.createdAtDateTS||t.shortInlineFormattedDate||t.absoluteFormattedDate)&&this._differs(e.timestampParams,e.timestampParams=function({createdAtDate:t,createdAtDateTS:e,shortInlineFormattedDate:i,absoluteFormattedDate:a}){return{createdAtDate:t,createdAtDateTS:e,shortInlineFormattedDate:i,absoluteFormattedDate:a}}(e))&&(t.timestampParams=!0),(t.notification||t.notificationId||t.status||t.statusId||t.timelineType||t.account||t.accountId||t.uuid||t.isStatusInNotification||t.isStatusInOwnThread||t.originalAccount||t.originalAccountId||t.visibility||t.replyVisibility||t.spoilerText||t.originalStatus||t.originalStatusId||t.inReplyToId||t.enableShortcuts||t.shortcutScope||t.originalStatusEmojis)&&this._differs(e.params,e.params=function({notification:t,notificationId:e,status:i,statusId:a,timelineType:s,account:n,accountId:o,uuid:r,isStatusInNotification:l,isStatusInOwnThread:c,originalAccount:d,originalAccountId:u,visibility:h,replyVisibility:p,spoilerText:m,originalStatus:f,originalStatusId:g,inReplyToId:v,enableShortcuts:y,shortcutScope:b,originalStatusEmojis:w}){return{notification:t,notificationId:e,status:i,statusId:a,timelineType:s,account:n,accountId:o,uuid:r,isStatusInNotification:l,isStatusInOwnThread:c,originalAccount:d,originalAccountId:u,visibility:h,replyVisibility:p,spoilerText:m,originalStatus:f,originalStatusId:g,inReplyToId:v,enableShortcuts:y,shortcutScope:b,originalStatusEmojis:w}}(e))&&(t.params=!0)};const $i=Ii},1951:(t,e,i)=>{"use strict";i.d(e,{Z:()=>u});var a=i(4178),s=i(2322),n=i(9867),o=i(2311),r=i(2936);function l(t,e){var i,s,o,r={account:e.account},l=new n.Z({root:t.root,store:t.store,data:r});return{c(){i=(0,a.az)("a"),l._fragment.c(),this.h()},l(t){i=(0,a.d$)(t,"A",{id:!0,href:!0,rel:!0,class:!0,title:!0},!1);var e=(0,a.pI)(i);l._fragment.l(e),e.forEach(a.r2),this.h()},h(){i.id=e.elementId,i.href=s="/accounts/"+e.accountId,i.rel="prefetch",i.className="status-header-author svelte-ocvzjk",i.title=o="@"+e.account.acct},m(t,e){(0,a.$T)(t,i,e),l._mount(i,null)},p(t,e){var a={};t.account&&(a.account=e.account),l._set(a),t.elementId&&(i.id=e.elementId),t.accountId&&s!==(s="/accounts/"+e.accountId)&&(i.href=s),t.account&&o!==(o="@"+e.account.acct)&&(i.title=o)},d(t){t&&(0,a.r2)(i),l.destroy()}}}function c(t,e){var i,s;return{c(){i=(0,a.az)("span"),s=(0,a.rw)("Pinned toot"),this.h()},l(t){i=(0,a.d$)(t,"SPAN",{class:!0},!1);var e=(0,a.pI)(i);s=(0,a.M4)(e,"Pinned toot"),e.forEach(a.r2),this.h()},h(){i.className="status-header-author svelte-ocvzjk"},m(t,e){(0,a.$T)(t,i,e),(0,a.R3)(i,s)},p:a.ZT,d(t){t&&(0,a.r2)(i)}}}function d(t){var e;if((0,a.S1)(this,t),this.store=r.h,this._state=(0,a.f0)(this.store._init(["currentVerifyCredentials"]),t.data),this.store._add(this,["currentVerifyCredentials"]),this._recompute({uuid:1,notification:1,notificationType:1,status:1,timelineType:1,$currentVerifyCredentials:1},this._state),this._intro=!0,this._handlers.destroy=[a.iT],document.getElementById("svelte-ocvzjk-style")||((e=(0,a.az)("style")).id="svelte-ocvzjk-style",e.textContent=".status-header.svelte-ocvzjk{grid-area:header;margin:0 10px 5px 5px;display:flex;align-items:center}.status-header.header-is-follow.svelte-ocvzjk{margin-bottom:0}.status-header-avatar.svelte-ocvzjk{margin-left:19px}.status-header-svg{min-width:18px;margin-left:20px;width:18px;height:18px;fill:var(--deemphasized-text-color)}.status-header.status-in-notification .status-header-svg{fill:var(--body-text-color)}.status-header-content.svelte-ocvzjk{display:flex;flex:1;min-width:0;width:0}.status-header-author.svelte-ocvzjk{margin-left:5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.status-header-action.svelte-ocvzjk{margin-left:0.5ch;white-space:nowrap;flex:1}.status-header-action.svelte-ocvzjk,.status-header-author.svelte-ocvzjk,.status-header-author.svelte-ocvzjk:visited,.status-header-author.svelte-ocvzjk:hover{color:var(--deemphasized-text-color)}.status-in-notification.svelte-ocvzjk .status-header-action.svelte-ocvzjk,.status-in-notification.svelte-ocvzjk .status-header-author.svelte-ocvzjk,.status-in-notification.svelte-ocvzjk .status-header-author.svelte-ocvzjk:visited,.status-in-notification.svelte-ocvzjk .status-header-author.svelte-ocvzjk:hover{color:var(--body-text-color)}@media(max-width: 767px){.status-header-svg{margin-left:10px}}@media(max-width: 240px){.status-header.svelte-ocvzjk{margin-left:0}.status-header-avatar.svelte-ocvzjk{margin-left:0}}",(0,a.R3)(document.head,e)),this._fragment=function(t,e){var i,n,r,d,u,h,p,m,f,g,v={account:e.account,size:"extra-small"},y=new s.Z({root:t.root,store:t.store,data:v}),b={className:"status-header-svg",href:e.icon},w=new o.Z({root:t.root,store:t.store,data:b});function _(t){return"pinned"===t.timelineType?c:"poll"!==t.notificationType?l:void 0}var x=_(e),S=x&&x(t,e);return{c(){i=(0,a.az)("div"),n=(0,a.az)("div"),y._fragment.c(),d=(0,a.rw)("\n  "),w._fragment.c(),u=(0,a.rw)("\n\n  "),h=(0,a.az)("div"),S&&S.c(),p=(0,a.rw)("\n\n    "),m=(0,a.az)("span"),f=(0,a.rw)(e.actionText),this.h()},l(t){i=(0,a.d$)(t,"DIV",{class:!0},!1);var s=(0,a.pI)(i);n=(0,a.d$)(s,"DIV",{class:!0},!1);var o=(0,a.pI)(n);y._fragment.l(o),o.forEach(a.r2),d=(0,a.M4)(s,"\n  "),w._fragment.l(s),u=(0,a.M4)(s,"\n\n  "),h=(0,a.d$)(s,"DIV",{class:!0},!1);var r=(0,a.pI)(h);S&&S.l(r),p=(0,a.M4)(r,"\n\n    "),m=(0,a.d$)(r,"SPAN",{class:!0},!1);var l=(0,a.pI)(m);f=(0,a.M4)(l,e.actionText),l.forEach(a.r2),r.forEach(a.r2),s.forEach(a.r2),this.h()},h(){n.className=r="status-header-avatar "+("pinned"===e.timelineType||"poll"===e.notificationType?"hidden":"")+" svelte-ocvzjk",m.className="status-header-action svelte-ocvzjk",h.className="status-header-content svelte-ocvzjk",i.className=g="status-header "+(e.isStatusInNotification?"status-in-notification":"")+" "+("follow"===e.notificationType?"header-is-follow":"")+" svelte-ocvzjk"},m(t,e){(0,a.$T)(t,i,e),(0,a.R3)(i,n),y._mount(n,null),(0,a.R3)(i,d),w._mount(i,null),(0,a.R3)(i,u),(0,a.R3)(i,h),S&&S.m(h,null),(0,a.R3)(h,p),(0,a.R3)(h,m),(0,a.R3)(m,f)},p(e,s){var o={};e.account&&(o.account=s.account),y._set(o),(e.timelineType||e.notificationType)&&r!==(r="status-header-avatar "+("pinned"===s.timelineType||"poll"===s.notificationType?"hidden":"")+" svelte-ocvzjk")&&(n.className=r);var l={};e.icon&&(l.href=s.icon),w._set(l),x===(x=_(s))&&S?S.p(e,s):(S&&S.d(1),(S=x&&x(t,s))&&S.c(),S&&S.m(h,p)),e.actionText&&(0,a.a_)(f,s.actionText),(e.isStatusInNotification||e.notificationType)&&g!==(g="status-header "+(s.isStatusInNotification?"status-in-notification":"")+" "+("follow"===s.notificationType?"header-is-follow":"")+" svelte-ocvzjk")&&(i.className=g)},d(t){t&&(0,a.r2)(i),y.destroy(),w.destroy(),S&&S.d()}}}(this,this._state),t.target){var i=(0,a.pI)(t.target);t.hydrate?this._fragment.l(i):this._fragment.c(),i.forEach(a.r2),this._mount(t.target,t.anchor),(0,a.yl)(this)}}(0,a.f0)(d.prototype,a.uS),d.prototype._recompute=function(t,e){t.uuid&&this._differs(e.elementId,e.elementId=function({uuid:t}){return`status-header-${t}`}(e))&&(t.elementId=!0),t.notification&&this._differs(e.notificationType,e.notificationType=function({notification:t}){return t&&t.type}(e))&&(t.notificationType=!0),(t.notificationType||t.status||t.timelineType)&&this._differs(e.icon,e.icon=function({notificationType:t,status:e,timelineType:i}){return"pinned"===i?"#fa-thumb-tack":"reblog"===t||e&&e.reblog?"#fa-retweet":"follow"===t?"#fa-user-plus":"poll"===t?"#fa-bar-chart":"#fa-star"}(e))&&(t.icon=!0),(t.notificationType||t.status||t.$currentVerifyCredentials)&&this._differs(e.actionText,e.actionText=function({notificationType:t,status:e,$currentVerifyCredentials:i}){return"reblog"===t?"boosted your toot":"favourite"===t?"favorited your toot":"follow"===t?"followed you":"poll"===t?i&&e&&i.id===e.account.id?"A poll you created has ended":"A poll you voted on has ended":e&&e.reblog?"boosted":""}(e))&&(t.actionText=!0)};const u=d},1406:(t,e,i)=>{"use strict";i.d(e,{N:()=>s});var a=i(339);function s(t,e){const i=t.emojis;let s=t.display_name||t.username;return e&&(s=(0,a.S)(s,i)||s),s}},655:(t,e,i)=>{"use strict";i.d(e,{he:()=>u,hJ:()=>d,Mb:()=>h,r6:()=>p});var a=i(4511),s=i(1029),n=i(8273);var o=i(2909),r=i(2936);async function l(t,e,i){const s=o.F.getAccount(e,t),n=(0,a.D)(e,i,t).then((t=>(o.F.setAccount(e,t),t)));try{r.h.set({currentAccountProfile:await s})}catch(l){console.error(l)}try{r.h.set({currentAccountProfile:await n})}catch(l){console.error(l)}}async function c(t,e,i){const a=o.F.getRelationship(e,t),l=async function(t,e,i){const a=`${(0,s.E)(t)}/api/v1/accounts/relationships?${(0,n.pe)({id:i})}`;return(await(0,n.U2)(a,(0,s.I)(e),{timeout:n.EH}))[0]}(e,i,t).then((t=>(o.F.setRelationship(e,t),t)));try{r.h.set({currentAccountRelationship:await a})}catch(c){console.error(c)}try{r.h.set({currentAccountRelationship:await l})}catch(c){console.error(c)}}async function d(t,e,i){await o.F.setRelationship(t,i);try{r.h.set({currentAccountRelationship:i})}catch(a){console.error(a)}}async function u(){r.h.set({currentAccountProfile:null,currentAccountRelationship:null})}async function h(t){const{currentInstance:e,accessToken:i}=r.h.get();await Promise.all([l(t,e,i),c(t,e,i)])}async function p(t){const{currentInstance:e,accessToken:i}=r.h.get();await c(t,e,i)}},6787:(t,e,i)=>{"use strict";i.d(e,{O:()=>n});var a=i(6077),s=i(2936);async function n(t){s.h.setComposeData("dialog",{text:`@${t.acct} `});(await(0,a.B)())()}},4511:(t,e,i)=>{"use strict";i.d(e,{Q:()=>n,D:()=>o});var a=i(8273),s=i(1029);function n(t,e){const i=`${(0,s.E)(t)}/api/v1/accounts/verify_credentials`;return(0,a.U2)(i,(0,s.I)(e),{timeout:a.EH})}function o(t,e,i){const n=`${(0,s.E)(t)}/api/v1/accounts/${i}`;return(0,a.U2)(n,(0,s.I)(e),{timeout:a.EH})}},6077:(t,e,i)=>{"use strict";i.d(e,{B:()=>a});const a=()=>Promise.all([i.e(8322),i.e(9921),i.e(1632),i.e(2392),i.e(7500),i.e(5451),i.e(7608),i.e(2943),i.e(4736),i.e(6905),i.e(8967)]).then(i.bind(i,8967)).then((t=>t.default))},9148:(t,e,i)=>{"use strict";i.d(e,{e:()=>a});const a=()=>Promise.all([i.e(9525),i.e(7608),i.e(4551)]).then(i.bind(i,4551)).then((t=>t.default))},2659:(t,e,i)=>{"use strict";i.d(e,{nV:()=>a,BS:()=>s,OS:()=>n});const a=[{properties:[{transform:"scale(1)"},{transform:"scale(2)"},{transform:"scale(1)"}],options:{duration:333,easing:"ease-in-out"}},{properties:[{fill:"var(--action-button-fill-color)"},{fill:"var(--action-button-fill-color-pressed)"}],options:{duration:333,easing:"linear"}}],s=a,n=[{properties:[{transform:"scale(1)"},{transform:"scale(2)"},{transform:"scale(1)"}],options:{duration:333,easing:"ease-in-out"}}]},4963:(t,e,i)=>{"use strict";i.d(e,{jN:()=>s,Ay:()=>n,FO:()=>o});var a=i(8514);const s=`/emoji-${a.M}.json`,n=void 0,o="en-US"===a.M?"en":a.M},9605:(t,e,i)=>{"use strict";i.d(e,{d:()=>s});var a=i(7980);async function s(t){if(!t)return;const e=t.querySelectorAll(".inline-emoji");e.length&&await Promise.all(Array.from(e).map((async t=>{const e=await a.XB(t.textContent);e&&e.shortcodes&&(t.title=e.shortcodes.map((t=>`:${t}:`)).join(", "))})))}},9808:(t,e,i)=>{"use strict";function a(t,e,i,a,s){return`${t}/${e}/${i}/${a||""}/${s||""}`}i.d(e,{L:()=>a})},7980:(t,e,i)=>{"use strict";i.d(e,{fK:()=>c,XB:()=>d,jk:()=>u});var a=i(398),s=i(673),n=i(4963);let o;function r(t,e){if(!t||t.url)return t;const i={unicode:t.unicode,shortcodes:t.shortcodes};if(e>0&&t.skins){const a=t.skins.find((t=>t.tone===e));a&&(i.unicode=a.unicode)}return i}function l(){o||(o=new a.Z({locale:n.FO,dataSource:n.jN}))}function c(t){l(),o.customEmoji=t}async function d(t){l();const[e,i]=await Promise.all([o.getEmojiByUnicodeOrName(t),o.getPreferredSkinTone()]);return r(e,i)}async function u(t){l();const[e,i]=await Promise.all([o.getEmojiBySearchQuery(t),o.getPreferredSkinTone()]);return e.map((t=>r(t,i)))}s.S.addEventListener("statechange",(t=>{"frozen"===t.newState&&o&&o.close()}))},4386:(t,e,i)=>{"use strict";i.d(e,{e:()=>s});const a=/^<(?:p|blockquote|ol|ul)>/i;function s(t){return t&&!a.test(t)&&(t=`<p>${t}</p>`),t}},7843:(t,e,i)=>{"use strict";i.d(e,{K:()=>n});var a=i(6630),s=i(4386);function n(t,e,i){return t=t||"",t=(0,a.k)(t,e,i),t=(0,s.e)(t)}}}]);
//# sourceMappingURL=6957.852051eb6cb52b90b0fd.6957.js.map