{"version":3,"sources":["webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/utils.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/utils.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/skeleton.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/BestFitFormatMatcher.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/CanonicalizeLocaleList.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/CanonicalizeTimeZoneName.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/BasicFormatMatcher.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/DateTimeStyleFormat.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/262.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/ToLocalTime.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimePattern.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/PartitionPattern.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/PartitionDateTimePattern.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTime.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/PartitionDateTimeRangePattern.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimeRange.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimeRangeToParts.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimeToParts.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/ToDateTimeOptions.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/GetOption.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/BestAvailableLocale.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/UnicodeExtensionValue.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/ResolveLocale.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/LookupMatcher.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/BestFitMatcher.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/IsValidTimeZoneName.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/InitializeDateTimeFormat.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/IsWellFormedCurrencyCode.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DisplayNames/CanonicalCodeForDisplayNames.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/DefaultNumberOption.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/GetNumberOption.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/IsSanctionedSimpleUnitIdentifier.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/IsWellFormedUnitIdentifier.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ComputeExponentForMagnitude.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ToRawPrecision.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ToRawFixed.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/FormatNumericToString.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ComputeExponent.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/CurrencyDigits.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/format_to_parts.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/PartitionNumberPattern.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/FormatNumericToParts.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/SetNumberFormatUnitOptions.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/SetNumberFormatDigitOptions.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/InitializeNumberFormat.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/PluralRules/GetOperands.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/PluralRules/InitializePluralRules.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/PluralRules/ResolvePlural.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/SingularRelativeTimeUnit.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/MakePartsList.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/PartitionRelativeTimePattern.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/FormatRelativeTime.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/FormatRelativeTimeToParts.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/InitializeRelativeTimeFormat.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/LookupSupportedLocales.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/SupportedLocales.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/data.js","webpack://pinafore/./node_modules/@formatjs/ecma402-abstract/lib/types/date-time.js","webpack://pinafore/./node_modules/@formatjs/intl-getcanonicallocales/index.js","webpack://pinafore/./node_modules/@formatjs/intl-getcanonicallocales/src/canonicalizer.js","webpack://pinafore/./node_modules/@formatjs/intl-getcanonicallocales/src/data/aliases.js","webpack://pinafore/./node_modules/@formatjs/intl-getcanonicallocales/src/emitter.js","webpack://pinafore/./node_modules/@formatjs/intl-getcanonicallocales/src/parser.js","webpack://pinafore/./node_modules/@formatjs/intl-getcanonicallocales/src/types.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/index.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/locale-data/en.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/utils.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/utils.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/types/date-time.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/skeleton.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/BestFitFormatMatcher.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/CanonicalizeLocaleList.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/CanonicalizeTimeZoneName.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/BasicFormatMatcher.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/DateTimeStyleFormat.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/262.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/ToLocalTime.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimePattern.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/PartitionPattern.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/PartitionDateTimePattern.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTime.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/PartitionDateTimeRangePattern.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimeRange.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimeRangeToParts.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimeToParts.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/ToDateTimeOptions.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/GetOption.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/BestAvailableLocale.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/UnicodeExtensionValue.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/ResolveLocale.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/LookupMatcher.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/BestFitMatcher.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/IsValidTimeZoneName.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/InitializeDateTimeFormat.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/IsWellFormedCurrencyCode.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DisplayNames/CanonicalCodeForDisplayNames.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/DefaultNumberOption.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/GetNumberOption.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/IsSanctionedSimpleUnitIdentifier.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/IsWellFormedUnitIdentifier.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ComputeExponentForMagnitude.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ToRawPrecision.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ToRawFixed.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/FormatNumericToString.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ComputeExponent.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/CurrencyDigits.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/format_to_parts.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/PartitionNumberPattern.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/FormatNumericToParts.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/SetNumberFormatUnitOptions.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/SetNumberFormatDigitOptions.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/InitializeNumberFormat.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/PluralRules/GetOperands.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/PluralRules/InitializePluralRules.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/PluralRules/ResolvePlural.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/SingularRelativeTimeUnit.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/MakePartsList.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/PartitionRelativeTimePattern.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/FormatRelativeTime.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/FormatRelativeTimeToParts.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/InitializeRelativeTimeFormat.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/LookupSupportedLocales.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/SupportedLocales.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/node_modules/@formatjs/ecma402-abstract/lib/data.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/polyfill.js","webpack://pinafore/./node_modules/@formatjs/intl-listformat/should-polyfill.js","webpack://pinafore/./node_modules/@formatjs/intl-locale/get_internal_slots.js","webpack://pinafore/./node_modules/@formatjs/intl-locale/index.js","webpack://pinafore/./node_modules/@formatjs/intl-locale/polyfill.js","webpack://pinafore/./node_modules/@formatjs/intl-locale/should-polyfill.js","webpack://pinafore/./node_modules/@formatjs/intl-pluralrules/get_internal_slots.js","webpack://pinafore/./node_modules/@formatjs/intl-pluralrules/index.js","webpack://pinafore/./node_modules/@formatjs/intl-pluralrules/locale-data/en.js","webpack://pinafore/./node_modules/@formatjs/intl-pluralrules/polyfill.js","webpack://pinafore/./node_modules/@formatjs/intl-pluralrules/should-polyfill.js","webpack://pinafore/./node_modules/@formatjs/intl-relativetimeformat/get_internal_slots.js","webpack://pinafore/./node_modules/@formatjs/intl-relativetimeformat/index.js","webpack://pinafore/./node_modules/@formatjs/intl-relativetimeformat/locale-data/en.js","webpack://pinafore/./node_modules/@formatjs/intl-relativetimeformat/polyfill.js","webpack://pinafore/./node_modules/@formatjs/intl-relativetimeformat/should-polyfill.js","webpack://pinafore/./node_modules/tslib/tslib.es6.js"],"names":["getMagnitude","x","Math","floor","log","LOG10E","repeat","s","times","arr","Array","i","length","join","setInternalSlot","map","pl","field","value","get","set","Object","create","setMultiInternalSlots","props","_i","_a","keys","k","getInternalSlot","getMultiInternalSlots","fields","arguments","slots","TypeError","reduce","all","f","isLiteralPart","patternPart","type","defineProperty","target","name","configurable","enumerable","writable","UNICODE_EXTENSION_SEQUENCE_REGEX","invariant","condition","message","Err","Error","DATE_TIME_PROPS","DATE_TIME_REGEX","expPatternTrimmer","matchSkeletonPattern","match","result","len","era","year","RangeError","month","day","weekday","undefined","hour12","hour","minute","second","timeZoneName","skeletonTokenToTable2","c","processDateTimePattern","pattern","literals","pattern12","replace","_","literal","push","m","parseDateTimeSkeleton","skeleton","rawPattern","rangePatterns","intervalFormatFallback","rangePatterns12","key","intervalResult","patternParts","pattern_1","pattern12_1","__assign","splitRangePattern","split","filter","Boolean","source","splitFallbackRangePattern","default","_b","PART_REGEX","parts","splitIndex","exec","index","slice","isNumericType","t","bestFitFormatMatcherScore","options","format","score","DATE_TIME_PROPS_1","prop","optionsProp","formatProp","values","optionsPropIndex","indexOf","formatPropIndex","delta","max","min","BestFitFormatMatcher","formats","bestScore","Infinity","bestFormat","isArray","formats_1","skeletonFormat","patternFormat","skeletonValue","patternValue","requestedValue","CanonicalizeLocaleList","locales","Intl","getCanonicalLocales","CanonicalizeTimeZoneName","tz","tzData","uppercaseLinks","uppercasedTz","toUpperCase","uppercasedZones","z","ianaTimeZone","BasicFormatMatcher","DateTimeStyleFormat","dateStyle","timeStyle","dataLocaleData","dateFormat","timeFormat","connector","dateTimeFormat","ToString","o","String","ToNumber","val","NaN","Number","TimeClip","time","isFinite","abs","n","number","isNaN","SameValue","integer","ToInteger","ToObject","arg","y","is","ArrayCreate","HasOwnProperty","prototype","hasOwnProperty","call","Type","MS_PER_DAY","mod","Day","WeekDay","DayFromYear","TimeFromYear","YearFromTime","ceil","DaysInYear","DayWithinYear","InLeapYear","MonthFromTime","dwy","leap","DateFromTime","mft","HourFromTime","MS_PER_MINUTE","MinFromTime","MS_PER_SECOND","SecFromTime","ToLocalTime","calendar","timeZone","zoneData","offset","dst","getApplicableZoneData","timeZoneOffset","inDST","relatedYear","yearName","pad","offsetToGmtString","gmtFormat","hourFormat","offsetInMs","style","offsetInMinutes","mins","hours","positivePattern","negativePattern","offsetStr","FormatDateTimePattern","dtf","getInternalSlots","localeData","getDefaultTimeZone","internalSlots","dataLocale","locale","nfOptions","useGrouping","nf","NumberFormat","nf2Options","minimumIntegerDigits","nf2","tm","patternParts_1","p","fv","v","hourCycle","timeZoneData","pm","am","PartitionPattern","beginIndex","endIndex","nextIndex","substring","PartitionDateTimePattern","implDetails","FormatDateTime","parts_1","TABLE_2_FIELDS","PartitionDateTimeRangePattern","rangePattern","tm1","tm2","dateFieldsPracticallyEqual","patternContainsLargerDateField","TABLE_2_FIELDS_1","fieldName","rp","ampm","v1","v2","result_2","result_1","_c","_d","_e","rangePatternPart","partResult","_f","partResult_1","concat","FormatDateTimeRange","FormatDateTimeRangeToParts","part","FormatDateTimeToParts","ToDateTimeOptions","required","defaults","needDefaults","_g","GetOption","opts","fallback","BestAvailableLocale","availableLocales","candidate","has","pos","lastIndexOf","UnicodeExtensionValue","extension","size","searchValue","start","end","done","e","ResolveLocale","requestedLocales","relevantExtensionKeys","getDefaultLocale","r","foundLocale","localeMatcher","requestedLocales_1","noExtensionLocale","availableLocale","LookupMatcher","minimizedAvailableLocaleMap","minimizedAvailableLocales","Set","forEach","minimizedLocale","Locale","minimize","toString","add","l","maximizedRequestedLocale","maximize","minimizedRequestedLocale","BestFitMatcher","supportedExtension","relevantExtensionKeys_1","foundLocaleData","keyLocaleData","supportedExtensionAddition","optionsValue","privateIndex","preExtension","postExtension","IsValidTimeZoneName","zoneNames","resolveHourCycle","hc","hcDefault","TYPE_REGEX","InitializeDateTimeFormat","opt","matcher","test","ca","numberingSystem","nu","isTimeRelated","NOT_A_Z_REGEX","IsWellFormedCurrencyCode","currency","UNICODE_REGION_SUBTAG_REGEX","ALPHA_4","CanonicalCodeForDisplayNames","code","region","script","DefaultNumberOption","GetNumberOption","property","minimum","maximum","SANCTIONED_UNITS","removeUnitNamespace","unit","SIMPLE_UNITS","IsSanctionedSimpleUnitIdentifier","unitIdentifier","IsWellFormedUnitIdentifier","toLowerCase","units","numerator","denominator","ComputeExponentForMagnitude","numberFormat","magnitude","notation","compactDisplay","currencyDisplay","thresholdMap","numbers","short","decimal","long","num","pow","thresholds","magnitudeKey","other","ToRawPrecision","minPrecision","maxPrecision","xFinal","int","xToString","xToStringExponentIndex","xToStringMantissa","xToStringExponent","xToStringMantissaWithoutDecimalPoint","decimalPlaceOffset","round","adjustDecimalPlace","cut","formattedString","roundedNumber","integerDigitsCount","ToRawFixed","minFraction","maxFraction","mantissa","exponent","a","b","FormatNumericToString","intlObject","isNegative","roundingType","minimumSignificantDigits","maximumSignificantDigits","minimumFractionDigits","maximumFractionDigits","string","minInteger","ComputeExponent","formatNumberResult","CurrencyDigits","currencyDigitsData","S_UNICODE_REGEX","CARET_S_UNICODE_REGEX","RegExp","S_DOLLAR_UNICODE_REGEX","CLDR_NUMBER_PATTERN","formatToParts","numberResult","data","nonNameCurrencyPart","numberPattern","sign","defaultNumberingSystem","compactNumberPattern","compactPluralRules","byNumberingSystem","selectPlural","compactPlaralRule","getPatternForSign","getCompactDisplayPattern","byCurrencyDisplay","currencies","symbol","narrow","standard","currencyData","currencySign","percent","decimalNumberPattern","afterCurrency","currencySpacing","afterInsertBetween","beforeCurrency","beforeInsertBetween","numberPatternParts","numberParts","symbols","numberPatternParts_1","apply","paritionNumberIntoParts","minusSign","plusSign","percentSign","unitPattern","unitName","currencyNameData","displayName","unitPatternParts_1","unitDisplay","unitData","simple","numeratorUnit","denominatorUnit","numeratorUnitPattern","perUnitPattern","perUnit","perPattern","compound","per","denominatorPattern","interpolateMatch","digitReplacementTable","digit","fraction","decimalSepIndex","groupSepSymbol","group","groups","patternGroups","primaryGroupingSize","secondaryGroupingSize","integerGroup","pop","exponential","exponentResult","zeroPattern","rules","select","PartitionNumberPattern","nan","infinity","signDisplay","FormatNumericToParts","SetNumberFormatUnitOptions","SetNumberFormatDigitOptions","mnfdDefault","mxfdDefault","mnid","mnfd","mxfd","mnsd","mxsd","InitializeNumberFormat","numberingSystemNames","cDigits","GetOperands","iv","dp","w","ft","IntegerDigits","NumberOfFractionDigits","NumberOfFractionDigitsWithoutTrailing","FractionDigits","FractionDigitsWithoutTrailing","InitializePluralRules","initializedPluralRules","ResolvePlural","PluralRuleSelect","SingularRelativeTimeUnit","MakePartsList","PartitionRelativeTimePattern","rtf","resolvedUnit","numeric","pluralRules","entry","patterns","tl","po","FormatRelativeTime","FormatRelativeTimeToParts","NUMBERING_SYSTEM_REGEX","InitializeRelativeTimeFormat","initializedRelativeTimeFormat","PluralRules","LookupSupportedLocales","subset","SupportedLocales","RangePatternType","_super","MissingLocaleDataError","_this","this","__extends","isMissingLocaleDataError","exports","isUnicodeLanguageSubtag","isUnicodeScriptSubtag","isUnicodeRegionSubtag","isStructurallyValidLanguageTag","parseUnicodeLanguageId","parseUnicodeLocaleId","tslib_1","parser_1","emitter_1","canonicalizer_1","seen","locales_1","canonicalizedTag","emitUnicodeLocaleId","canonicalizeUnicodeLocaleId","parser_2","__exportStar","canonicalizeUnicodeLanguageId","aliases_1","likelySubtags","__importStar","canonicalizeKVs","arr_1","kv","sort","compareKV","t1","t2","compareExtension","e1","e2","mergeVariants","__spreadArrays","v2_1","unicodeLanguageId","finalLangAst","variants","replacedLang_1","variant","languageAlias","emitUnicodeLanguageId","lang","replacedLangAst","SEPARATOR","replacedLang_2","replacedLang_3","replacedLang","regionAlias","territoryAlias","replacedRegion","regions","likelySubtag","supplemental","likelyRegion","scriptAlias","variantAlias","alias","isUnicodeVariantSubtag","extensions","keywords","attributes","strs","str","chunks","extensions_1","ext","ALPHANUM_1_8","ALPHANUM_2_8","ALPHANUM_3_8","KEY_REGEX","OTHER_EXTENSION_TYPE","UNICODE_VARIANT_SUBTAG_REGEX","UNICODE_LANGUAGE_SUBTAG_REGEX","TKEY_REGEX","shift","parseUnicodeExtension","keyword","parseKeyword","parseTransformedExtension","parsePuExtension","exts","parseOtherExtensionValue","tag","unicodeExtension","transformedExtension","puExtension","otherExtensionMap","parseExtensions","ecma402_abstract_1","validateInstance","instance","method","ListFormat","stringListFromIterable","list","list_1","el","createPartsFromList","internalSlotMap","lf","deconstructPattern","placeables","subst","constructor","__INTERNAL_SLOT_MAP__","templates","pair","middle","elements","parts_2","resolvedOptions","supportedLocalesOf","__addLocaleData","data_1","d","__defaultLocale","polyfilled","WeakMap","Symbol","toStringTag","startRange","endRange","shared","OrdinaryHasInstance","C","O","boundTargetFunction","P","isPrototypeOf","formatMatcher","_1","__importDefault","shouldPolyfill","intl_getcanonicallocales_1","likelySubtagsData","get_internal_slots_1","RELEVANT_EXTENSION_KEYS","UNICODE_TYPE_REGEX","mergeUnicodeLanguageId","replacement","addLikelySubtags","ast","unicodeLangId","match_1","match_2","match_3","parts_3","internalSlotsList","initializedLocale","language","languageId","applyOptionsToTag","collation","co","kf","kn","_kn","keywords_1","applyUnicodeExtensionToTag","caseFirst","maxLocale","removeLikelySubtags","hasIntlGetCanonicalLocalesBug","_n","fn","pluralCategories","categories","error","ex","ord","v0","t0","n10","n100","RelativeTimeFormat","extendStatics","setPrototypeOf","__proto__","__","assign","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","generator","Promise","resolve","reject","fulfilled","step","next","rejected","then","__generator","body","g","label","sent","trys","ops","verb","iterator","op","__createBinding","k2","__values","__read","ar","__spread","il","j","jl","__spreadArray","to","from","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__esModule","__classPrivateFieldGet","receiver","privateMap","__classPrivateFieldSet"],"mappings":"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IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,QACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,YAAa,iBACb,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,UACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,aAAc,MACd,IAAO,KACP,QAAS,MACT,QAAS,MACT,YAAa,iBACb,aAAc,mBACd,QAAS,MACT,YAAa,MACb,QAAS,KACT,UAAW,gBACX,WAAY,KACZ,QAAS,MACT,QAAS,MACT,QAAS,MACT,QAAS,MACT,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,GAAM,KACN,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,GAAM,KACN,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,GAAM,KACN,SAAU,KACV,YAAa,KACb,SAAU,KACV,aAAc,KACd,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,QACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,YAAa,MACb,YAAa,MACb,SAAU,MACV,YAAa,MACb,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,GAAM,UACN,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,QACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,GAAM,MACN,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,QACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,aAAc,SACd,cAAe,MACf,cAAe,MACf,aAAc,MACd,YAAa,MACb,qBAAsB,cACtB,aAAc,MACd,cAAe,MACf,YAAa,MACb,YAAa,MACb,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,SAAU,KACV,cAAe,UACf,cAAe,UACf,SAAU,MACV,WAAY,KACZ,WAAY,MACZ,SAAU,eACV,aAAc,MACd,SAAU,MACV,WAAY,MACZ,SAAU,MACV,IAAO,KACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,KACP,IAAO,MAEXxC,EAAQiD,eAAiB,CACrB,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,sCACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,QACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,WACP,IAAO,KACP,IAAO,WACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,QACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,cACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,+CACP,IAAO,KACP,IAAO,KACP,IAAO,QACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,oBACP,IAAO,QACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,UACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,WACN,IAAO,KACP,IAAO,WACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,QACN,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,QACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,GAAM,QACN,IAAO,QACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,cACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,QACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,+CACN,IAAO,+CACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,GAAM,QACN,IAAO,QACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,MAEXjD,EAAQuD,YAAc,CAClB,KAAQ,QAEZvD,EAAQwD,aAAe,CACnB,OAAU,UACV,SAAY,Y,4BC/mChBlmB,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD6iB,EAAQc,oBAAsBd,EAAQyC,2BAAwB,EAC9D,IAAIlC,EAAU,EAAQ,MACtB,SAASkC,EAAsBC,GAC3B,OAAKA,EAGEnC,EAAQ0B,eAAe,CAACS,EAAKA,KAAMA,EAAKxP,OAAQwP,EAAKzP,QAAUyP,EAAKL,UAAY,IAAKngB,OAAOC,SAC9FrF,KAAK,KAHC,GAKfkjB,EAAQyC,sBAAwBA,EAqBhCzC,EAAQc,oBApBR,SAA6BnjB,GAGzB,IAFA,IAAI+kB,EAAO/kB,EAAG+kB,KAAMiB,EAAahmB,EAAGgmB,WAChCK,EAAS,CAACvB,EAAsBC,IAC3BhlB,EAAK,EAAGumB,EAAeN,EAAYjmB,EAAKumB,EAAapnB,OAAQa,IAAM,CACxE,IAAIwmB,EAAMD,EAAavmB,GAEvB,OADAsmB,EAAO9iB,KAAKgjB,EAAIzlB,MACRylB,EAAIzlB,MACR,IAAK,IACDulB,EAAO9iB,KAAK4Y,MAAMkK,EAAQzD,EAAQ0B,eAAeiC,EAAIL,WAAYK,EAAIN,SAASxlB,QAAO,SAAUC,EAAKmjB,GAAM,OAAOnjB,EAAI0P,OAAOyT,KAAQ,MACpI,MACJ,IAAK,IACDwC,EAAO9iB,KAAK4Y,MAAMkK,EAAQzD,EAAQ0B,eAAe,CAACQ,EAAsByB,EAAIxB,OAAQwB,EAAIlmB,OAAOI,QAAO,SAAUC,EAAKmjB,GAAM,OAAOnjB,EAAI0P,OAAOyT,KAAQ,MACrJ,MACJ,QACIwC,EAAO9iB,KAAKgjB,EAAI/mB,QAI5B,OAAO6mB,EAAO9hB,OAAOC,SAASrF,KAAK,O,4BC7BvCQ,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD6iB,EAAQM,qBAAuBN,EAAQK,uBAAyBL,EAAQ0D,uBAAyB1D,EAAQE,sBAAwBF,EAAQG,sBAAwBH,EAAQI,+BAAiCJ,EAAQC,wBAA0BD,EAAQ4C,eAAY,EAChQ,IAAIrC,EAAU,EAAQ,MAClB4D,EAAe,mBACfC,EAAe,mBACfC,EAAe,mBACfC,EAAY,mBACZrS,EAAa,mBACba,EAAU,cAEVyR,EAAuB,kBACvB1R,EAA8B,yBAC9B2R,EAA+B,sCAC/BC,EAAgC,6BAChCC,EAAa,gBAEjB,SAASzE,EAAwByC,GAC7B,OAAO+B,EAA8BpS,KAAKqQ,GAa9C,SAASvC,EAAsBlN,GAC3B,OAAOJ,EAA4BR,KAAKY,GAG5C,SAASiN,EAAsBhN,GAC3B,OAAOJ,EAAQT,KAAKa,GAGxB,SAASwQ,EAAuBnB,GAC5B,OAAOiC,EAA6BnS,KAAKkQ,GAG7C,SAASlC,EAAuB2D,GACN,iBAAXA,IACPA,EAASA,EAAO/hB,MAAM+d,EAAQ4C,YAElC,IAWI1P,EAKAD,EAhBAyP,EAAOsB,EAAOW,QAClB,IAAKjC,EACD,MAAM,IAAI3iB,WAAW,mCAEzB,GAAa,SAAT2iB,EACA,MAAO,CAAEA,KAAM,OAAQL,SAAU,IAGrC,IAAKpC,EAAwByC,GACzB,MAAM,IAAI3iB,WAAW,qCAIrBmgB,EAAsB8D,EAAO,MAC7B9Q,EAAS8Q,EAAOW,SAIhBxE,EAAsB6D,EAAO,MAC7B/Q,EAAS+Q,EAAOW,SAGpB,IADA,IAAItC,EAAW,GACR2B,EAAOnnB,QAAU6mB,EAAuBM,EAAO,KAAK,CACvD,IAAIzB,EAAUyB,EAAOW,QACrB,GAAIpC,KAAWF,EACX,MAAM,IAAItiB,WAAW,sBAAyBwiB,EAAU,KAE5DF,EAASE,GAAW,EAExB,MAAO,CACHG,KAAMA,EACNxP,OAAQA,EACRD,OAAQA,EACRoP,SAAU/kB,OAAOM,KAAKykB,IAI9B,SAASuC,EAAsBZ,GAG3B,IAFA,IACIa,EADAjB,EAAW,GAERI,EAAOnnB,SAAWgoB,EAAUC,EAAad,KAC5CJ,EAAS1iB,KAAK2jB,GAElB,GAAIjB,EAAS/mB,OACT,MAAO,CACH4B,KAAM,IACNmlB,SAAUA,EACVC,WAAY,IAMpB,IADA,IAAIA,EAAa,GACVG,EAAOnnB,QAAUwnB,EAAahS,KAAK2R,EAAO,KAC7CH,EAAW3iB,KAAK8iB,EAAOW,SAE3B,KAAOX,EAAOnnB,SAAWgoB,EAAUC,EAAad,KAC5CJ,EAAS1iB,KAAK2jB,GAElB,GAAIjB,EAAS/mB,QAAUgnB,EAAWhnB,OAC9B,MAAO,CACH4B,KAAM,IACNolB,WAAYA,EACZD,SAAUA,GAGlB,MAAM,IAAI7jB,WAAW,+BAEzB,SAAS+kB,EAAad,GAClB,IAAItiB,EACJ,GAAK4iB,EAAUjS,KAAK2R,EAAO,IAA3B,CAGAtiB,EAAMsiB,EAAOW,QAEb,IADA,IAAIlmB,EAAO,GACJulB,EAAOnnB,QAAUoV,EAAWI,KAAK2R,EAAO,KAC3CvlB,EAAKyC,KAAK8iB,EAAOW,SAErB,IAAIxnB,EAAQ,GAIZ,OAHIsB,EAAK5B,SACLM,EAAQsB,EAAK3B,KAAKkjB,EAAQ4C,YAEvB,CAAClhB,EAAKvE,IAEjB,SAAS4nB,EAA0Bf,GAC/B,IAAItB,EACJ,IACIA,EAAOrC,EAAuB2D,GAElC,MAAOvU,IAIP,IADA,IAAIzR,EAAS,GACNgmB,EAAOnnB,QAAU6nB,EAAWrS,KAAK2R,EAAO,KAAK,CAGhD,IAFA,IAAItiB,EAAMsiB,EAAOW,QACbxnB,EAAQ,GACL6mB,EAAOnnB,QAAUwnB,EAAahS,KAAK2R,EAAO,KAC7C7mB,EAAM+D,KAAK8iB,EAAOW,SAEtB,IAAKxnB,EAAMN,OACP,MAAM,IAAIkD,WAAW,4BAA+B2B,EAAM,KAE9D1D,EAAOkD,KAAK,CAACQ,EAAKvE,EAAML,KAAKkjB,EAAQ4C,aAEzC,GAAI5kB,EAAOnB,OACP,MAAO,CACH4B,KAAM,IACNT,OAAQA,EACR0kB,KAAMA,GAGd,MAAM,IAAI3iB,WAAW,mCAEzB,SAASilB,EAAiBhB,GAEtB,IADA,IAAIiB,EAAO,GACJjB,EAAOnnB,QAAUsnB,EAAa9R,KAAK2R,EAAO,KAC7CiB,EAAK/jB,KAAK8iB,EAAOW,SAErB,GAAIM,EAAKpoB,OACL,MAAO,CACH4B,KAAM,IACNtB,MAAO8nB,EAAKnoB,KAAKkjB,EAAQ4C,YAGjC,MAAM,IAAI7iB,WAAW,mCAEzB,SAASmlB,EAAyBlB,GAE9B,IADA,IAAIiB,EAAO,GACJjB,EAAOnnB,QAAUunB,EAAa/R,KAAK2R,EAAO,KAC7CiB,EAAK/jB,KAAK8iB,EAAOW,SAErB,OAAIM,EAAKpoB,OACEooB,EAAKnoB,KAAKkjB,EAAQ4C,WAEtB,GArKX5C,EAAQ4C,UAAY,IAIpB5C,EAAQC,wBAA0BA,EAUlCD,EAAQI,+BATR,SAAwC+E,GACpC,IACI9E,EAAuB8E,EAAIljB,MAAM+d,EAAQ4C,YAE7C,MAAOnT,GACH,OAAO,EAEX,OAAO,GAMXuQ,EAAQG,sBAAwBA,EAIhCH,EAAQE,sBAAwBA,EAIhCF,EAAQ0D,uBAAyBA,EAyCjC1D,EAAQK,uBAAyBA,EA+JjCL,EAAQM,qBALR,SAA8BvV,GAC1B,IAAIiZ,EAASjZ,EAAO9I,MAAM+d,EAAQ4C,WAC9BF,EAAOrC,EAAuB2D,GAClC,OAAOzD,EAAQxe,SAAS,CAAE2gB,KAAMA,GAzDpC,SAAyBsB,GACrB,IAAKA,EAAOnnB,OACR,MAAO,CAAE8mB,WAAY,IAEzB,IACIyB,EACAC,EACAC,EAHA3B,EAAa,GAIb4B,EAAoB,GACxB,EAAG,CACC,IAAI9mB,EAAOulB,EAAOW,QAClB,OAAQlmB,GACJ,IAAK,IACL,IAAK,IACD,GAAI2mB,EACA,MAAM,IAAIrlB,WAAW,qCAEzBqlB,EAAmBR,EAAsBZ,GACzCL,EAAWziB,KAAKkkB,GAChB,MACJ,IAAK,IACL,IAAK,IACD,GAAIC,EACA,MAAM,IAAItlB,WAAW,qCAEzBslB,EAAuBN,EAA0Bf,GACjDL,EAAWziB,KAAKmkB,GAChB,MACJ,IAAK,IACL,IAAK,IACD,GAAIC,EACA,MAAM,IAAIvlB,WAAW,qCAEzBulB,EAAcN,EAAiBhB,GAC/BL,EAAWziB,KAAKokB,GAChB,MACJ,QACI,IAAKf,EAAqBlS,KAAK5T,GAC3B,MAAM,IAAIsB,WAAW,4BAEzB,GAAItB,KAAQ8mB,EACR,MAAM,IAAIxlB,WAAW,wBAA0BtB,EAAO,eAE1D,IAAI0Q,EAAY,CACZ1Q,KAAMA,EACNtB,MAAO+nB,EAAyBlB,IAEpCuB,EAAkBpW,EAAU1Q,MAAQ0Q,EACpCwU,EAAWziB,KAAKiO,UAGnB6U,EAAOnnB,QAChB,MAAO,CAAE8mB,WAAYA,GAKmB6B,CAAgBxB,M,yBC/O5D1mB,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,K,4BCAtDG,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD,IAAIojB,EAAU,EAAQ,MAClBkF,EAAqB,EAAQ,MACjC,SAASC,EAAiBC,EAAUC,GAChC,KAAMD,aAAoBE,GACtB,MAAM,IAAI1nB,UAAU,oCAAsCynB,EAAS,oCAAsCzf,OAAOwf,IAOxH,SAASG,EAAuBC,GAC5B,QAAa5lB,IAAT4lB,EACA,MAAO,GAGX,IADA,IAAIpmB,EAAS,GACJjC,EAAK,EAAGsoB,EAASD,EAAMroB,EAAKsoB,EAAOnpB,OAAQa,IAAM,CACtD,IAAIuoB,EAAKD,EAAOtoB,GAChB,GAAkB,iBAAPuoB,EACP,MAAM,IAAI9nB,UAAU,cAAgB4nB,EAAKriB,QAAQuiB,GAAM,wBAE3DtmB,EAAOuB,KAAK+kB,GAEhB,OAAOtmB,EAEX,SAASumB,EAAoBC,EAAiBC,EAAIL,GAC9C,IAAI3W,EAAO2W,EAAKlpB,OAChB,GAAa,IAATuS,EACA,MAAO,GAEX,GAAa,IAATA,EAIA,OAAOiX,EAHOZ,EAAmB3nB,gBAAgBqoB,EAAiBC,EAAI,gBAGnC,CAAE,EAFzB,CAAE3nB,KAAM,UAAWtB,MAAO4oB,EAAK,IAEM,EADpC,CAAEtnB,KAAM,UAAWtB,MAAO4oB,EAAK,MAShD,IANA,IAIItjB,EAJO,CACPhE,KAAM,UACNtB,MAAO4oB,EAAK3W,EAAO,IAGnBxS,EAAIwS,EAAO,EACRxS,GAAK,GAAG,CAYX6F,EAAQ4jB,EAVE,IAANzpB,EACU6oB,EAAmB3nB,gBAAgBqoB,EAAiBC,EAAI,iBAE7DxpB,EAAIwS,EAAO,EACNqW,EAAmB3nB,gBAAgBqoB,EAAiBC,EAAI,kBAGxDX,EAAmB3nB,gBAAgBqoB,EAAiBC,EAAI,eAGlC,CAAE,EAD3B,CAAE3nB,KAAM,UAAWtB,MAAO4oB,EAAKnpB,IACO,EAAK6F,IACtD7F,IAEJ,OAAO6F,EAEX,SAAS4jB,EAAmBzlB,EAAS0lB,GAGjC,IAFA,IACI3mB,EAAS,GACJjC,EAAK,EAAG8N,EAFEia,EAAmBzZ,iBAAiBpL,GAEPlD,EAAK8N,EAAe3O,OAAQa,IAAM,CAC9E,IAAIc,EAAcgN,EAAe9N,GAC7BwQ,EAAO1P,EAAYC,KACvB,GAAIgnB,EAAmBlnB,cAAcC,GACjCmB,EAAOuB,KAAK,CACRzC,KAAM,UACNtB,MAAOqB,EAAYrB,YAGtB,CACDsoB,EAAmBxmB,UAAUiP,KAAQoY,EAAYpY,EAAO,8BACxD,IAAIqY,EAAQD,EAAWpY,GACnBvR,MAAMyH,QAAQmiB,GACd5mB,EAAOuB,KAAK4Y,MAAMna,EAAQ4mB,GAG1B5mB,EAAOuB,KAAKqlB,IAIxB,OAAO5mB,EAEX,IAAIkmB,EAA4B,WAC5B,SAASA,EAAWjhB,EAAS3B,GAIzB,KADgB4c,MAAQA,gBAAgBgG,EAAahG,KAAK2G,iBAAc,GAEpE,MAAM,IAAIroB,UAAU,6CAExBsnB,EAAmB1oB,gBAAgB8oB,EAAWY,sBAAuB5G,KAAM,yBAAyB,GACpG,IAAIlQ,EAAmB8V,EAAmB9gB,uBAAuBC,GAC7DuN,EAAM7U,OAAOC,OAAO,MACpBmR,OAAmBvO,IAAZ8C,EAAwB3F,OAAOC,OAAO,MAAQkoB,EAAmBve,SAASjE,GACjFmP,EAAUqT,EAAmBhX,UAAUC,EAAM,gBAAiB,SAAU,CAAC,WAAY,UAAW,YACpGyD,EAAInC,cAAgBoC,EACpB,IAAIzH,EAAakb,EAAWlb,WACxBmF,EAAI2V,EAAmB/V,cAAcmW,EAAWhX,iBAAkBc,EAAkBwC,EAAK0T,EAAWjW,sBAAuBjF,EAAYkb,EAAWhW,kBACtJ4V,EAAmB1oB,gBAAgB8oB,EAAWY,sBAAuB5G,KAAM,SAAU/P,EAAE/E,QACvF,IAAItM,EAAOgnB,EAAmBhX,UAAUC,EAAM,OAAQ,SAAU,CAAC,cAAe,cAAe,QAAS,eACxG+W,EAAmB1oB,gBAAgB8oB,EAAWY,sBAAuB5G,KAAM,OAAQphB,GACnF,IAAIwL,EAAQwb,EAAmBhX,UAAUC,EAAM,QAAS,SAAU,CAAC,OAAQ,QAAS,UAAW,QAC/F+W,EAAmB1oB,gBAAgB8oB,EAAWY,sBAAuB5G,KAAM,QAAS5V,GACpF,IAAIa,EAAagF,EAAEhF,WACflF,EAAiB+E,EAAWG,GAChC2a,EAAmBxmB,YAAY2G,EAAgB,2BAA6BkF,GAC5E,IACI4b,EADkB9gB,EAAenH,GACLwL,GAChCwb,EAAmB1oB,gBAAgB8oB,EAAWY,sBAAuB5G,KAAM,eAAgB6G,EAAUC,MACrGlB,EAAmB1oB,gBAAgB8oB,EAAWY,sBAAuB5G,KAAM,gBAAiB6G,EAAUpX,OACtGmW,EAAmB1oB,gBAAgB8oB,EAAWY,sBAAuB5G,KAAM,iBAAkB6G,EAAUE,QACvGnB,EAAmB1oB,gBAAgB8oB,EAAWY,sBAAuB5G,KAAM,cAAe6G,EAAUnX,KAmExG,OAjEAsW,EAAWre,UAAUtE,OAAS,SAAU2jB,GACpCnB,EAAiB7F,KAAM,UACvB,IAAIlgB,EAAS,GACT8C,EAAQyjB,EAAoBL,EAAWY,sBAAuB5G,KAAMiG,EAAuBe,IAC/F,IAAKlqB,MAAMyH,QAAQ3B,GACf,OAAOA,EAAMtF,MAEjB,IAAK,IAAIO,EAAK,EAAG8O,EAAU/J,EAAO/E,EAAK8O,EAAQ3P,OAAQa,IAAM,CAEzDiC,GADQ6M,EAAQ9O,GACJP,MAEhB,OAAOwC,GAEXkmB,EAAWre,UAAUsQ,cAAgB,SAAU+O,GAC3CnB,EAAiB7F,KAAM,UACvB,IAAIpd,EAAQyjB,EAAoBL,EAAWY,sBAAuB5G,KAAMiG,EAAuBe,IAC/F,IAAKlqB,MAAMyH,QAAQ3B,GACf,MAAO,CAACA,GAGZ,IADA,IAAI9C,EAAS,GACJjC,EAAK,EAAGopB,EAAUrkB,EAAO/E,EAAKopB,EAAQjqB,OAAQa,IAAM,CACzD,IAAIwQ,EAAO4Y,EAAQppB,GACnBiC,EAAOuB,KAAKqf,EAAQxe,SAAS,GAAImM,IAErC,OAAOvO,GAEXkmB,EAAWre,UAAUuf,gBAAkB,WAEnC,OADArB,EAAiB7F,KAAM,mBAChB,CACH9U,OAAQ0a,EAAmB3nB,gBAAgB+nB,EAAWY,sBAAuB5G,KAAM,UACnFphB,KAAMgnB,EAAmB3nB,gBAAgB+nB,EAAWY,sBAAuB5G,KAAM,QACjF5V,MAAOwb,EAAmB3nB,gBAAgB+nB,EAAWY,sBAAuB5G,KAAM,WAG1FgG,EAAWmB,mBAAqB,SAAUpiB,EAAS3B,GAE/C,OAAOwiB,EAAmBjG,iBAAiBqG,EAAWhX,iBAAkB4W,EAAmB9gB,uBAAuBC,GAAU3B,IAEhI4iB,EAAWoB,gBAAkB,WAEzB,IADA,IAAIjP,EAAO,GACFta,EAAK,EAAGA,EAAKO,UAAUpB,OAAQa,IACpCsa,EAAKta,GAAMO,UAAUP,GAEzB,IAAK,IAAIC,EAAK,EAAGupB,EAASlP,EAAMra,EAAKupB,EAAOrqB,OAAQc,IAAM,CACtD,IAAI4E,EAAK2kB,EAAOvpB,GAAKwpB,EAAI5kB,EAAGyV,KAAMjN,EAASxI,EAAGwI,OAC1C0F,EAAkB,IAAI5L,KAAK6L,OAAO3F,GACjC4F,WACAC,WACLiV,EAAWlb,WAAWI,GAAU8a,EAAWlb,WAAW8F,GAAmB0W,EACzEtB,EAAWhX,iBAAiBgC,IAAIJ,GAChCoV,EAAWhX,iBAAiBgC,IAAI9F,GAC3B8a,EAAWuB,kBACZvB,EAAWuB,gBAAkB3W,KAIzCoV,EAAWhW,iBAAmB,WAC1B,OAAOgW,EAAWuB,iBAEtBvB,EAAWlb,WAAa,GACxBkb,EAAWhX,iBAAmB,IAAI0B,IAClCsV,EAAWuB,gBAAkB,GAC7BvB,EAAWjW,sBAAwB,GACnCiW,EAAWwB,YAAa,EACxBxB,EAAWY,sBAAwB,IAAIa,QAChCzB,EAhGoB,GAkG/B7F,EAAQ1d,QAAUujB,EAClB,IAE0B,oBAAX0B,QACPjqB,OAAOoB,eAAemnB,EAAWre,UAAW+f,OAAOC,YAAa,CAC5DrqB,MAAO,kBACP4B,UAAU,EACVD,YAAY,EACZD,cAAc,IAItBvB,OAAOoB,eAAemnB,EAAWre,UAAUgf,YAAa,SAAU,CAC9DrpB,MAAO,EACP4B,UAAU,EACVD,YAAY,EACZD,cAAc,IAGlBvB,OAAOoB,eAAemnB,EAAWmB,mBAAoB,SAAU,CAC3D7pB,MAAO,EACP4B,UAAU,EACVD,YAAY,EACZD,cAAc,IAGtB,MAAO4Q,M,UChNH5K,KAAKghB,YAAyD,mBAApChhB,KAAKghB,WAAWoB,iBAC5CpiB,KAAKghB,WAAWoB,gBAAgB,CAAC,KAAO,CAAC,YAAc,CAAC,KAAO,CAAC,MAAQ,WAAW,OAAS,WAAW,IAAM,eAAe,KAAO,eAAe,MAAQ,CAAC,MAAQ,WAAW,OAAS,WAAW,IAAM,aAAa,KAAO,aAAa,OAAS,CAAC,MAAQ,WAAW,OAAS,WAAW,IAAM,WAAW,KAAO,aAAa,YAAc,CAAC,KAAO,CAAC,MAAQ,WAAW,OAAS,WAAW,IAAM,cAAc,KAAO,cAAc,MAAQ,CAAC,MAAQ,WAAW,OAAS,WAAW,IAAM,cAAc,KAAO,cAAc,OAAS,CAAC,MAAQ,WAAW,OAAS,WAAW,IAAM,cAAc,KAAO,eAAe,KAAO,CAAC,KAAO,CAAC,MAAQ,WAAW,OAAS,WAAW,IAAM,WAAW,KAAO,YAAY,MAAQ,CAAC,MAAQ,WAAW,OAAS,WAAW,IAAM,WAAW,KAAO,YAAY,OAAS,CAAC,MAAQ,UAAU,OAAS,UAAU,IAAM,UAAU,KAAO,aAAa,OAAS,Q,o8DCCh2B,SAAShrB,EAAaC,GAGzB,OAAOC,KAAKC,MAAMD,KAAKE,IAAIH,GAAKC,KAAKG,QAElC,SAASC,EAAOC,EAAGC,GACtB,GAAwB,mBAAbD,EAAED,OACT,OAAOC,EAAED,OAAOE,GAGpB,IADA,IAAIC,EAAM,IAAIC,MAAMF,GACXG,EAAI,EAAGA,EAAIF,EAAIG,OAAQD,IAC5BF,EAAIE,GAAKJ,EAEb,OAAOE,EAAII,KAAK,IAEb,SAASC,EAAgBC,EAAKC,EAAIC,EAAOC,GACvCH,EAAII,IAAIH,IACTD,EAAIK,IAAIJ,EAAIK,OAAOC,OAAO,OAElBP,EAAII,IAAIH,GACdC,GAASC,EAEZ,SAASK,EAAsBR,EAAKC,EAAIQ,GAC3C,IAAK,IAAIC,EAAK,EAAGC,EAAKL,OAAOM,KAAKH,GAAQC,EAAKC,EAAGd,OAAQa,IAAM,CAC5D,IAAIG,EAAIF,EAAGD,GACXX,EAAgBC,EAAKC,EAAIY,EAAGJ,EAAMI,KAGnC,SAASC,EAAgBd,EAAKC,EAAIC,GACrC,OAAOa,EAAsBf,EAAKC,EAAIC,GAAOA,GAE1C,SAASa,EAAsBf,EAAKC,GAEvC,IADA,IAAIe,EAAS,GACJN,EAAK,EAAGA,EAAKO,UAAUpB,OAAQa,IACpCM,EAAON,EAAK,GAAKO,UAAUP,GAE/B,IAAIQ,EAAQlB,EAAII,IAAIH,GACpB,IAAKiB,EACD,MAAM,IAAIC,UAAUlB,EAAK,0CAE7B,OAAOe,EAAOI,QAAO,SAAUC,EAAKC,GAEhC,OADAD,EAAIC,GAAKJ,EAAMI,GACRD,IACRf,OAAOC,OAAO,OAEd,SAASgB,EAAcC,GAC1B,MAA4B,YAArBA,EAAYC,KAYhB,SAASC,EAAeC,EAAQC,EAAMjB,GACzC,IAAIR,EAAQQ,EAAGR,MACfG,OAAOoB,eAAeC,EAAQC,EAAM,CAChCC,cAAc,EACdC,YAAY,EACZC,UAAU,EACV5B,MAAOA,IAGR,IAAI6B,EAAmC,0BACvC,SAASC,EAAUC,EAAWC,EAASC,GAE1C,QADY,IAARA,IAAkBA,EAAMC,QACvBH,EACD,MAAM,IAAIE,EAAID,GC3Ef,ICAIsgB,EDAAngB,EAAkB,CACzB,UACA,MACA,OACA,QACA,MACA,OACA,SACA,SACA,iBCRJ,SAAWmgB,GACPA,EAA6B,WAAI,aACjCA,EAAyB,OAAI,SAC7BA,EAA2B,SAAI,WAHnC,CAIGA,IAAqBA,EAAmB,KCE3C,IAAIlgB,EAAkB,4KAElBC,EAAoB,qCACxB,SAASC,EAAqBC,EAAOC,GACjC,IAAIC,EAAMF,EAAM7C,OAChB,OAAQ6C,EAAM,IAEV,IAAK,IAED,OADAC,EAAOE,IAAc,IAARD,EAAY,OAAiB,IAARA,EAAY,SAAW,QAClD,QAEX,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IAED,OADAD,EAAOG,KAAe,IAARF,EAAY,UAAY,UAC/B,SAEX,IAAK,IACL,IAAK,IACD,MAAM,IAAIG,WAAW,8CAEzB,IAAK,IACL,IAAK,IAED,OADAJ,EAAOK,MAAQ,CAAC,UAAW,UAAW,QAAS,OAAQ,UAAUJ,EAAM,GAChE,UAEX,IAAK,IACL,IAAK,IACD,MAAM,IAAIG,WAAW,mDACzB,IAAK,IAED,OADAJ,EAAOM,IAAM,CAAC,UAAW,WAAWL,EAAM,GACnC,QACX,IAAK,IACL,IAAK,IACL,IAAK,IAED,OADAD,EAAOM,IAAM,UACN,QAEX,IAAK,IAED,OADAN,EAAOO,QAAkB,IAARN,EAAY,OAAiB,IAARA,EAAY,SAAW,QACtD,YACX,IAAK,IAUL,IAAK,IASD,OARAD,EAAOO,QAAU,MACbC,OACAA,EACA,QACA,OACA,SACA,SACFP,EAAM,GACD,YAEX,IAAK,IACL,IAAK,IACL,IAAK,IAED,OADAD,EAAOS,QAAS,EACT,SAEX,IAAK,IAGD,OAFAT,EAAOU,KAAO,CAAC,UAAW,WAAWT,EAAM,GAC3CD,EAAOS,QAAS,EACT,SACX,IAAK,IAED,OADAT,EAAOU,KAAO,CAAC,UAAW,WAAWT,EAAM,GACpC,SACX,IAAK,IAGD,OAFAD,EAAOU,KAAO,CAAC,UAAW,WAAWT,EAAM,GAC3CD,EAAOS,QAAS,EACT,SACX,IAAK,IAED,OADAT,EAAOU,KAAO,CAAC,UAAW,WAAWT,EAAM,GACpC,SACX,IAAK,IACL,IAAK,IACL,IAAK,IACD,MAAM,IAAIG,WAAW,oEAEzB,IAAK,IAED,OADAJ,EAAOW,OAAS,CAAC,UAAW,WAAWV,EAAM,GACtC,WAEX,IAAK,IAED,OADAD,EAAOY,OAAS,CAAC,UAAW,WAAWX,EAAM,GACtC,WACX,IAAK,IACL,IAAK,IAED,OADAD,EAAOY,OAAS,UACT,WAEX,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IAED,OADAZ,EAAOa,aAAeZ,EAAM,EAAI,QAAU,OACnC,iBAEf,MAAO,GAEX,SAASa,EAAsBC,GAC3B,OAAQA,GAEJ,IAAK,IACD,MAAO,MAEX,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACD,MAAO,OAEX,IAAK,IACL,IAAK,IACD,MAAO,QAEX,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACD,MAAO,MAEX,IAAK,IACL,IAAK,IACL,IAAK,IACD,MAAO,OAEX,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACD,MAAO,OAEX,IAAK,IACD,MAAO,SAEX,IAAK,IACL,IAAK,IACL,IAAK,IACD,MAAO,SACX,QACI,MAAM,IAAIX,WAAW,gCAG1B,SAASY,EAAuBC,EAASjB,GAC5C,IAAIkB,EAAW,GAEXC,EAAYF,EAEXG,QAAQ,QAAS,gBAEjBA,QAAQ,YAAY,SAAUC,EAAGC,GAElC,OADAJ,EAASK,KAAKD,GACP,MAAQJ,EAAShE,OAAS,GAAK,QAErCkE,QAAQxB,GAAiB,SAAU4B,GAAK,OAAO1B,EAAqB0B,EAAGxB,GAAU,OAUtF,OARIkB,EAAShE,SACTiE,EAAYA,EACPC,QAAQ,kBAAkB,SAAUC,EAAGpE,GACxC,OAAOiE,GAAUjE,MAEhBmE,QAAQ,kBAAmB,MAG7B,CACHD,EACKC,QAAQ,2CAA4C,MACpDA,QAAQ,SAAU,IAClBA,QAAQvB,EAAmB,IAChCsB,GASD,SAASM,EAAsBC,EAAUC,EAAYC,EAAeC,QACpD,IAAfF,IAAyBA,EAAaD,GAC1C,IAAI1B,EAAS,CACTiB,QAAS,GACTE,UAAW,GACXO,SAAUA,EACVC,WAAYA,EACZC,cAAe,GACfE,gBAAiB,IAErB,GAAIF,EACA,IAAK,IAAI1D,KAAK0D,EAAe,CACzB,IAAIG,EAAMjB,EAAsB5C,GAE5B8D,EAAiB,CACjBC,aAAc,IAEdjE,EAAKgD,EAJUY,EAAc1D,GAIa8D,GAAiBE,EAAYlE,EAAG,GAAImE,EAAcnE,EAAG,GACnGgC,EAAO4B,cAAcG,IAAO,IAAAK,WAAS,IAAAA,UAAS,GAAIJ,GAAiB,CAAEC,aAAcI,EAAkBH,KACrGlC,EAAO8B,gBAAgBC,IAAO,IAAAK,WAAS,IAAAA,UAAS,GAAIJ,GAAiB,CAAEC,aAAcI,EAAkBF,UAG1G,GAAIN,EAAwB,CAC7B,IAAII,EAeL,SAAmChB,GAEtC,OADYA,EAAQqB,MAAM,gBAAgBC,OAAOC,SACpCnF,KAAI,SAAU4D,GACvB,OAAQA,GACJ,IAAK,MACD,MAAO,CACHwB,OAAQqd,EAAiBgI,WACzB7mB,QAASA,GAEjB,IAAK,MACD,MAAO,CACHwB,OAAQqd,EAAiBiI,SACzB9mB,QAASA,GAEjB,QACI,MAAO,CACHwB,OAAQqd,EAAiBkI,OACzB/mB,QAASA,OAhCFyB,CAA0Bb,GAC7C7B,EAAO4B,cAAce,QAAU,CAC3BV,aAAcA,GAElBjC,EAAO8B,gBAAgBa,QAAU,CAC7BV,aAAcA,GAItBP,EAASN,QAAQxB,GAAiB,SAAU4B,GAAK,OAAO1B,EAAqB0B,EAAGxB,MAChF,IAAI4C,EAAK5B,EAAuBW,GAAaV,EAAU2B,EAAG,GAAIzB,EAAYyB,EAAG,GAG7E,OAFA5C,EAAOiB,QAAUA,EACjBjB,EAAOmB,UAAYA,EACZnB,EAwBJ,SAASqC,EAAkBpB,GAM9B,IALA,IAGIlB,EAHA8C,EAAa,aAEbC,EAAQ,GAERC,EAAa,EACThD,EAAQ8C,EAAWG,KAAK/B,IAAW,CACvC,GAAMlB,EAAM,KAAM+C,EAGb,CACDC,EAAahD,EAAMkD,MACnB,MAJAH,EAAM/C,EAAM,IAAMA,EAAMkD,MAOhC,OAAKF,EAQE,CACH,CACIN,OAAQqd,EAAiBgI,WACzB7mB,QAASA,EAAQiC,MAAM,EAAGH,IAE9B,CACIN,OAAQqd,EAAiBiI,SACzB9mB,QAASA,EAAQiC,MAAMH,KAdpB,CACH,CACIN,OAAQqd,EAAiBgI,WACzB7mB,QAASA,ICnRzB,SAASkC,EAAcC,GACnB,MAAa,YAANA,GAAyB,YAANA,EAQvB,SAASC,EAA0BC,EAASC,GAC/C,IAAIC,EAAQ,EACRF,EAAQ7C,SAAW8C,EAAO9C,OAC1B+C,GHLoB,KGOdF,EAAQ7C,QAAU8C,EAAO9C,SAC/B+C,GHPqB,IGSzB,IAAK,IAAIzF,EAAK,EAAG0F,EAAoB9D,EAAiB5B,EAAK0F,EAAkBvG,OAAQa,IAAM,CACvF,IAAI2F,EAAOD,EAAkB1F,GACzB4F,EAAcL,EAAQI,GACtBE,EAAaL,EAAOG,GACxB,QAAoBlD,IAAhBmD,QAA4CnD,IAAfoD,EAC7BJ,GHdiB,QGgBhB,QAAoBhD,IAAhBmD,QAA4CnD,IAAfoD,EAClCJ,GHlBgB,SGoBf,GAAIG,IAAgBC,EAErB,GAAIT,EAAcQ,KACdR,EAAcS,GACdJ,GHtByB,OGwBxB,CACD,IAAIK,EAAS,CAAC,UAAW,UAAW,SAAU,QAAS,QACnDC,EAAmBD,EAAOE,QAAQJ,GAClCK,EAAkBH,EAAOE,QAAQH,GACjCK,EAAQzH,KAAK0H,KAAK,EAAG1H,KAAK2H,IAAIH,EAAkBF,EAAkB,IACxD,IAAVG,EACAT,GH5BS,EG8BM,IAAVS,EACLT,GH7BU,GG+BM,IAAXS,EACLT,GHjCU,GGmCM,IAAXS,IACLT,GHtCS,IG2CzB,OAAOA,EASJ,SAASY,EAAqBd,EAASe,GAC1C,IAAIC,GAAaC,IACbC,EAAaH,EAAQ,GACzB/E,EAAUtC,MAAMyH,QAAQJ,GAAU,sCAClC,IAAK,IAAItG,EAAK,EAAG2G,EAAYL,EAAStG,EAAK2G,EAAUxH,OAAQa,IAAM,CAC/D,IAAIwF,EAASmB,EAAU3G,GACnByF,EAAQH,EAA0BC,EAASC,GAC3CC,EAAQc,IACRA,EAAYd,EACZgB,EAAajB,GAGrB,IAAIoB,GAAiB,IAAAvC,UAAS,GAAIoC,GAC9BI,EAAgB,CAAEjD,WAAY6C,EAAW7C,YAI7C,IAAK,IAAI+B,KAHT1C,EAAuBwD,EAAW7C,WAAYiD,GAG7BD,EAAgB,CAC7B,IAAIE,EAAgBF,EAAejB,GAC/BoB,EAAeF,EAAclB,GAC7BqB,EAAiBzB,EAAQI,GAGhB,WAATA,GAA8B,WAATA,IAIpBqB,IAMD5B,EAAc2B,KACb3B,EAAc4B,IAGfF,IAAkBE,IAGtBH,EAAclB,GAAQqB,KAQ1B,OALAH,EAAc3D,QAAU0D,EAAe1D,QACvC2D,EAAczD,UAAYwD,EAAexD,UACzCyD,EAAclD,SAAWiD,EAAejD,SACxCkD,EAAchD,cAAgB+C,EAAe/C,cAC7CgD,EAAc9C,gBAAkB6C,EAAe7C,gBACxC8C,EC9GJ,SAASI,EAAuBC,GAEnC,OAAOC,KAAKC,oBAAoBF,GCF7B,SAASG,EAAyBC,EAAIrH,GACzC,IAAIsH,EAAStH,EAAGsH,OAAQC,EAAiBvH,EAAGuH,eACxCC,EAAeH,EAAGI,cAClBC,EAAkB/H,OAAOM,KAAKqH,GAAQ7G,QAAO,SAAUC,EAAKiH,GAE5D,OADAjH,EAAIiH,EAAEF,eAAiBE,EAChBjH,IACR,IACCkH,EAAeL,EAAeC,IAAiBE,EAAgBF,GACnE,MAAqB,YAAjBI,GAA+C,YAAjBA,EACvB,MAEJA,ECPJ,SAASC,EAAmBvC,EAASe,GACxC,IAAIC,GAAaC,IACbC,EAAaH,EAAQ,GACzB/E,EAAUtC,MAAMyH,QAAQJ,GAAU,sCAClC,IAAK,IAAItG,EAAK,EAAG2G,EAAYL,EAAStG,EAAK2G,EAAUxH,OAAQa,IAAM,CAG/D,IAFA,IAAIwF,EAASmB,EAAU3G,GACnByF,EAAQ,EACHxF,EAAK,EAAGyF,EAAoB9D,EAAiB3B,EAAKyF,EAAkBvG,OAAQc,IAAM,CACvF,IAAI0F,EAAOD,EAAkBzF,GACzB2F,EAAcL,EAAQI,GACtBE,EAAaL,EAAOG,GACxB,QAAoBlD,IAAhBmD,QAA4CnD,IAAfoD,EAC7BJ,GNRa,QMUZ,QAAoBhD,IAAhBmD,QAA4CnD,IAAfoD,EAClCJ,GNZY,SMcX,GAAIG,IAAgBC,EAAY,CACjC,IAAIC,EAAS,CAAC,UAAW,UAAW,SAAU,QAAS,QACnDC,EAAmBD,EAAOE,QAAQJ,GAClCK,EAAkBH,EAAOE,QAAQH,GACjCK,EAAQzH,KAAK0H,KAAK,EAAG1H,KAAK2H,IAAIH,EAAkBF,EAAkB,IACxD,IAAVG,EACAT,GNhBS,EMkBM,IAAVS,EACLT,GNjBU,GMmBM,IAAXS,EACLT,GNrBU,GMuBM,IAAXS,IACLT,GN1BS,IM8BjBA,EAAQc,IACRA,EAAYd,EACZgB,EAAajB,GAGrB,OAAO,IAAAnB,UAAS,GAAIoC,GChDjB,SAASsB,EAAoBC,EAAWC,EAAWC,GACtD,IAAIC,EAAYC,EAehB,QAdkB3F,IAAdwF,IACA1G,EAAwB,SAAd0G,GACQ,SAAdA,GACc,WAAdA,GACc,UAAdA,EAAuB,qBAC3BG,EAAaF,EAAeE,WAAWH,SAEzBxF,IAAduF,IACAzG,EAAwB,SAAdyG,GACQ,SAAdA,GACc,WAAdA,GACc,UAAdA,EAAuB,qBAC3BG,EAAaD,EAAeC,WAAWH,SAEzBvF,IAAduF,QAAyCvF,IAAdwF,EAAyB,CACpD,IAAIzC,EAAS,GACb,IAAK,IAAIhG,KAAS2I,EACA,YAAV3I,IAEAgG,EAAOhG,GAAS2I,EAAW3I,IAGnC,IAAK,IAAIA,KAAS4I,EACA,YAAV5I,GAAiC,cAAVA,IAEvBgG,EAAOhG,GAAS4I,EAAW5I,IAGnC,IAAI6I,EAAYH,EAAeI,eAAeN,GAC1C9E,EAAUmF,EACThF,QAAQ,MAAO+E,EAAWlF,SAC1BG,QAAQ,MAAO8E,EAAWjF,SAE/B,GADAsC,EAAOtC,QAAUA,EACb,cAAekF,EAAY,CAC3B,IAAIhF,EAAYiF,EACXhF,QAAQ,MAAO+E,EAAWhF,WAC1BC,QAAQ,MAAO8E,EAAWjF,SAC/BsC,EAAOpC,UAAYA,EAEvB,OAAOoC,EAEX,YAAkB/C,IAAdwF,EACOG,GAEX7G,OAAwBkB,IAAduF,EAAyB,qCAC5BG,GC7CJ,SAASI,EAASC,GAErB,GAAiB,iBAANA,EACP,MAAM/H,UAAU,6CAEpB,OAAOgI,OAAOD,GAMX,SAASE,EAASC,GACrB,QAAYlG,IAARkG,EACA,OAAOC,IAEX,GAAY,OAARD,EACA,OAAO,EAEX,GAAmB,kBAARA,EACP,OAAOA,EAAM,EAAI,EAErB,GAAmB,iBAARA,EACP,OAAOA,EAEX,GAAmB,iBAARA,GAAmC,iBAARA,EAClC,MAAM,IAAIlI,UAAU,0CAExB,OAAOoI,OAAOF,GA2BX,SAASG,EAASC,GACrB,OAAKC,SAASD,GAGVtK,KAAKwK,IAAIF,GAAQ,OACVH,IA1Bf,SAAmBM,GACf,IAAIC,EAAST,EAASQ,GACtB,GAAIE,MAAMD,IAAWE,EAAUF,GAAS,GACpC,OAAO,EAEX,GAAIH,SAASG,GACT,OAAOA,EAEX,IAAIG,EAAU7K,KAAKC,MAAMD,KAAKwK,IAAIE,IAIlC,OAHIA,EAAS,IACTG,GAAWA,GAEXD,EAAUC,GAAU,GACb,EAEJA,EAaAC,CAAUR,GALNH,IAWR,SAASY,EAASC,GACrB,GAAW,MAAPA,EACA,MAAM,IAAIhJ,UAAU,gDAExB,OAAOb,OAAO6J,GAOX,SAASJ,EAAU7K,EAAGkL,GACzB,OAAI9J,OAAO+J,GACA/J,OAAO+J,GAAGnL,EAAGkL,GAGpBlL,IAAMkL,EAGO,IAANlL,GAAW,EAAIA,GAAM,EAAIkL,EAG7BlL,GAAMA,GAAKkL,GAAMA,EAMrB,SAASE,EAAY1H,GACxB,OAAO,IAAIjD,MAAMiD,GAOd,SAAS2H,EAAerB,EAAG7C,GAC9B,OAAO/F,OAAOkK,UAAUC,eAAeC,KAAKxB,EAAG7C,GAM5C,SAASsE,EAAKzL,GACjB,OAAU,OAANA,EACO,YAEM,IAANA,EACA,YAEM,mBAANA,GAAiC,iBAANA,EAC3B,SAEM,iBAANA,EACA,SAEM,kBAANA,EACA,UAEM,iBAANA,EACA,SAEM,iBAANA,EACA,SAEM,iBAANA,EACA,cADX,EAIJ,IAAI0L,EAAa,MAOjB,SAASC,EAAI3L,EAAGkL,GACZ,OAAOlL,EAAIC,KAAKC,MAAMF,EAAIkL,GAAKA,EAM5B,SAASU,EAAI/E,GAChB,OAAO5G,KAAKC,MAAM2G,EAAI6E,GAMnB,SAASG,EAAQhF,GACpB,OAAO8E,EAAIC,EAAI/E,GAAK,EAAG,GAMpB,SAASiF,EAAYZ,GACxB,OAAQ,KAAOA,EAAI,MACfjL,KAAKC,OAAOgL,EAAI,MAAQ,GACxBjL,KAAKC,OAAOgL,EAAI,MAAQ,KACxBjL,KAAKC,OAAOgL,EAAI,MAAQ,KAMzB,SAASa,EAAab,GACzB,OAAOQ,EAAaI,EAAYZ,GAM7B,SAASc,EAAanF,GAGzB,IAFA,IACIqE,EADMjL,KAAKgM,KAAKpF,EAAI6E,EAAa,KAE9BK,EAAab,IAAMrE,GACtBqE,IAEJ,OAAOA,EAAI,EAER,SAASgB,EAAWhB,GACvB,OAAIA,EAAI,GAAM,EACH,IAEPA,EAAI,KAAQ,EACL,IAEPA,EAAI,KAAQ,EACL,IAEJ,IAEJ,SAASiB,EAActF,GAC1B,OAAO+E,EAAI/E,GAAKiF,EAAYE,EAAanF,IAEtC,SAASuF,EAAWvF,GACvB,OAAuC,MAAhCqF,EAAWF,EAAanF,IAAc,EAAI,EAM9C,SAASwF,EAAcxF,GAC1B,IAAIyF,EAAMH,EAActF,GACpB0F,EAAOH,EAAWvF,GACtB,GAAIyF,GAAO,GAAKA,EAAM,GAClB,OAAO,EAEX,GAAIA,EAAM,GAAKC,EACX,OAAO,EAEX,GAAID,EAAM,GAAKC,EACX,OAAO,EAEX,GAAID,EAAM,IAAMC,EACZ,OAAO,EAEX,GAAID,EAAM,IAAMC,EACZ,OAAO,EAEX,GAAID,EAAM,IAAMC,EACZ,OAAO,EAEX,GAAID,EAAM,IAAMC,EACZ,OAAO,EAEX,GAAID,EAAM,IAAMC,EACZ,OAAO,EAEX,GAAID,EAAM,IAAMC,EACZ,OAAO,EAEX,GAAID,EAAM,IAAMC,EACZ,OAAO,EAEX,GAAID,EAAM,IAAMC,EACZ,OAAO,GAEX,GAAID,EAAM,IAAMC,EACZ,OAAO,GAEX,MAAM,IAAIpJ,MAAM,gBAEb,SAASqJ,EAAa3F,GACzB,IAAIyF,EAAMH,EAActF,GACpB4F,EAAMJ,EAAcxF,GACpB0F,EAAOH,EAAWvF,GACtB,GAAY,IAAR4F,EACA,OAAOH,EAAM,EAEjB,GAAY,IAARG,EACA,OAAOH,EAAM,GAEjB,GAAY,IAARG,EACA,OAAOH,EAAM,GAAKC,EAEtB,GAAY,IAARE,EACA,OAAOH,EAAM,GAAKC,EAEtB,GAAY,IAARE,EACA,OAAOH,EAAM,IAAMC,EAEvB,GAAY,IAARE,EACA,OAAOH,EAAM,IAAMC,EAEvB,GAAY,IAARE,EACA,OAAOH,EAAM,IAAMC,EAEvB,GAAY,IAARE,EACA,OAAOH,EAAM,IAAMC,EAEvB,GAAY,IAARE,EACA,OAAOH,EAAM,IAAMC,EAEvB,GAAY,IAARE,EACA,OAAOH,EAAM,IAAMC,EAEvB,GAAY,KAARE,EACA,OAAOH,EAAM,IAAMC,EAEvB,GAAY,KAARE,EACA,OAAOH,EAAM,IAAMC,EAEvB,MAAM,IAAIpJ,MAAM,gBAQb,SAASuJ,EAAa7F,GACzB,OAAO8E,EAAI1L,KAAKC,MAAM2G,EAFR8F,MALE,IASb,SAASC,EAAY/F,GACxB,OAAO8E,EAAI1L,KAAKC,MAAM2G,EANNgG,KAHG,IAWhB,SAASC,EAAYjG,GACxB,OAAO8E,EAAI1L,KAAKC,MAAM2G,EAVN,KADK,IAyBlB,SAAS6kB,EAAoBC,EAAGC,EAAGjd,GACtC,GAZqB,mBAYLgd,EACZ,OAAO,EAEX,GAAIhd,aAAqD,EAASA,EAAckd,oBAE5E,OAAOD,aADEjd,aAAqD,EAASA,EAAckd,qBAGzF,GAAiB,iBAAND,EACP,OAAO,EAEX,IAAIE,EAAIH,EAAErgB,UACV,GAAiB,iBAANwgB,EACP,MAAM,IAAI7pB,UAAU,+EAExB,OAAOb,OAAOkK,UAAUygB,cAAcvgB,KAAKsgB,EAAGF,GCzT3C,SAAS7e,GAAYlG,EAAGmG,EAAUC,EAAUxL,GAC/C,IAAIsH,EAAStH,EAAGsH,OAChBhG,EAAsB,WAAZ0I,EAAK5E,GAAiB,gBAChC9D,EAAuB,YAAbiK,EAAwB,8CAClC,IAAI3G,EA5BR,SAA+BQ,EAAGoG,EAAUlE,GACxC,IAAItH,EACAyL,EAAWnE,EAAOkE,GAEtB,IAAKC,EACD,MAAO,CAAC,GAAG,GAKf,IAHA,IAAIxM,EAAI,EACJyM,EAAS,EACTC,GAAM,EACH1M,GAAKwM,EAASvM,OAAQD,IACzB,GAAIA,IAAMwM,EAASvM,QAA2B,IAAjBuM,EAASxM,GAAG,GAAWmG,EAAG,CAC7BsG,GAAtB1L,EAAKyL,EAASxM,EAAI,IAAgB,GAAI0M,EAAM3L,EAAG,GAC/C,MAGR,MAAO,CAAU,IAAT0L,EAAcC,GAYbC,CAAsBxG,EAAGoG,EAAUlE,GAASuE,EAAiBjH,EAAG,GAAIkH,EAAQlH,EAAG,GACpFyC,EAAKjC,EAAIyG,EACT1J,EAAOoI,EAAalD,GACxB,MAAO,CACH9E,QAAS6H,EAAQ/C,GACjBnF,IAAKC,EAAO,EAAI,KAAO,KACvBA,KAAMA,EACN4J,iBAAavJ,EACbwJ,cAAUxJ,EACVH,MAAOuI,EAAcvD,GACrB/E,IAAKyI,EAAa1D,GAClB3E,KAAMuI,EAAa5D,GACnB1E,OAAQwI,EAAY9D,GACpBzE,OAAQyI,EAAYhE,GACpByE,MAAOA,EAEPD,eAAgBA,GC3CxB,SAASI,GAAIhD,GACT,OAAIA,EAAI,GACG,IAAMA,EAEVT,OAAOS,GAElB,SAASiD,GAAkBC,EAAWC,EAAYC,EAAYC,GAC1D,IAAIC,EAAkB/N,KAAKC,MAAM4N,EAAa,KAC1CG,EAAOhO,KAAKwK,IAAIuD,GAAmB,GACnCE,EAAQjO,KAAKC,MAAMD,KAAKwK,IAAIuD,GAAmB,IAC/CvM,EAAKoM,EAAW9H,MAAM,KAAMoI,EAAkB1M,EAAG,GAAI2M,EAAkB3M,EAAG,GAC1E4M,EAAY,GACZ3J,EAAUoJ,EAAa,EAAIM,EAAkBD,EAgBjD,MAfc,SAAVJ,EACAM,EAAY3J,EACPG,QAAQ,KAAM6I,GAAIQ,IAClBrJ,QAAQ,IAAKoF,OAAOiE,IACpBrJ,QAAQ,KAAM6I,GAAIO,IAClBpJ,QAAQ,IAAKoF,OAAOgE,KAEpBA,GAAQC,KACRD,IACDvJ,EAAUA,EAAQG,QAAQ,OAAQ,KAEtCwJ,EAAY3J,EACPG,QAAQ,KAAMoF,OAAOiE,IACrBrJ,QAAQ,KAAMoF,OAAOgE,KAEvBL,EAAU/I,QAAQ,MAAOwJ,GAO7B,SAASC,GAAsBC,EAAK7I,EAAc1F,EAAGyB,GACxD,IAAI+M,EAAmB/M,EAAG+M,iBAAkBC,EAAahN,EAAGgN,WAAYC,EAAqBjN,EAAGiN,mBAAoB3F,EAAStH,EAAGsH,OAChI/I,EAAIsK,EAAStK,GAEb,IAAI2O,EAAgBH,EAAiBD,GAEjC7E,EAAiB+E,EADJE,EAAcC,YAG3BC,EAASF,EAAcE,OACvBC,EAAY1N,OAAOC,OAAO,MAC9ByN,EAAUC,aAAc,EACxB,IAAIC,EAAK,IAAIrG,KAAKsG,aAAaJ,EAAQC,GACnCI,EAAa9N,OAAOC,OAAO,MAC/B6N,EAAWC,qBAAuB,EAClCD,EAAWH,aAAc,EAMzB,IALA,IAAIK,EAAM,IAAIzG,KAAKsG,aAAaJ,EAAQK,GACpCG,EAAKtC,GAAY/M,EAErB2O,EAAc3B,SAAU2B,EAAc1B,SAAU,CAAElE,OAAQA,IACtDtF,EAAS,GACJjC,EAAK,EAAG8N,EAAiB5J,EAAclE,EAAK8N,EAAe3O,OAAQa,IAAM,CAC9E,IAAIc,EAAcgN,EAAe9N,GAC7B+N,EAAIjN,EAAYC,KACpB,GAAU,YAANgN,EACA9L,EAAOuB,KAAK,CACRzC,KAAM,UACNtB,MAAOqB,EAAYrB,aAGtB,GAAImC,EAAgBoE,QAAQ+H,IAAM,EAAG,CACtC,IAAIC,EAAK,GACLpN,EAAIuM,EAAcY,GAElBE,EAAIJ,EAAGE,GACD,SAANA,GAAgBE,GAAK,IACrBA,EAAI,EAAIA,GAEF,UAANF,GACAE,IAEJ,IAAIC,EAAYf,EAAce,UAY9B,GAXU,SAANH,GAA+B,QAAdG,GAAqC,QAAdA,GAE9B,KADVD,GAAQ,KACqB,QAAdC,IACXD,EAAI,IAGF,SAANF,GAA8B,QAAdG,GACN,IAAND,IACAA,EAAI,IAGF,YAANrN,EACAoN,EAAKR,EAAGhI,OAAOyI,QAEd,GAAU,YAANrN,GACLoN,EAAKJ,EAAIpI,OAAOyI,IACT9O,OAAS,IACZ6O,EAAKA,EAAG7I,MAAM6I,EAAG7O,OAAS,EAAG6O,EAAG7O,cAGnC,GAAU,WAANyB,GAAwB,UAANA,GAAuB,SAANA,EACxC,GAAU,QAANmN,EACAC,EAAK9F,EAAe6F,GAAGnN,GAAGqN,QAEzB,GAAU,iBAANF,EAAsB,CAC3B,IAAIjL,EAAeoF,EAAepF,aAAcsJ,EAAYlE,EAAekE,UAAWC,EAAanE,EAAemE,WAE9G8B,EAAerL,EADJqK,EAAc1B,UAAYyB,KAGrCc,EADAG,GAAgBA,EAAavN,GACxBuN,EAAavN,IAAIiN,EAAG9B,OAIpBI,GAAkBC,EAAWC,EAAYwB,EAAG/B,eAAgBlL,QAIrEoN,EADW,UAAND,EACA7F,EAAe5F,MAAM1B,GAAGqN,EAAI,GAG5B/F,EAAe6F,GAAGnN,GAAGqN,GAGlChM,EAAOuB,KAAK,CACRzC,KAAMgN,EACNtO,MAAOuO,SAGV,GAAU,SAAND,EAAc,CAEfC,OAAK,EAELA,GAHAC,EAAIJ,EAAGlL,MAEH,GACCuF,EAAekG,GAGflG,EAAemG,GAExBpM,EAAOuB,KAAK,CACRzC,KAAM,YACNtB,MAAOuO,SAGV,GAAU,gBAAND,EAAqB,CACtBE,EAAIJ,EAAG7B,YAEPgC,EAAKR,EAAGhI,OAAOyI,GACnBhM,EAAOuB,KAAK,CAERzC,KAAM,cACNtB,MAAOuO,SAGV,GAAU,aAAND,EAAkB,CACnBE,EAAIJ,EAAG5B,SAEP+B,EAAKR,EAAGhI,OAAOyI,GACnBhM,EAAOuB,KAAK,CAERzC,KAAM,WACNtB,MAAOuO,KAInB,OAAO/L,EC7JJ,SAASqM,GAAiBpL,GAM7B,IALA,IAAIjB,EAAS,GACTsM,EAAarL,EAAQ8C,QAAQ,KAC7BwI,EAAW,EACXC,EAAY,EACZtP,EAAS+D,EAAQ/D,OACdoP,EAAarL,EAAQ/D,QAAUoP,GAAc,GAEhDhN,GADAiN,EAAWtL,EAAQ8C,QAAQ,IAAKuI,IACXA,EAAY,mBAAqBrL,GAClDqL,EAAaE,GACbxM,EAAOuB,KAAK,CACRzC,KAAM,UACNtB,MAAOyD,EAAQwL,UAAUD,EAAWF,KAG5CtM,EAAOuB,KAAK,CACRzC,KAAMmC,EAAQwL,UAAUH,EAAa,EAAGC,GACxC/O,WAAOgD,IAEXgM,EAAYD,EAAW,EACvBD,EAAarL,EAAQ8C,QAAQ,IAAKyI,GAQtC,OANIA,EAAYtP,GACZ8C,EAAOuB,KAAK,CACRzC,KAAM,UACNtB,MAAOyD,EAAQwL,UAAUD,EAAWtP,KAGrC8C,ECzBJ,SAAS0M,GAAyB5B,EAAKvO,EAAGoQ,GAE7C,GADApQ,EAAIsK,EAAStK,GACT4K,MAAM5K,GACN,MAAM,IAAI6D,WAAW,gBAOzB,OAAOyK,GAAsBC,EAAKuB,IAHdtB,EADG4B,EAAY5B,kBACED,GAET7J,SACiC1E,EAAGoQ,GCZ7D,SAASC,GAAe9B,EAAKvO,EAAGoQ,GAGnC,IAFA,IACI3M,EAAS,GACJjC,EAAK,EAAG8O,EAFLH,GAAyB5B,EAAKvO,EAAGoQ,GAEX5O,EAAK8O,EAAQ3P,OAAQa,IAAM,CAEzDiC,GADW6M,EAAQ9O,GACJP,MAEnB,OAAOwC,ECRX,IAAI8M,GAAiB,CACjB,MACA,OACA,QACA,MACA,OACA,OACA,SACA,UAEG,SAASC,GAA8BjC,EAAKvO,EAAGkL,EAAGkF,GAErD,GADApQ,EAAIsK,EAAStK,GACT4K,MAAM5K,GACN,MAAM,IAAI6D,WAAW,sBAGzB,GADAqH,EAAIZ,EAASY,GACTN,MAAMM,GACN,MAAM,IAAIrH,WAAW,oBAgBzB,IAbA,IAUI4M,EAVAjC,EAAmB4B,EAAY5B,iBAAkBzF,EAASqH,EAAYrH,OACtE4F,EAAgBH,EAAiBD,GAEjCmC,EAAM3D,GAAY/M,EAEtB2O,EAAc3B,SAAU2B,EAAc1B,SAAU,CAAElE,OAAQA,IACtD4H,EAAM5D,GAAY7B,EAEtByD,EAAc3B,SAAU2B,EAAc1B,SAAU,CAAElE,OAAQA,IACtDrE,EAAUiK,EAAcjK,QAASW,EAAgBsJ,EAActJ,cAE/DuL,GAA6B,EAC7BC,GAAiC,EAC5BrP,EAAK,EAAGsP,EAAmBP,GAAgB/O,EAAKsP,EAAiBnQ,OAAQa,IAAM,CACpF,IAAIuP,EAAYD,EAAiBtP,GACjC,GAAIoP,IAA+BC,EAC/B,GAAkB,SAAdE,EAAsB,CACtB,IAAIC,EAAK3L,EAAc4L,KACvB,QAAqBhN,IAAjBwM,QAAqCxM,IAAP+M,EAC9BH,GAAiC,MAEhC,CACD,IAAIK,EAAKR,EAAIvM,KACTgN,EAAKR,EAAIxM,MACR+M,EAAK,IAAMC,EAAK,IAAQD,EAAK,IAAMC,EAAK,MACzCP,GAA6B,GAEjCH,EAAeO,OAGlB,CACGA,EAAK3L,EAAc0L,GACvB,QAAqB9M,IAAjBwM,QAAqCxM,IAAP+M,EAC9BH,GAAiC,OAK5BhG,EAFDqG,EAAKR,EAAIK,GACTI,EAAKR,EAAII,MAETH,GAA6B,GAEjCH,EAAeO,GAK/B,GAAIJ,EAA4B,CAE5B,IADA,IAAIQ,EAAW9C,GAAsBC,EAAKuB,GAAiBpL,GAAU1E,EAAGoQ,GAC/D3O,EAAK,EAAG4P,EAAWD,EAAU3P,EAAK4P,EAAS1Q,OAAQc,IAAM,CACtD4P,EAAS5P,GACfyE,OAASqd,EAAiBkI,OAEhC,OAAOra,EAEX,IAAI3N,EAAS,GACb,QAAqBQ,IAAjBwM,EAIA,IAAK,IAAIpK,EAAK,EAAGiL,GAHjBb,EAAepL,EAAce,SAGMV,aAAcW,EAAKiL,EAAG3Q,OAAQ0F,IAAM,CACnE,IAAI/D,EAAcgP,EAAGjL,GACO,QAAxB/D,EAAYoC,SAA6C,QAAxBpC,EAAYoC,UAC7CpC,EAAYoC,QAAUA,GAIlC,IAAK,IAAI6M,EAAK,EAAGC,EAAKf,EAAa/K,aAAc6L,EAAKC,EAAG7Q,OAAQ4Q,IAAM,CACnE,IAAIE,EAAmBD,EAAGD,GACtBrL,EAASuL,EAAiBvL,OAAQP,EAAY8L,EAAiB/M,QAC/D0E,OAAI,EAGJA,EAFAlD,IAAWqd,EAAiBgI,YAC5BrlB,IAAWqd,EAAiBkI,OACxBzrB,EAGAkL,EAIR,IAFA,IACIwG,EAAapD,GAAsBC,EADpBuB,GAAiBnK,GACsByD,EAAGgH,GACpDuB,EAAK,EAAGC,EAAeF,EAAYC,EAAKC,EAAajR,OAAQgR,IAAM,CAChEC,EAAaD,GACnBzL,OAASA,EAEfzC,EAASA,EAAOoO,OAAOH,GAE3B,OAAOjO,EC7GJ,SAASqO,GAAoBvD,EAAKvO,EAAGkL,EAAGkF,GAG3C,IAFA,IACI3M,EAAS,GACJjC,EAAK,EAAG8O,EAFLE,GAA8BjC,EAAKvO,EAAGkL,EAAGkF,GAEnB5O,EAAK8O,EAAQ3P,OAAQa,IAAM,CAEzDiC,GADW6M,EAAQ9O,GACJP,MAEnB,OAAOwC,ECPJ,SAASsO,GAA2BxD,EAAKvO,EAAGkL,EAAGkF,GAGlD,IAFA,IAAI7J,EAAQiK,GAA8BjC,EAAKvO,EAAGkL,EAAGkF,GACjD3M,EAAS,IAAIhD,MAAM,GACde,EAAK,EAAG8O,EAAU/J,EAAO/E,EAAK8O,EAAQ3P,OAAQa,IAAM,CACzD,IAAIwQ,EAAO1B,EAAQ9O,GACnBiC,EAAOuB,KAAK,CACRzC,KAAMyP,EAAKzP,KACXtB,MAAO+Q,EAAK/Q,MACZiF,OAAQ8L,EAAK9L,SAGrB,OAAOzC,ECHJ,SAASwO,GAAsB1D,EAAKvO,EAAGoQ,GAG1C,IAFA,IAAI7J,EAAQ4J,GAAyB5B,EAAKvO,EAAGoQ,GACzC3M,EAAS2H,EAAY,GAChB5J,EAAK,EAAG8O,EAAU/J,EAAO/E,EAAK8O,EAAQ3P,OAAQa,IAAM,CACzD,IAAIwQ,EAAO1B,EAAQ9O,GACnBiC,EAAOuB,KAAK,CACRzC,KAAMyP,EAAKzP,KACXtB,MAAO+Q,EAAK/Q,QAGpB,OAAOwC,ECZJ,SAASyO,GAAkBnL,EAASoL,EAAUC,GAE7CrL,OADY9C,IAAZ8C,EACU,KAGAiE,EAASjE,GAEvBA,EAAU3F,OAAOC,OAAO0F,GACxB,IAAIsL,GAAe,EACnB,GAAiB,SAAbF,GAAoC,QAAbA,EACvB,IAAK,IAAI3Q,EAAK,EAAGC,EAAK,CAAC,UAAW,OAAQ,QAAS,OAAQD,EAAKC,EAAGd,OAAQa,IAAM,MAG/DyC,IADF8C,EADDtF,EAAGD,MAGV6Q,GAAe,GAI3B,GAAiB,SAAbF,GAAoC,QAAbA,EACvB,IAAK,IAAI9L,EAAK,EAAGiL,EAAK,CAAC,OAAQ,SAAU,UAAWjL,EAAKiL,EAAG3Q,OAAQ0F,IAAM,MAGxDpC,IADF8C,EADDuK,EAAGjL,MAGVgM,GAAe,GAO3B,QAH0BpO,IAAtB8C,EAAQyC,gBAAiDvF,IAAtB8C,EAAQ0C,YAC3C4I,GAAe,GAEF,SAAbF,GAAuBpL,EAAQ0C,UAC/B,MAAM,IAAIxH,UAAU,oEAExB,GAAiB,SAAbkQ,GAAuBpL,EAAQyC,UAC/B,MAAM,IAAIvH,UAAU,oEAExB,GAAIoQ,IAA8B,SAAbD,GAAoC,QAAbA,GACxC,IAAK,IAAIb,EAAK,EAAGC,EAAK,CAAC,OAAQ,QAAS,OAAQD,EAAKC,EAAG7Q,OAAQ4Q,IAAM,CAElExK,EADWyK,EAAGD,IACE,UAGxB,GAAIc,IAA8B,SAAbD,GAAoC,QAAbA,GACxC,IAAK,IAAIT,EAAK,EAAGW,EAAK,CAAC,OAAQ,SAAU,UAAWX,EAAKW,EAAG3R,OAAQgR,IAAM,CAEtE5K,EADWuL,EAAGX,IACE,UAGxB,OAAO5K,EC9CJ,SAASwL,GAAUC,EAAMrL,EAAM5E,EAAM+E,EAAQmL,GAEhD,IAAIxR,EAAQuR,EAAKrL,GACjB,QAAclD,IAAVhD,EAAqB,CACrB,GAAa,YAATsB,GAA+B,WAATA,EACtB,MAAM,IAAIN,UAAU,gBAQxB,GANa,YAATM,IACAtB,EAAQgF,QAAQhF,IAEP,WAATsB,IACAtB,EAAQ8I,EAAS9I,SAENgD,IAAXqD,IAAyBA,EAAOtB,QAAO,SAAUmE,GAAO,OAAOA,GAAOlJ,KAAUN,OAChF,MAAM,IAAIkD,WAAW5C,EAAQ,kBAAoBqG,EAAO1G,KAAK,OAEjE,OAAOK,EAEX,OAAOwR,ECtBJ,SAASC,GAAoBC,EAAkB9D,GAElD,IADA,IAAI+D,EAAY/D,IACH,CACT,GAAI8D,EAAiBE,IAAID,GACrB,OAAOA,EAEX,IAAIE,EAAMF,EAAUG,YAAY,KAChC,KAAMD,EACF,OAEAA,GAAO,GAA4B,MAAvBF,EAAUE,EAAM,KAC5BA,GAAO,GAEXF,EAAYA,EAAUjM,MAAM,EAAGmM,ICZhC,SAASE,GAAsBC,EAAWzN,GAC7CzC,EAAyB,IAAfyC,EAAI7E,OAAc,4BAC5B,IAAIuS,EAAOD,EAAUtS,OACjBwS,EAAc,IAAM3N,EAAM,IAC1BsN,EAAMG,EAAUzL,QAAQ2L,GAC5B,IAAa,IAATL,EAAY,CAKZ,IAJA,IAAIM,EAAQN,EAAM,EACdO,EAAMD,EACNzR,EAAIyR,EACJE,GAAO,GACHA,GAAM,CACV,IAAIC,EAAIN,EAAUzL,QAAQ,IAAK7F,GAQnB,MAND,IAAP4R,EACML,EAAOvR,EAGP4R,EAAI5R,GAGV2R,GAAO,GAEK,IAAPC,GACLF,EAAMH,EACNI,GAAO,IAGPD,EAAME,EACN5R,EAAI4R,EAAI,GAGhB,OAAON,EAAUtM,MAAMyM,EAAOC,GAIlC,GAFAF,EAAc,IAAM3N,GAEP,KADbsN,EAAMG,EAAUzL,QAAQ2L,KACNL,EAAM,IAAMI,EAC1B,MAAO,GCnCR,SAASM,GAAcb,EAAkBc,EAAkB1M,EAAS2M,EAAuBjF,EAAYkF,GAY1G,IAXA,IACIC,EAOAC,GALAD,EADY,WAFF7M,EAAQ+M,cCAnB,SAAuBnB,EAAkBc,EAAkBE,GAE9D,IADA,IAAIlQ,EAAS,CAAEoL,OAAQ,IACdrN,EAAK,EAAGuS,EAAqBN,EAAkBjS,EAAKuS,EAAmBpT,OAAQa,IAAM,CAC1F,IAAIqN,EAASkF,EAAmBvS,GAC5BwS,EAAoBnF,EAAOhK,QAAQ/B,EAAkC,IACrEmR,EAAkBvB,GAAoBC,EAAkBqB,GAC5D,GAAIC,EAKA,OAJAxQ,EAAOoL,OAASoF,EACZpF,IAAWmF,IACXvQ,EAAOwP,UAAYpE,EAAOlI,MAAMqN,EAAkBrT,OAAS,EAAGkO,EAAOlO,SAElE8C,EAIf,OADAA,EAAOoL,OAAS8E,IACTlQ,EDZCyQ,CAAcvB,EAAkBc,EAAkBE,GEHvD,SAAwBhB,EAAkBc,EAAkBE,GAC/D,IASIE,EATAM,EAA8B,GAC9BC,EAA4B,IAAIC,IACpC1B,EAAiB2B,SAAQ,SAAUzF,GAC/B,IAAI0F,EAAkB,IAAI5L,KAAK6L,OAAO3F,GACjC4F,WACAC,WACLP,EAA4BI,GAAmB1F,EAC/CuF,EAA0BO,IAAIJ,MAGlC,IAAK,IAAI/S,EAAK,EAAGuS,EAAqBN,EAAkBjS,EAAKuS,EAAmBpT,OAAQa,IAAM,CAC1F,IAAIoT,EAAIb,EAAmBvS,GAC3B,GAAIqS,EACA,MAEJ,IAAIG,EAAoBY,EAAE/P,QAAQ/B,EAAkC,IACpE,GAAI6P,EAAiBE,IAAImB,GAAoB,CACzCH,EAAcG,EACd,MAEJ,GAAII,EAA0BvB,IAAImB,GAAoB,CAClDH,EAAcM,EAA4BH,GAC1C,MAEJ,IAAInF,EAAS,IAAIlG,KAAK6L,OAAOR,GACzBa,EAA2BhG,EAAOiG,WAAWJ,WAC7CK,EAA2BlG,EAAO4F,WAAWC,WAEjD,GAAIN,EAA0BvB,IAAIkC,GAA2B,CACzDlB,EAAcM,EAA4BY,GAC1C,MAGJlB,EAAcnB,GAAoB0B,EAA2BS,GAEjE,MAAO,CACHhG,OAAQgF,GAAeF,KF/BnBqB,CAAerC,EAAkBc,EAAkBE,IAEvC9E,OAChBpL,EAAS,CAAEoL,OAAQ,GAAID,WAAYiF,GACnCoB,EAAqB,KAChBzT,EAAK,EAAG0T,EAA0BxB,EAAuBlS,EAAK0T,EAAwBvU,OAAQa,IAAM,CACzG,IAAIgE,EAAM0P,EAAwB1T,GAClCuB,EAAU8Q,KAAepF,EAAY,2BAA6BoF,GAClE,IAAIsB,EAAkB1G,EAAWoF,GACjC9Q,EAAqC,iBAApBoS,GAAoD,OAApBA,EAA0B,eAAiB3P,EAAM,sBAClG,IAAI4P,EAAgBD,EAAgB3P,GACpCzC,EAAUtC,MAAMyH,QAAQkN,GAAgB,qBAAuB5P,EAAM,qBACrE,IAAIvE,EAAQmU,EAAc,GAC1BrS,EAA2B,iBAAV9B,GAAgC,OAAVA,EAAgB,+CAAiDA,EAAQ,WAAauE,GAC7H,IAAI6P,EAA6B,GACjC,GAAIzB,EAAEX,UAAW,CACb,IAAIzK,EAAiBwK,GAAsBY,EAAEX,UAAWzN,QACjCvB,IAAnBuE,IACuB,KAAnBA,GACK4M,EAAc5N,QAAQgB,KAEvB6M,EAA6B,IAAM7P,EAAM,KADzCvE,EAAQuH,KAINA,EAAehB,QAAQ,UAC7BvG,EAAQ,OACRoU,EAA6B,IAAM7P,IAI/C,GAAIA,KAAOuB,EAAS,CAChB,IAAIuO,EAAevO,EAAQvB,GAC3BzC,EAAkC,iBAAjBuS,GAAP,MACCA,EACgB,mDACtBF,EAAc5N,QAAQ8N,IACnBA,IAAiBrU,IACjBA,EAAQqU,EACRD,EAA6B,IAIzC5R,EAAO+B,GAAOvE,EACdgU,GAAsBI,EAE1B,GAAIJ,EAAmBtU,OAAS,EAAG,CAC/B,IAAI4U,EAAe1B,EAAYrM,QAAQ,OACvC,IAAsB,IAAlB+N,EACA1B,GAA4BoB,MAE3B,CACD,IAAIO,EAAe3B,EAAYlN,MAAM,EAAG4O,GACpCE,EAAgB5B,EAAYlN,MAAM4O,EAAc1B,EAAYlT,QAChEkT,EAAc2B,EAAeP,EAAqBQ,EAEtD5B,EAAclL,KAAKC,oBAAoBiL,GAAa,GAGxD,OADApQ,EAAOoL,OAASgF,EACTpQ,EGnEJ,SAASiS,GAAoB5M,EAAIrH,GACpC,IAAIsH,EAAStH,EAAGsH,OAAQC,EAAiBvH,EAAGuH,eACxCC,EAAeH,EAAGI,cAClByM,EAAY,IAAItB,IAIpB,OAHAjT,OAAOM,KAAKqH,GACPjI,KAAI,SAAUsI,GAAK,OAAOA,EAAEF,iBAC5BoL,SAAQ,SAAUlL,GAAK,OAAOuM,EAAUhB,IAAIvL,MAC1CuM,EAAU9C,IAAI5J,IAAiBA,KAAgBD,ECS1D,SAAS4M,GAAiBC,EAAIC,EAAW5R,GAuBrC,OAtBU,MAAN2R,IACAA,EAAKC,QAEM7R,IAAXC,IACIA,EAEI2R,EADc,QAAdC,GAAqC,QAAdA,EAClB,MAGA,OAIT/S,GAAWmB,EAAQ,0BAEf2R,EADc,QAAdC,GAAqC,QAAdA,EAClB,MAGA,QAIVD,EAEX,IAAIE,GAAa,mBAOV,SAASC,GAAyBzH,EAAK7F,EAAS8J,EAAM/Q,GACzD,IAAI+M,EAAmB/M,EAAG+M,iBAAkBmE,EAAmBlR,EAAGkR,iBAAkBlE,EAAahN,EAAGgN,WAAYkF,EAAmBlS,EAAGkS,iBAAkBjF,EAAqBjN,EAAGiN,mBAAoBgF,EAAwBjS,EAAGiS,sBAAuB3K,EAAStH,EAAGsH,OAAQC,EAAiBvH,EAAGuH,eAE1RyK,EAAmBhL,EAAuBC,GAC1C3B,EAAUmL,GAAkBM,EAAM,MAAO,QACzCyD,EAAM7U,OAAOC,OAAO,MACpB6U,EAAU3D,GAAUxL,EAAS,gBAAiB,SAAU,CAAC,SAAU,YAAa,YACpFkP,EAAInC,cAAgBoC,EACpB,IAAIlJ,EAAWuF,GAAUxL,EAAS,WAAY,cAAU9C,OAAWA,GACnE,QAAiBA,IAAb+I,IAA2B+I,GAAWI,KAAKnJ,GAC3C,MAAM,IAAInJ,WAAW,sBAEzB,IAAI8K,EAAgBH,EAAiBD,GACrC0H,EAAIG,GAAKpJ,EACT,IAAIqJ,EAAkB9D,GAAUxL,EAAS,kBAAmB,cAAU9C,OAAWA,GACjF,QAAwBA,IAApBoS,IAAkCN,GAAWI,KAAKE,GAClD,MAAM,IAAIxS,WAAW,8BAEzBoS,EAAIK,GAAKD,EACT,IAAInS,EAASqO,GAAUxL,EAAS,SAAU,eAAW9C,OAAWA,GAC5DyL,EAAY6C,GAAUxL,EAAS,YAAa,SAAU,CAAC,MAAO,MAAO,MAAO,YAAQ9C,QACzEA,IAAXC,IAEAwL,EAAY,MAEhBuG,EAAIJ,GAAKnG,EACT,IAAIkE,EAAIJ,GAAcb,EAAkBc,EAAkBwC,EAAKvC,EAAuBjF,EAAYkF,GAClGhF,EAAcE,OAAS+E,EAAE/E,OACzB7B,EAAW4G,EAAEwC,GACbzH,EAAc3B,SAAWA,EACzB2B,EAAce,UAAYkE,EAAEiC,GAC5BlH,EAAc0H,gBAAkBzC,EAAE0C,GAClC,IAAI1H,EAAagF,EAAEhF,WACnBD,EAAcC,WAAaA,EAC3B,IAAI3B,EAAWlG,EAAQkG,SACvB,QAAiBhJ,IAAbgJ,EAAwB,CAExB,IAAKyI,GADLzI,EAAWhD,OAAOgD,GACiB,CAAElE,OAAQA,EAAQC,eAAgBA,IACjE,MAAM,IAAInF,WAAW,wBAEzBoJ,EAAWpE,EAAyBoE,EAAU,CAAElE,OAAQA,EAAQC,eAAgBA,SAGhFiE,EAAWyB,IAEfC,EAAc1B,SAAWA,GACzBgJ,EAAM7U,OAAOC,OAAO,OAChB2C,QAAUuO,GAAUxL,EAAS,UAAW,SAAU,CAAC,SAAU,QAAS,aAAS9C,GACnFgS,EAAItS,IAAM4O,GAAUxL,EAAS,MAAO,SAAU,CAAC,SAAU,QAAS,aAAS9C,GAC3EgS,EAAIrS,KAAO2O,GAAUxL,EAAS,OAAQ,SAAU,CAAC,UAAW,gBAAY9C,GACxEgS,EAAInS,MAAQyO,GAAUxL,EAAS,QAAS,SAAU,CAAC,UAAW,UAAW,SAAU,QAAS,aAAS9C,GACrGgS,EAAIlS,IAAMwO,GAAUxL,EAAS,MAAO,SAAU,CAAC,UAAW,gBAAY9C,GACtEgS,EAAI9R,KAAOoO,GAAUxL,EAAS,OAAQ,SAAU,CAAC,UAAW,gBAAY9C,GACxEgS,EAAI7R,OAASmO,GAAUxL,EAAS,SAAU,SAAU,CAAC,UAAW,gBAAY9C,GAC5EgS,EAAI5R,OAASkO,GAAUxL,EAAS,SAAU,SAAU,CAAC,UAAW,gBAAY9C,GAC5EgS,EAAI3R,aAAeiO,GAAUxL,EAAS,eAAgB,SAAU,CAAC,QAAS,aAAS9C,GACnF,IAAIyF,EAAiB+E,EAAWG,GAChC7L,IAAY2G,EAAgB,2BAA6BkF,GACzD,IAAI9G,EAAU4B,EAAe5B,QAAQkF,GAErC,IAAKlF,EACD,MAAM,IAAIjE,WAAW,aAAgBmJ,EAAW,qEAA0E5L,OAAOM,KAAKgI,EAAe5B,SAASlH,KAAK,OAEvK,IAAIorB,EAAgBzZ,GAAUxL,EAAS,gBAAiB,SAAU,CAAC,QAAS,YAAa,YACrFyC,EAAY+I,GAAUxL,EAAS,YAAa,SAAU,CAAC,OAAQ,OAAQ,SAAU,cAAU9C,GAC/F0K,EAAcnF,UAAYA,EAC1B,IAEIvB,EAmCAvD,EACAW,EAtCAoE,EAAY8I,GAAUxL,EAAS,YAAa,SAAU,CAAC,OAAQ,OAAQ,SAAU,cAAU9C,GAG/F,GAFA0K,EAAclF,UAAYA,OAERxF,IAAduF,QAAyCvF,IAAdwF,EAC3B,GAAsB,UAAlBuiB,EACA/jB,EAAaqB,EAAmB2M,EAAKnO,OAEpC,CAED,GArHZ,SAAuBmO,GACnB,IAAK,IAAIzU,EAAK,EAAGC,EAAK,CAAC,OAAQ,SAAU,UAAWD,EAAKC,EAAGd,OAAQa,IAGhE,QAAcyC,IADFgS,EADDxU,EAAGD,IAGV,OAAO,EAGf,OAAO,EA6GK+U,CAAcN,GAAM,CACpB,IAAIJ,EAAKD,GAAiBjH,EAAce,UAAWhG,EAAegG,UAAWxL,GAC7E+R,EAAI/R,OAAgB,QAAP2R,GAAuB,QAAPA,EAGjC5N,EAAaJ,EAAqBoO,EAAKnO,OAG1C,CACD,IAAK,IAAItG,EAAK,EAAG0F,EAAoB9D,EAAiB5B,EAAK0F,EAAkBvG,OAAQa,IAAM,CAGvF,QAAUyC,KADNsL,EAAI0G,EADJ9O,EAAOD,EAAkB1F,KAGzB,MAAM,IAAIS,UAAU,wCAA0CkF,EAAO,UAAYqC,EAAY,YAAc,aAAe,YAGlIvB,EAAasB,EAAoBC,EAAWC,EAAWC,GAM3D,IAAK,IAAIvC,KAFTwH,EAAc3H,OAASiB,EAENgO,EAAK,CAClB,IAAI1G,OACMtL,KADNsL,EAAItH,EAAWd,MAEfwH,EAAcxH,GAAQoI,GAK9B,QAA2BtL,IAAvB0K,EAAcxK,KAAoB,CAC9B0R,EAAKD,GAAiBjH,EAAce,UAAWhG,EAAegG,UAAWxL,GAC7EyK,EAAce,UAAYmG,EACf,QAAPA,GAAuB,QAAPA,GAChBnR,EAAUuD,EAAWrD,UACrBS,EAAgB4C,EAAW1C,kBAG3Bb,EAAUuD,EAAWvD,QACrBW,EAAgB4C,EAAW5C,oBAK/BsJ,EAAce,eAAYzL,EAC1BS,EAAUuD,EAAWvD,QACrBW,EAAgB4C,EAAW5C,cAI/B,OAFAsJ,EAAcjK,QAAUA,EACxBiK,EAActJ,cAAgBA,EACvBkJ,EC3KX,IAAIiI,GAAgB,SAIb,SAASC,GAAyBC,GAErC,OAAwB,KADxBA,EAAuBA,EAPZ7R,QAAQ,YAAY,SAAUC,EAAGN,GAAK,OAAOA,EAAE0E,kBAQ7CvI,SAGT6V,GAAcL,KAAKO,GCb3B,IAAIC,GAA8B,yBAC9BC,GAAU,cAOP,SAASC,GAA6BtU,EAAMuU,GAC/C,GAAa,aAATvU,EACA,OAAOkG,EAAuB,CAACqO,IAAO,GAE1C,GAAa,WAATvU,EAAmB,CACnB,GAXuBwU,EAWID,GAVxBH,GAA4BR,KAAKY,GAWhC,MAAMlT,WAAW,kBAErB,OAAOiT,EAAK5N,cAdpB,IAA+B6N,EAGAC,EAa3B,GAAa,WAATzU,EAAmB,CACnB,GAduByU,EAcIF,GAbxBF,GAAQT,KAAKa,GAcZ,MAAMnT,WAAW,kBAErB,MAAO,GAAKiT,EAAK,GAAG5N,cAAgB4N,EAAKnQ,MAAM,GAAGkR,cAGtD,GADA9U,EAAmB,aAATR,EAAqB,iBAC1BkU,GAAyBK,GAC1B,MAAMjT,WAAW,oBAErB,OAAOiT,EAAK5N,cCxBT,SAAS+N,GAAoB9M,EAAKvC,EAAKD,EAAK8K,GAC/C,QAAYxO,IAARkG,EAAmB,CAEnB,GADAA,EAAME,OAAOF,GACTS,MAAMT,IAAQA,EAAMvC,GAAOuC,EAAMxC,EACjC,MAAM,IAAI9D,WAAWsG,EAAM,yBAA2BvC,EAAM,KAAOD,EAAM,KAE7E,OAAO1H,KAAKC,MAAMiK,GAEtB,OAAOsI,ECNJ,SAASyE,GAAgBnQ,EAASoQ,EAAUC,EAASC,EAAS5E,GAEjE,OAAOwE,GADGlQ,EAAQoQ,GACcC,EAASC,EAAS5E,GCR/C,IAAI6E,GAAmB,CAC1B,eACA,YACA,eACA,mBACA,cACA,eACA,kBACA,mBACA,kBACA,mBACA,kBACA,mBACA,mBACA,kBACA,mBACA,eACA,gBACA,uBACA,kBACA,iBACA,kBACA,gBACA,gBACA,oBACA,cACA,cACA,mBACA,eACA,2BACA,cACA,oBACA,cACA,YACA,gBACA,aACA,aACA,aACA,sBACA,yBACA,qBACA,gBACA,eACA,qBAIG,SAASC,GAAoBC,GAChC,OAAOA,EAAK7Q,MAAM6Q,EAAKhQ,QAAQ,KAAO,GAKnC,IAAIiQ,GAAeH,GAAiBxW,IAAIyW,IAIxC,SAASG,GAAiCC,GAC7C,OAAOF,GAAajQ,QAAQmQ,IAAmB,ECjD5C,SAASC,GAA2BJ,GAEvC,GAAIE,GADJF,EAAmBA,EAPR3S,QAAQ,YAAY,SAAUC,EAAGN,GAAK,OAAOA,EAAEqT,kBAStD,OAAO,EAEX,IAAIC,EAAQN,EAAKzR,MAAM,SACvB,GAAqB,IAAjB+R,EAAMnX,OACN,OAAO,EAEX,IAAIoX,EAAYD,EAAM,GAAIE,EAAcF,EAAM,GAC9C,SAAKJ,GAAiCK,KACjCL,GAAiCM,IClBnC,SAASC,GAA4BC,EAAcC,EAAW1W,GACjE,IACIkN,GAAgBH,EADG/M,EAAG+M,kBACW0J,GACjCE,EAAWzJ,EAAcyJ,SAAU1O,EAAiBiF,EAAcjF,eAAgB2M,EAAkB1H,EAAc0H,gBACtH,OAAQ+B,GACJ,IAAK,WACD,OAAO,EACX,IAAK,aACD,OAAOD,EACX,IAAK,cACD,OAAmC,EAA5BlY,KAAKC,MAAMiY,EAAY,GAClC,QAGI,IAAIE,EAAiB1J,EAAc0J,eAAgBtK,EAAQY,EAAcZ,MAAOuK,EAAkB3J,EAAc2J,gBAC5GC,OAAe,EACnB,GAAc,aAAVxK,GAA4C,SAApBuK,EAA4B,CAGpDC,GAFe7O,EAAe8O,QAAQ9B,SAASL,IAC3C3M,EAAe8O,QAAQ9B,SAAShN,EAAe8O,QAAQlC,GAAG,KACtCmC,UAEvB,CACD,IAAIC,EAAUhP,EAAe8O,QAAQE,QAAQrC,IACzC3M,EAAe8O,QAAQE,QAAQhP,EAAe8O,QAAQlC,GAAG,IAC7DiC,EAAkC,SAAnBF,EAA4BK,EAAQC,KAAOD,EAAQD,MAEtE,IAAKF,EACD,OAAO,EAEX,IAAIK,EAAM3O,OAAOhK,KAAK4Y,IAAI,GAAIV,IAC1BW,EAAa1X,OAAOM,KAAK6W,GAC7B,GAAIK,EAAME,EAAW,GACjB,OAAO,EAEX,GAAIF,EAAME,EAAWA,EAAWnY,OAAS,GACrC,OAAOmY,EAAWA,EAAWnY,OAAS,GAAGA,OAAS,EAEtD,IAAID,EAAIoY,EAAWtR,QAAQoR,GAC3B,IAAW,IAAPlY,EACA,OAAO,EAIX,IAAIqY,EAAeD,EAAWpY,GAG9B,MAAuB,MADF6X,EAAaQ,GAAcC,MAErC,EAGHD,EAAapY,OACjB4X,EAAaQ,GAAcC,MAAMxV,MAAM,MAAM,GAAG7C,QCvDzD,SAASsY,GAAejZ,EAAGkZ,EAAcC,GAC5C,IACIlU,EACAsO,EACA6F,EAwCAC,EA3CA9J,EAAI4J,EAIR,GAAU,IAANnZ,EACAiF,EAAI5E,EAAO,IAAKkP,GAChBgE,EAAI,EACJ6F,EAAS,MAER,CACD,IAAIE,EAAYtZ,EAAE0U,WAKd6E,EAAyBD,EAAU9R,QAAQ,KAC3C/F,EAAK6X,EAAUvT,MAAM,KAAMyT,EAAoB/X,EAAG,GAAIgY,EAAoBhY,EAAG,GAC7EiY,EAAuCF,EAAkB3U,QAAQ,IAAK,IAC1E,GAAI0U,GAA0B,GAC1BG,EAAqC/Y,QAAU4O,EAC/CgE,GAAKkG,EACLxU,EACIyU,EACIrZ,EAAO,IAAKkP,EAAImK,EAAqC/Y,QAC7DyY,EAASpZ,MAER,CAED,IAAI2Z,GADJpG,EAAIxT,EAAaC,IACYuP,EAAI,EAG7B7E,EAAIzK,KAAK2Z,MAAMC,EAAmB7Z,EAAG2Z,IAErCE,EAAmBnP,EAAG6E,EAAI,IAAM,KAChCgE,GAAQ,EAER7I,EAAIzK,KAAKC,MAAMwK,EAAI,KAEvBzF,EAAIyF,EAAEgK,WAEN0E,EAASS,EAAmBnP,EAAG6E,EAAI,EAAIgE,IAgB/C,GAZIA,GAAKhE,EAAI,GACTtK,GAAQ5E,EAAO,IAAKkT,EAAIhE,EAAI,GAC5B8J,EAAM9F,EAAI,GAELA,GAAK,GACVtO,EAAIA,EAAE0B,MAAM,EAAG4M,EAAI,GAAK,IAAMtO,EAAE0B,MAAM4M,EAAI,GAC1C8F,EAAM9F,EAAI,IAGVtO,EAAI,KAAO5E,EAAO,KAAMkT,EAAI,GAAKtO,EACjCoU,EAAM,GAENpU,EAAEuC,QAAQ,MAAQ,GAAK2R,EAAeD,EAAc,CAEpD,IADA,IAAIY,EAAMX,EAAeD,EAClBY,EAAM,GAAyB,MAApB7U,EAAEA,EAAEtE,OAAS,IAC3BsE,EAAIA,EAAE0B,MAAM,GAAI,GAChBmT,IAEoB,MAApB7U,EAAEA,EAAEtE,OAAS,KACbsE,EAAIA,EAAE0B,MAAM,GAAI,IAGxB,MAAO,CAAEoT,gBAAiB9U,EAAG+U,cAAeZ,EAAQa,mBAAoBZ,GAExE,SAASQ,EAAmB7Z,EAAGmY,GAC3B,OAAOA,EAAY,EAAInY,EAAIC,KAAK4Y,IAAI,IAAKV,GAAanY,EAAIC,KAAK4Y,IAAI,GAAIV,IC/DxE,SAAS+B,GAAWla,EAAGma,EAAaC,GACvC,IAMInV,EAUAoU,EAhBAjX,EAAIgY,EACJ1P,EAAIzK,KAAK2Z,MAAM5Z,EAAIC,KAAK4Y,IAAI,GAAIzW,IAChCgX,EAAS1O,EAAIzK,KAAK4Y,IAAI,GAAIzW,GAK9B,GAAIsI,EAAI,KACJzF,EAAIyF,EAAEgK,eAEL,CAED,IAAIjT,GADJwD,EAAIyF,EAAEgK,YACK3O,MAAM,KAAMsU,EAAW5Y,EAAG,GAAI6Y,EAAW7Y,EAAG,GACvDwD,EAAIoV,EAASxV,QAAQ,IAAK,IAC1BI,GAAQ5E,EAAO,IAAKJ,KAAK0H,KAAK2S,EAAWrV,EAAEtE,OAAS,EAAG,IAG3D,GAAU,IAANyB,EAAS,CACT,IAAIT,EAAIsD,EAAEtE,OACV,GAAIgB,GAAKS,EAEL6C,EADQ5E,EAAO,IAAK+B,EAAI,EAAIT,GACpBsD,EACRtD,EAAIS,EAAI,EAEZ,IAAImY,EAAItV,EAAE0B,MAAM,EAAGhF,EAAIS,GACnBoY,EAAIvV,EAAE0B,MAAMhF,EAAIS,GACpB6C,EAAIsV,EAAI,IAAMC,EACdnB,EAAMkB,EAAE5Z,YAGR0Y,EAAMpU,EAAEtE,OAGZ,IADA,IAAImZ,EAAMM,EAAcD,EACjBL,EAAM,GAAyB,MAApB7U,EAAEA,EAAEtE,OAAS,IAC3BsE,EAAIA,EAAE0B,MAAM,GAAI,GAChBmT,IAKJ,MAHwB,MAApB7U,EAAEA,EAAEtE,OAAS,KACbsE,EAAIA,EAAE0B,MAAM,GAAI,IAEb,CAAEoT,gBAAiB9U,EAAG+U,cAAeZ,EAAQa,mBAAoBZ,GC1CrE,SAASoB,GAAsBC,EAAY1a,GAC9C,IAIIyD,EAJAkX,EAAa3a,EAAI,GAAK6K,EAAU7K,GAAI,GAMxC,OALI2a,IACA3a,GAAKA,GAGW0a,EAAWE,cAE3B,IAAK,oBACDnX,EAASwV,GAAejZ,EAAG0a,EAAWG,yBAA0BH,EAAWI,0BAC3E,MACJ,IAAK,iBACDrX,EAASyW,GAAWla,EAAG0a,EAAWK,sBAAuBL,EAAWM,uBACpE,MACJ,SACIvX,EAASwV,GAAejZ,EAAG,EAAG,IACnBia,mBAAqB,IAC5BxW,EAASyW,GAAWla,EAAG,EAAG,IAItCA,EAAIyD,EAAOuW,cACX,IAAIiB,EAASxX,EAAOsW,gBAChBV,EAAM5V,EAAOwW,mBACbiB,EAAaR,EAAWvL,qBACxBkK,EAAM6B,IAEND,EADmB5a,EAAO,IAAK6a,EAAa7B,GACpB4B,GAK5B,OAHIN,IACA3a,GAAKA,GAEF,CAAEga,cAAeha,EAAG+Z,gBAAiBkB,GC7BzC,SAASE,GAAgBjD,EAAclY,EAAGyB,GAC7C,IAAI+M,EAAmB/M,EAAG+M,iBAC1B,GAAU,IAANxO,EACA,MAAO,CAAC,EAAG,GAEXA,EAAI,IACJA,GAAKA,GAET,IAAImY,EAAYpY,EAAaC,GACzBsa,EAAWrC,GAA4BC,EAAcC,EAAW,CAChE3J,iBAAkBA,IAGtBxO,EAAIsa,EAAW,EAAIta,EAAIC,KAAK4Y,IAAI,IAAKyB,GAAYta,EAAIC,KAAK4Y,IAAI,GAAIyB,GAClE,IAAIc,EAAqBX,GAAsBjM,EAAiB0J,GAAelY,GAC/E,OAAyC,IAArCob,EAAmBpB,eAGJja,EAAaqb,EAAmBpB,iBAC9B7B,EAAYmC,EAHtB,CAACA,EAAUnC,GAMf,CACHF,GAA4BC,EAAcC,EAAY,EAAG,CACrD3J,iBAAkBA,IAEtB2J,EAAY,GChCb,SAASkD,GAAe7W,EAAG/C,GAC9B,IAAI6Z,EAAqB7Z,EAAG6Z,mBAC5B,OAAOjQ,EAAeiQ,EAAoB9W,GACpC8W,EAAmB9W,GACnB,E,k+GCJN+W,GAAkB,m6EAElBC,GAAwB,IAAIC,OAAO,IAAMF,GAAgBrV,QAEzDwV,GAAyB,IAAID,OAAOF,GAAgBrV,OAAS,KAC7DyV,GAAsB,uBACX,SAASC,GAAcC,EAAcC,EAAM/a,EAAIgG,GAC1D,IAUIgV,EAqBAC,EA/BAC,EAAOJ,EAAaI,KAAM3B,EAAWuB,EAAavB,SAAUnC,EAAY0D,EAAa1D,UACrFC,EAAWrR,EAAQqR,SAAUrK,EAAQhH,EAAQgH,MAAOsI,EAAkBtP,EAAQsP,gBAC9E6F,EAAyBJ,EAAKtD,QAAQlC,GAAG,GAGzC6F,EAAuB,KAM3B,GALiB,YAAb/D,GAA0BD,IAC1BgE,EAwWR,SAAkCN,EAAc9a,EAAI+a,EAAM/N,EAAOsK,EAAgBC,EAAiBjC,GAC9F,IAAI5U,EAIAiD,EAHAsV,EAAgB6B,EAAa7B,cAAeiC,EAAOJ,EAAaI,KAAM9D,EAAY0D,EAAa1D,UAC/FY,EAAe9O,OAAOhK,KAAK4Y,IAAI,GAAIV,IACnC+D,EAAyBJ,EAAKtD,QAAQlC,GAAG,GAE7C,GAAc,aAAVvI,GAA4C,SAApBuK,EAA4B,CACpD,IAII8D,EAAmD,QAA7B3a,IAJtB4a,EAAoBP,EAAKtD,QAAQ9B,UACAL,IACjCgG,EAAkBH,IAEsBzD,aAA0B,IAAPhX,OAAgB,EAASA,EAAGsX,GAC3F,IAAKqD,EACD,OAAO,KAEX1X,EAAU4X,GAAavb,EAAIiZ,EAAeoC,OAEzC,CACD,IAAIC,EAGAE,IAHAF,EAAoBP,EAAKtD,QAAQE,SACIrC,IACrCgG,EAAkBH,IACmB7D,GAAgBU,GACzD,IAAKwD,EACD,OAAO,KAEX7X,EAAU4X,GAAavb,EAAIiZ,EAAeuC,GAK9C,GAAgB,MAAZ7X,EACA,OAAO,KAOX,OALAA,EAAU8X,GAAkB9X,EAASuX,GAEhCpX,QAAQ,oBAAqB,UAE7BA,QAAQ,KAAM,KA7YQ4X,CAAyBZ,EAAc9a,EAAI+a,EAAM/N,EAAOhH,EAAQsR,eAAgBtR,EAAQuR,gBAAiBjC,IAItH,aAAVtI,GAAoD,SAA5BhH,EAAQuR,gBAA4B,CAC5D,IAAIoE,EAAoBZ,EAAKa,WAAW5V,EAAQ2P,UAChD,GAAIgG,EACA,OAAQ3V,EAAQuR,iBACZ,IAAK,OACDyD,EAAsBhV,EAAQ2P,SAC9B,MACJ,IAAK,SACDqF,EAAsBW,EAAkBE,OACxC,MACJ,QACIb,EAAsBW,EAAkBG,YAMhDd,EAAsBhV,EAAQ2P,SAItC,GAAKyF,EAyBDH,EAAgBG,OAtBhB,GAAc,YAAVpO,GACU,SAAVA,GACW,aAAVA,GAAoD,SAA5BhH,EAAQuR,gBAIjC0D,EAAgBQ,IAFEV,EAAKtD,QAAQE,QAAQrC,IACnCyF,EAAKtD,QAAQE,QAAQwD,IACqBY,SAAUb,QAEvD,GAAc,aAAVlO,EAAsB,CAI3BiO,EAAgBQ,IAHZO,EAAejB,EAAKtD,QAAQ9B,SAASL,IACrCyF,EAAKtD,QAAQ9B,SAASwF,IAEqBnV,EAAQiW,cAAef,OAErE,CAIDD,EAAgBQ,GAFKV,EAAKtD,QAAQyE,QAAQ5G,IACtCyF,EAAKtD,QAAQyE,QAAQf,GACyBD,GAQ1D,IAAIiB,EAAuBvB,GAAoBlV,KAAKuV,GAAe,GAQnE,GAJAA,EAAgBA,EACXnX,QAAQ8W,GAAqB,OAC7B9W,QAAQ,SAAU,MAET,aAAVkJ,GAAoD,SAA5BhH,EAAQuR,gBAA4B,CAC5D,IAAIyE,EAcAI,GAdAJ,EAAejB,EAAKtD,QAAQ9B,SAASL,IACrCyF,EAAKtD,QAAQ9B,SAASwF,IAaOkB,gBAAgBC,mBAC7CF,IAAkBzB,GAAuBvF,KAAK4F,KAC9CC,EAAgBA,EAAcnX,QAAQ,OAAQ,IAAWsY,EAAgB,QAE7E,IAAIG,EAAiBP,EAAaK,gBAAgBG,oBAC9CD,IAAmB9B,GAAsBrF,KAAK4F,KAC9CC,EAAgBA,EAAcnX,QAAQ,OAAQ,MAAQyY,EAAiB,MAQ/E,IAJA,IAAIE,EAAqBxB,EAAcjW,MAAM,+BACzC0X,EAAc,GACdC,EAAU5B,EAAKtD,QAAQkF,QAAQrH,IAC/ByF,EAAKtD,QAAQkF,QAAQxB,GAChB1a,EAAK,EAAGmc,EAAuBH,EAAoBhc,EAAKmc,EAAqBhd,OAAQa,IAAM,CAEhG,GADIwQ,EAAO2L,EAAqBnc,GAIhC,OAAQwQ,GACJ,IAAK,MAEDyL,EAAYzY,KAAK4Y,MAAMH,EAAaI,GAAwBH,EAAS7B,EAAczD,EAAUkC,EAAUjE,GAEtG8F,GAAwBpV,EAAQgI,YAAamO,IAC9C,MAEJ,IAAK,IACDO,EAAYzY,KAAK,CAAEzC,KAAM,YAAatB,MAAOyc,EAAQI,YACrD,MACJ,IAAK,IACDL,EAAYzY,KAAK,CAAEzC,KAAM,WAAYtB,MAAOyc,EAAQK,WACpD,MACJ,IAAK,IACDN,EAAYzY,KAAK,CAAEzC,KAAM,cAAetB,MAAOyc,EAAQM,cACvD,MACJ,IAAK,IAEDP,EAAYzY,KAAK,CAAEzC,KAAM,WAAYtB,MAAO8a,IAC5C,MACJ,QACQ,QAAQ5F,KAAKnE,GACbyL,EAAYzY,KAAK,CACbzC,KAAM,UACNtB,MAAO+Q,EAAK9B,UAAU,EAAG8B,EAAKrR,OAAS,KAK3C8c,EAAYzY,KAAK,CAAEzC,KAAM,UAAWtB,MAAO+Q,KAQ3D,OAAQjE,GACJ,IAAK,WAED,GAAgC,SAA5BhH,EAAQuR,gBAA4B,CACpC,IAAI2F,GAAenC,EAAKtD,QAAQ9B,SAASL,IACrCyF,EAAKtD,QAAQ9B,SAASwF,IAAyB+B,YAE/CC,OAAW,EACXC,EAAmBrC,EAAKa,WAAW5V,EAAQ2P,UAE3CwH,EADAC,EACW7B,GAAavb,EAAI8a,EAAa7B,cAAgB/Z,KAAK4Y,IAAI,GAAIyB,GAAW6D,EAAiBC,aAIvFrX,EAAQ2P,SAKvB,IAFA,IACIjT,EAAS,GACJhC,EAAK,EAAG4c,EAFMJ,EAAYlY,MAAM,eAEetE,EAAK4c,EAAmB1d,OAAQc,IAAM,CAE1F,OADIuQ,EAAOqM,EAAmB5c,IAE1B,IAAK,MACDgC,EAAOuB,KAAK4Y,MAAMna,EAAQga,GAC1B,MACJ,IAAK,MACDha,EAAOuB,KAAK,CAAEzC,KAAM,WAAYtB,MAAOid,IACvC,MACJ,QACQlM,GACAvO,EAAOuB,KAAK,CAAEzC,KAAM,UAAWtB,MAAO+Q,KAKtD,OAAOvO,EAGP,OAAOga,EAGf,IAAK,OACD,IAAIjG,EAAOzQ,EAAQyQ,KAAM8G,EAAcvX,EAAQuX,YAC3CC,EAAWzC,EAAKhE,MAAM0G,OAAOhH,GAC7ByG,OAAc,EAClB,GAAIM,EAEAN,EAAc3B,GAAavb,EAAI8a,EAAa7B,cAAgB/Z,KAAK4Y,IAAI,GAAIyB,GAAWwB,EAAKhE,MAAM0G,OAAOhH,GAAM8G,QAE3G,CAID,IAAIjY,EAAKmR,EAAKzR,MAAM,SAAU0Y,EAAgBpY,EAAG,GAAIqY,EAAkBrY,EAAG,GAC1EkY,EAAWzC,EAAKhE,MAAM0G,OAAOC,GAC7B,IAAIE,EAAuBrC,GAAavb,EAAI8a,EAAa7B,cAAgB/Z,KAAK4Y,IAAI,GAAIyB,GAAWwB,EAAKhE,MAAM0G,OAAOC,GAAeH,IAC9HM,EAAiB9C,EAAKhE,MAAM0G,OAAOE,GAAiBG,QAAQP,GAChE,GAAIM,EAEAX,EAAcW,EAAe/Z,QAAQ,MAAO8Z,OAE3C,CAGD,IAAIG,EAAahD,EAAKhE,MAAMiH,SAASC,IAAIV,GACrCW,EAAqB3C,GAAavb,EAAI,EAAG+a,EAAKhE,MAAM0G,OAAOE,GAAiBJ,IAChFL,EAAcA,EAAca,EACvBja,QAAQ,MAAO8Z,GACf9Z,QAAQ,MAAOoa,EAAmBpa,QAAQ,MAAO,MAG1DpB,EAAS,GAEb,IAFA,IAES6N,EAAK,EAAGC,EAAK0M,EAAYlY,MAAM,iBAAkBuL,EAAKC,EAAG5Q,OAAQ2Q,IAAM,CAC5E,IAAIU,EAAOT,EAAGD,GACV4N,EAAmB,oBAAoBzY,KAAKuL,GAC5CkN,GAEIA,EAAiB,IACjBzb,EAAOuB,KAAK,CAAEzC,KAAM,UAAWtB,MAAOie,EAAiB,KAG3Dzb,EAAOuB,KAAK4Y,MAAMna,EAAQga,GAEtByB,EAAiB,IACjBzb,EAAOuB,KAAK,CAAEzC,KAAM,UAAWtB,MAAOie,EAAiB,MAGtDlN,GACLvO,EAAOuB,KAAK,CAAEzC,KAAM,OAAQtB,MAAO+Q,IAG3C,OAAOvO,EAEX,QACI,OAAOga,GAMnB,SAASI,GAAwBH,EAAS7B,EAAczD,EAAUkC,EAAUjE,EAAiBtH,EAQ7FmO,GACI,IAAIzZ,EAAS,GAETiH,EAAImR,EAAa9B,gBAAiB/Z,EAAI6b,EAAa7B,cACvD,GAAIpP,MAAM5K,GACN,MAAO,CAAC,CAAEuC,KAAM,MAAOtB,MAAOyJ,IAE7B,IAAKF,SAASxK,GACf,MAAO,CAAC,CAAEuC,KAAM,WAAYtB,MAAOyJ,IAEvC,IAAIyU,EAAwB,GAAa9I,GACrC8I,IACAzU,EAAIA,EAAE7F,QAAQ,OAAO,SAAUua,GAAS,OAAOD,GAAuBC,IAAUA,MAIpF,IACItU,EACAuU,EAFAC,EAAkB5U,EAAElD,QAAQ,KAgBhC,GAbI8X,EAAkB,GAClBxU,EAAUJ,EAAE/D,MAAM,EAAG2Y,GACrBD,EAAW3U,EAAE/D,MAAM2Y,EAAkB,IAGrCxU,EAAUJ,EAQVqE,IAA6B,YAAbqJ,GAA0BpY,GAAK,KAAQ,CACvD,IAAIuf,EAAiB7B,EAAQ8B,MACzBC,EAAS,GAOTC,EADuBxC,EAAqBnX,MAAM,KAAK,GAClBA,MAAM,KAC3C4Z,EAAsB,EACtBC,EAAwB,EACxBF,EAAc/e,OAAS,IACvBgf,EAAsBD,EAAcA,EAAc/e,OAAS,GAAGA,QAE9D+e,EAAc/e,OAAS,IACvBif,EAAwBF,EAAcA,EAAc/e,OAAS,GAAGA,QAEpE,IAAID,EAAIoK,EAAQnK,OAASgf,EACzB,GAAIjf,EAAI,EAAG,CAKP,IAHA+e,EAAOza,KAAK8F,EAAQnE,MAAMjG,EAAGA,EAAIif,IAG5Bjf,GAAKkf,EAAuBlf,EAAI,EAAGA,GAAKkf,EACzCH,EAAOza,KAAK8F,EAAQnE,MAAMjG,EAAGA,EAAIkf,IAErCH,EAAOza,KAAK8F,EAAQnE,MAAM,EAAGjG,EAAIkf,SAGjCH,EAAOza,KAAK8F,GAEhB,KAAO2U,EAAO9e,OAAS,GAAG,CACtB,IAAIkf,EAAeJ,EAAOK,MAC1Brc,EAAOuB,KAAK,CAAEzC,KAAM,UAAWtB,MAAO4e,IAClCJ,EAAO9e,OAAS,GAChB8C,EAAOuB,KAAK,CAAEzC,KAAM,QAAStB,MAAOse,UAK5C9b,EAAOuB,KAAK,CAAEzC,KAAM,UAAWtB,MAAO6J,IAM1C,QAHiB7G,IAAbob,GACA5b,EAAOuB,KAAK,CAAEzC,KAAM,UAAWtB,MAAOyc,EAAQhF,SAAW,CAAEnW,KAAM,WAAYtB,MAAOoe,KAEtE,eAAbjH,GAA0C,gBAAbA,IAC9B5N,SAASxK,GAAI,CACbyD,EAAOuB,KAAK,CAAEzC,KAAM,oBAAqBtB,MAAOyc,EAAQqC,cACpDzF,EAAW,IACX7W,EAAOuB,KAAK,CAAEzC,KAAM,oBAAqBtB,MAAOyc,EAAQI,YACxDxD,GAAYA,GAEhB,IAAI0F,EAAiB9F,GAAWI,EAAU,EAAG,GAC7C7W,EAAOuB,KAAK,CACRzC,KAAM,kBACNtB,MAAO+e,EAAejG,kBAG9B,OAAOtW,EAEX,SAAS+Y,GAAkB9X,EAASuX,GAC5BvX,EAAQ8C,QAAQ,KAAO,IACvB9C,EAAUA,EAAU,KAAOA,GAE/B,IAAIjD,EAAKiD,EAAQqB,MAAM,KAAMka,EAAcxe,EAAG,GAAI2M,EAAkB3M,EAAG,GACvE,OAAQwa,GACJ,KAAK,EACD,OAAOgE,EACX,KAAM,EACF,OAAO7R,EACX,QACI,OAAOA,EAAgB5G,QAAQ,MAAQ,EACjC4G,EAAgBvJ,QAAQ,KAAM,KAC9B,IAAMob,GAkDxB,SAAS3D,GAAavb,EAAIf,EAAGkgB,GACzB,OAAOA,EAAMnf,EAAGof,OAAOngB,KAAOkgB,EAAMlH,MC5ZjC,SAASoH,GAAuBlI,EAAclY,EAAGyB,GACpD,IAAI4E,EAQAqE,EAsBAuR,EA7BAzN,EAAmB/M,EAAG+M,iBACtBG,EAAgBH,EAAiB0J,GACjCnX,EAAK4N,EAAc5N,GAAI2I,EAAiBiF,EAAcjF,eAAgB2M,EAAkB1H,EAAc0H,gBACtGqH,EAAUhU,EAAe8O,QAAQkF,QAAQrH,IACzC3M,EAAe8O,QAAQkF,QAAQhU,EAAe8O,QAAQlC,GAAG,IACzD6B,EAAY,EACZmC,EAAW,EAEf,GAAI1P,MAAM5K,GACN0K,EAAIgT,EAAQ2C,SAEX,GAAK7V,SAASxK,GAGd,CAC2B,YAAxB2O,EAAcZ,QACd/N,GAAK,KAILsa,GAFJjU,EAAK8U,GAAgBjD,EAAclY,EAAG,CAClCwO,iBAAkBA,KACJ,GAAI2J,EAAY9R,EAAG,GAGrC,IAAI+U,EAAqBX,GAAsB9L,EAD/C3O,EAAIsa,EAAW,EAAIta,EAAIC,KAAK4Y,IAAI,IAAKyB,GAAYta,EAAIC,KAAK4Y,IAAI,GAAIyB,IAElE5P,EAAI0Q,EAAmBrB,gBACvB/Z,EAAIob,EAAmBpB,mBAbvBtP,EAAIgT,EAAQ4C,SAmBhB,OADkB3R,EAAc4R,aAE5B,IAAK,QACDtE,EAAO,EACP,MACJ,IAAK,OAEGA,EADApR,EAAU7K,EAAG,IAAMA,EAAI,GAAK4K,MAAM5K,GAC3B,GAGC,EAEZ,MACJ,IAAK,SAEGic,EADApR,EAAU7K,EAAG,IAAMA,EAAI,GAAK4K,MAAM5K,GAC3B,GAGC,EAEZ,MACJ,QAGQic,EADM,IAANjc,GAAW4K,MAAM5K,GACV,EAEFA,EAAI,EACF,GAGC,EAGpB,OAAO4b,GAAc,CAAE5B,cAAeha,EAAG+Z,gBAAiBrP,EAAG4P,SAAUA,EAAUnC,UAAWA,EAAW8D,KAAMA,GAAQtN,EAAcjF,eAAgB3I,EAAI4N,GCtEpJ,SAAS6R,GAAqBxR,EAAIhP,EAAGoQ,GAGxC,IAFA,IAAI7J,EAAQ6Z,GAAuBpR,EAAIhP,EAAGoQ,GACtC3M,EAAS2H,EAAY,GAChB5J,EAAK,EAAG8O,EAAU/J,EAAO/E,EAAK8O,EAAQ3P,OAAQa,IAAM,CACzD,IAAIwQ,EAAO1B,EAAQ9O,GACnBiC,EAAOuB,KAAK,CACRzC,KAAMyP,EAAKzP,KACXtB,MAAO+Q,EAAK/Q,QAGpB,OAAOwC,ECNJ,SAASgd,GAA2BzR,EAAIjI,EAAStF,QACpC,IAAZsF,IAAsBA,EAAU3F,OAAOC,OAAO,OAClD,IACIsN,GAAgBH,EADG/M,EAAG+M,kBACWQ,GACjCjB,EAAQwE,GAAUxL,EAAS,QAAS,SAAU,CAAC,UAAW,UAAW,WAAY,QAAS,WAC9F4H,EAAcZ,MAAQA,EACtB,IAAI2I,EAAWnE,GAAUxL,EAAS,WAAY,cAAU9C,OAAWA,GACnE,QAAiBA,IAAbyS,IAA2BD,GAAyBC,GACpD,MAAM7S,WAAW,2BAErB,GAAc,aAAVkK,QAAqC9J,IAAbyS,EACxB,MAAMzU,UAAU,gCAEpB,IAAIqW,EAAkB/F,GAAUxL,EAAS,kBAAmB,SAAU,CAAC,OAAQ,SAAU,eAAgB,QAAS,UAC9GiW,EAAezK,GAAUxL,EAAS,eAAgB,SAAU,CAAC,WAAY,cAAe,YACxFyQ,EAAOjF,GAAUxL,EAAS,OAAQ,cAAU9C,OAAWA,GAC3D,QAAaA,IAATuT,IAAuBI,GAA2BJ,GAClD,MAAM3T,WAAW,iDAErB,GAAc,SAAVkK,QAA6B9J,IAATuT,EACpB,MAAMvV,UAAU,4BAEpB,IAAIqc,EAAc/L,GAAUxL,EAAS,cAAe,SAAU,CAAC,QAAS,SAAU,QAAS,SAC7E,aAAVgH,IACAY,EAAc+H,SAAWA,EAASxN,cAClCyF,EAAc2J,gBAAkBA,EAChC3J,EAAcqO,aAAeA,GAEnB,SAAVjP,IACAY,EAAc6I,KAAOA,EACrB7I,EAAc2P,YAAcA,GC/B7B,SAASoC,GAA4B/R,EAAe6D,EAAMmO,EAAaC,EAAaxI,GACvF,IAAIyI,EAAO3J,GAAgB1E,EAAM,uBAAwB,EAAG,GAAI,GAC5DsO,EAAOtO,EAAKuI,sBACZgG,EAAOvO,EAAKwI,sBACZgG,EAAOxO,EAAKqI,yBACZoG,EAAOzO,EAAKsI,yBAEhB,GADAnM,EAAcQ,qBAAuB0R,OACxB5c,IAAT+c,QAA+B/c,IAATgd,EACtBtS,EAAciM,aAAe,oBAC7BoG,EAAO/J,GAAoB+J,EAAM,EAAG,GAAI,GACxCC,EAAOhK,GAAoBgK,EAAMD,EAAM,GAAI,IAC3CrS,EAAckM,yBAA2BmG,EACzCrS,EAAcmM,yBAA2BmG,OAExC,QAAahd,IAAT6c,QAA+B7c,IAAT8c,EAAoB,CAC/CpS,EAAciM,aAAe,iBAC7BkG,EAAO7J,GAAoB6J,EAAM,EAAG,GAAIH,GAExCI,EAAO9J,GAAoB8J,EAAMD,EAAM,GADf7gB,KAAK0H,IAAImZ,EAAMF,IAEvCjS,EAAcoM,sBAAwB+F,EACtCnS,EAAcqM,sBAAwB+F,MAEpB,YAAb3I,EACLzJ,EAAciM,aAAe,mBAG7BjM,EAAciM,aAAe,iBAC7BjM,EAAcoM,sBAAwB4F,EACtChS,EAAcqM,sBAAwB4F,GCtBvC,SAASM,GAAuBlS,EAAItG,EAAS8J,EAAM/Q,GACtD,IAAI+M,EAAmB/M,EAAG+M,iBAAkBC,EAAahN,EAAGgN,WAAYkE,EAAmBlR,EAAGkR,iBAAkBwO,EAAuB1f,EAAG0f,qBAAsBxN,EAAmBlS,EAAGkS,iBAAkB2H,EAAqB7Z,EAAG6Z,mBAE5N7H,EAAmBhL,EAAuBC,GAC1C3B,OAAmB9C,IAATuO,EAAqBpR,OAAOC,OAAO,MAAQ2J,EAASwH,GAC9DyD,EAAM7U,OAAOC,OAAO,MACpB6U,EAAU3D,GAAUxL,EAAS,gBAAiB,SAAU,CAAC,SAAU,YAAa,YACpFkP,EAAInC,cAAgBoC,EACpB,IAAIG,EAAkB9D,GAAUxL,EAAS,kBAAmB,cAAU9C,OAAWA,GACjF,QAAwBA,IAApBoS,GACA8K,EAAqB3Z,QAAQ6O,GAAmB,EAGhD,MAAMxS,WAAW,6BAA+BwS,GAEpDJ,EAAIK,GAAKD,EACT,IAAIzC,EAAIJ,GAAcb,EAAkBc,EAAkBwC,EAE1D,CAAC,MAAOxH,EAAYkF,GAChBjK,EAAiB+E,EAAWmF,EAAEhF,YAClC7L,IAAY2G,EAAgB,2BAA6BkK,EAAEhF,YAC3D,IAAID,EAAgBH,EAAiBQ,GACrCL,EAAcE,OAAS+E,EAAE/E,OACzBF,EAAcC,WAAagF,EAAEhF,WAC7BD,EAAc0H,gBAAkBzC,EAAE0C,GAClC3H,EAAcjF,eAAiBA,EAC/B+W,GAA2BzR,EAAIjI,EAAS,CAAEyH,iBAAkBA,IAC5D,IACImS,EACAC,EAFA7S,EAAQY,EAAcZ,MAG1B,GAAc,aAAVA,EAAsB,CACtB,IACIqT,EAAU/F,GADC1M,EAAc+H,SACU,CAAE4E,mBAAoBA,IAC7DqF,EAAcS,EACdR,EAAcQ,OAGdT,EAAc,EACdC,EAAwB,YAAV7S,EAAsB,EAAI,EAE5C,IAAIqK,EAAW7F,GAAUxL,EAAS,WAAY,SAAU,CAAC,WAAY,aAAc,cAAe,WAAY,YAC9G4H,EAAcyJ,SAAWA,EACzBsI,GAA4B/R,EAAe5H,EAAS4Z,EAAaC,EAAaxI,GAC9E,IAAIC,EAAiB9F,GAAUxL,EAAS,iBAAkB,SAAU,CAAC,QAAS,QAAS,SACtE,YAAbqR,IACAzJ,EAAc0J,eAAiBA,GAEnC,IAAItJ,EAAcwD,GAAUxL,EAAS,cAAe,eAAW9C,GAAW,GAC1E0K,EAAcI,YAAcA,EAC5B,IAAIwR,EAAchO,GAAUxL,EAAS,cAAe,SAAU,CAAC,OAAQ,QAAS,SAAU,cAAe,QAEzG,OADA4H,EAAc4R,YAAcA,EACrBvR,ECxDJ,SAASqS,GAAY/gB,GACxByC,EAAuB,iBAANzC,EAAgB,qDACjC,IAAIoK,EAAIR,EAAS5J,GACjByC,EAAUyH,SAASE,GAAI,sBACvB,IACI4W,EACAlf,EACAqN,EAHA8R,EAAKjhB,EAAEkH,QAAQ,KAIfgI,EAAK,IACG,IAAR+R,GACAD,EAAK5W,EACLtI,EAAI,EACJqN,EAAI,IAGJ6R,EAAKhhB,EAAEqG,MAAM,EAAG4a,GAEhBnf,EAAI8H,EADJsF,EAAKlP,EAAEqG,MAAM4a,EAAIjhB,EAAEK,SAEnB8O,EAAID,EAAG7O,QAEX,IACI6gB,EACA3a,EAFAnG,EAAIT,KAAKwK,IAAIP,EAASoX,IAG1B,GAAU,IAANlf,EAAS,CACT,IAAIqf,EAAKjS,EAAG3K,QAAQ,MAAO,IAC3B2c,EAAIC,EAAG9gB,OACPkG,EAAIqD,EAASuX,QAGbD,EAAI,EACJ3a,EAAI,EAER,MAAO,CACHwD,OAAQK,EACRgX,cAAehhB,EACfihB,uBAAwBlS,EACxBmS,sCAAuCJ,EACvCK,eAAgBzf,EAChB0f,8BAA+Bjb,GCvChC,SAASkb,GAAsBhhB,EAAI2H,EAAS3B,EAAStF,GACxD,IAAIkR,EAAmBlR,EAAGkR,iBAAkBe,EAAwBjS,EAAGiS,sBAAuBjF,EAAahN,EAAGgN,WAAYkF,EAAmBlS,EAAGkS,iBAAkBnF,EAAmB/M,EAAG+M,iBACpLiF,EAAmBhL,EAAuBC,GAC1CuN,EAAM7U,OAAOC,OAAO,MACpBmR,OAAmBvO,IAAZ8C,EAAwB3F,OAAOC,OAAO,MAAQ2J,EAASjE,GAC9D4H,EAAgBH,EAAiBzN,GACrC4N,EAAcqT,wBAAyB,EACvC,IAAI9L,EAAU3D,GAAUC,EAAM,gBAAiB,SAAU,CAAC,WAAY,UAAW,YACjFyD,EAAInC,cAAgBoC,EACpBvH,EAAcpM,KAAOgQ,GAAUC,EAAM,OAAQ,SAAU,CAAC,WAAY,WAAY,YAChFkO,GAA4B/R,EAAe6D,EAAM,EAAG,EAAG,YACvD,IAAIoB,EAAIJ,GAAcb,EAAkBc,EAAkBwC,EAAKvC,EAAuBjF,EAAYkF,GAElG,OADAhF,EAAcE,OAAS+E,EAAE/E,OAClB9N,ECRJ,SAASkhB,GAAclhB,EAAI2J,EAAGjJ,GACjC,IAAI+M,EAAmB/M,EAAG+M,iBAAkB0T,EAAmBzgB,EAAGygB,iBAC9DvT,EAAgBH,EAAiBzN,GAIrC,OAHAgC,EAAkC,WAAxB0I,EAAKkD,GAA6B,0BAC5C5L,EAAU,2BAA4B4L,EAAe,mCACrD5L,EAAsB,WAAZ0I,EAAKf,GAAiB,sBAC3BF,SAASE,GAOPwX,EAJMvT,EAAcE,OAAeF,EAAcpM,KAIlBmI,EADvB2W,GAFL5G,GAAsB9L,EAAejE,GACnCqP,kBAJD,QCXR,SAASoI,GAAyB3K,GAErC,GADAzU,EAAyB,WAAf0I,EAAK+L,GAAoB,yBACtB,YAATA,EACA,MAAO,SACX,GAAa,YAATA,EACA,MAAO,SACX,GAAa,UAATA,EACA,MAAO,OACX,GAAa,SAATA,EACA,MAAO,MACX,GAAa,UAATA,EACA,MAAO,OACX,GAAa,WAATA,EACA,MAAO,QACX,GAAa,aAATA,EACA,MAAO,UACX,GAAa,UAATA,EACA,MAAO,OACX,GAAa,WAATA,GACS,WAATA,GACS,SAATA,GACS,QAATA,GACS,SAATA,GACS,UAATA,GACS,YAATA,GACS,SAATA,EACA,MAAM,IAAI3T,WAAW,gBAEzB,OAAO2T,EChCJ,SAAS4K,GAAc1d,EAAS8S,EAAMjR,GAGzC,IAFA,IACI9C,EAAS,GACJjC,EAAK,EAAG8N,EAFEQ,GAAiBpL,GAEYlD,EAAK8N,EAAe3O,OAAQa,IAAM,CAC9E,IAAIc,EAAcgN,EAAe9N,GACjC,GAAyB,YAArBc,EAAYC,KACZkB,EAAOuB,KAAK,CACRzC,KAAM,UACNtB,MAAOqB,EAAYrB,YAGtB,CACD8B,EAA+B,MAArBT,EAAYC,KAAc,qBAAuBmC,GAC3D,IAAK,IAAIjD,EAAK,EAAG6O,EAAU/J,EAAO9E,EAAK6O,EAAQ3P,OAAQc,IAAM,CACzD,IAAIuQ,EAAO1B,EAAQ7O,GACnBgC,EAAOuB,KAAK,CACRzC,KAAMyP,EAAKzP,KACXtB,MAAO+Q,EAAK/Q,MACZuW,KAAMA,MAKtB,OAAO/T,ECrBJ,SAAS4e,GAA6BC,EAAKrhB,EAAOuW,EAAM/V,GAC3D,IAAI+M,EAAmB/M,EAAG+M,iBAG1B,GAFAzL,EAA0B,WAAhB0I,EAAKxK,GAAqB,4CAA8CA,EAAOgB,WACzFc,EAAyB,WAAf0I,EAAK+L,GAAoB,2CAA6CvW,EAAOgB,WACnF2I,MAAM3J,KAAWuJ,SAASvJ,GAC1B,MAAM,IAAI4C,WAAW,iBAAmB5C,GAE5C,IAAIshB,EAAeJ,GAAyB3K,GACxCnR,EAAKmI,EAAiB8T,GAAMxgB,EAASuE,EAAGvE,OAAQiM,EAAQ1H,EAAG0H,MAAOyU,EAAUnc,EAAGmc,QAASC,EAAcpc,EAAGoc,YAAavK,EAAe7R,EAAG6R,aACxIwK,EAAQH,EACE,UAAVxU,EACA2U,EAAQH,EAAe,SAER,WAAVxU,IACL2U,EAAQH,EAAe,WAErBG,KAAS5gB,IACX4gB,EAAQH,GAEZ,IAAII,EAAW7gB,EAAO4gB,GACtB,GAAgB,SAAZF,GACIzY,EAAS9I,KAAU0hB,EACnB,MAAO,CACH,CACIpgB,KAAM,UACNtB,MAAO0hB,EAAS5Y,EAAS9I,MAKzC,IAAI2hB,EAAK,UACL/X,EAAU5J,GAAQ,IAAMA,EAAQ,KAChC2hB,EAAK,QAET,IAAIC,EAAKF,EAASC,GACdpT,EAA2C,mBAA/B0I,EAAa0D,cACvB1D,EAAa0D,cAAc3b,KAAKwK,IAAIxJ,IAGlC,CACI,CACIsB,KAAM,UACNtB,MAAOiX,EAAalR,OAAO/G,KAAKwK,IAAIxJ,IACpCuW,KAAMA,IAKtB,OAAO4K,GADOS,EADLJ,EAAYtC,OAAOlf,IAEEshB,EAAc/S,GCnDzC,SAASsT,GAAmBR,EAAKrhB,EAAOuW,EAAMpH,GAGjD,IAFA,IACI3M,EAAS,GACJjC,EAAK,EAAG8O,EAFL+R,GAA6BC,EAAKrhB,EAAOuW,EAAMpH,GAEzB5O,EAAK8O,EAAQ3P,OAAQa,IAAM,CAEzDiC,GADW6M,EAAQ9O,GACJP,MAEnB,OAAOwC,ECNJ,SAASsf,GAA0BT,EAAKrhB,EAAOuW,EAAMpH,GAGxD,IAFA,IAAI7J,EAAQ8b,GAA6BC,EAAKrhB,EAAOuW,EAAMpH,GACvD3M,EAAS2H,EAAY,GAChB5J,EAAK,EAAG8O,EAAU/J,EAAO/E,EAAK8O,EAAQ3P,OAAQa,IAAM,CACzD,IAAIwQ,EAAO1B,EAAQ9O,GACfwI,EAAI,CACJzH,KAAMyP,EAAKzP,KACXtB,MAAO+Q,EAAK/Q,OAEZ,SAAU+Q,IACVhI,EAAEwN,KAAOxF,EAAKwF,MAElB/T,EAAOuB,KAAKgF,GAEhB,OAAOvG,ECXX,IAAIuf,GAAyB,oCACtB,SAASC,GAA6BX,EAAK5Z,EAAS3B,EAAStF,GAChE,IAAI+M,EAAmB/M,EAAG+M,iBAAkBmE,EAAmBlR,EAAGkR,iBAAkBe,EAAwBjS,EAAGiS,sBAAuBjF,EAAahN,EAAGgN,WAAYkF,EAAmBlS,EAAGkS,iBACpLhF,EAAgBH,EAAiB8T,GACrC3T,EAAcuU,+BAAgC,EAC9C,IAAIzP,EAAmBhL,EAAuBC,GAC1CuN,EAAM7U,OAAOC,OAAO,MACpBmR,OAAmBvO,IAAZ8C,EAAwB3F,OAAOC,OAAO,MAAQ2J,EAASjE,GAC9DmP,EAAU3D,GAAUC,EAAM,gBAAiB,SAAU,CAAC,WAAY,UAAW,YACjFyD,EAAInC,cAAgBoC,EACpB,IAAIG,EAAkB9D,GAAUC,EAAM,kBAAmB,cAAUvO,OAAWA,GAC9E,QAAwBA,IAApBoS,IACK2M,GAAuB7M,KAAKE,GAC7B,MAAM,IAAIxS,WAAW,4BAA8BwS,GAG3DJ,EAAIK,GAAKD,EACT,IAAIzC,EAAIJ,GAAcb,EAAkBc,EAAkBwC,EAAKvC,EAAuBjF,EAAYkF,GAC9F9E,EAAS+E,EAAE/E,OAAQyH,EAAK1C,EAAE0C,GAC9B3H,EAAcE,OAASA,EACvBF,EAAcZ,MAAQwE,GAAUC,EAAM,QAAS,SAAU,CAAC,OAAQ,SAAU,SAAU,QACtF7D,EAAc6T,QAAUjQ,GAAUC,EAAM,UAAW,SAAU,CAAC,SAAU,QAAS,UACjF,IAAI1Q,EAAS2M,EAAWmF,EAAEhF,YAM1B,OALA7L,IAAYjB,EAAQ,2BAA6B8R,EAAEhF,YACnDD,EAAc7M,OAASA,EACvB6M,EAAcuJ,aAAe,IAAIvP,KAAKsG,aAAavG,GACnDiG,EAAc8T,YAAc,IAAI9Z,KAAKwa,YAAYza,GACjDiG,EAAc0H,gBAAkBC,EACzBgM,EC1BJ,SAASc,GAAuBzQ,EAAkBc,GAErD,IADA,IAAI4P,EAAS,GACJ7hB,EAAK,EAAGuS,EAAqBN,EAAkBjS,EAAKuS,EAAmBpT,OAAQa,IAAM,CAC1F,IAEIyS,EAAkBvB,GAAoBC,EAF7BoB,EAAmBvS,GACDqD,QAAQ/B,EAAkC,KAErEmR,GACAoP,EAAOre,KAAKiP,GAGpB,OAAOoP,ECRJ,SAASC,GAAiB3Q,EAAkBc,EAAkB1M,GAMjE,YAJgB9C,IAAZ8C,GAEUwL,GADVxL,EAAUiE,EAASjE,GACU,gBAAiB,SAAU,CAAC,SAAU,YAAa,YAGzEqc,GAAuBzQ,EAAkBc,ICfZ,SAAU+P,GAElD,SAASC,IACL,IAAIC,EAAmB,OAAXF,GAAmBA,EAAO5F,MAAM+F,KAAM5hB,YAAc4hB,KAEhE,OADAD,EAAMnhB,KAAO,sBACNmhB,GAJX,IAAAE,WAAUH,EAAwBD,GADK,CAQzCrgB,OACK,SAAS0gB,GAAyBtQ,GACrC,MAAkB,wBAAXA,EAAEhR,O,0BCVbnB,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD,IACIgrB,EADU,EAAQ,MACLC,gBAAgB,EAAQ,OACjB,EAAQ,MACVC,kBAClB/qB,OAAOoB,eAAemG,KAAM,aAAc,CACtC1H,MAAOgrB,EAAG7lB,QACVvD,UAAU,EACVD,YAAY,EACZD,cAAc,K,0BCTtBvB,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD6iB,EAAQqI,oBAAiB,EAIzBrI,EAAQqI,eAHR,WACI,MAAuB,oBAATxjB,QAA0B,eAAgBA,Q,0BCD5DvH,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD,IAAIgpB,EAAkB,IAAImB,QAS1BtH,EAAQ1d,QARR,SAA0BpG,GACtB,IAAI2O,EAAgBsb,EAAgB/oB,IAAIlB,GAKxC,OAJK2O,IACDA,EAAgBvN,OAAOC,OAAO,MAC9B4oB,EAAgB9oB,IAAInB,EAAG2O,IAEpBA,I,4BCVXvN,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD6iB,EAAQtP,YAAS,EACjB,IAAI6P,EAAU,EAAQ,MAClBkF,EAAqB,EAAQ,MAC7B6C,EAA6B,EAAQ,MACrCC,EAAoBhI,EAAQc,aAAa,EAAQ,OACjDmH,EAAuBjI,EAAQ6H,gBAAgB,EAAQ,OACvDhH,EAAgBmH,EAAkBlF,aAAajC,cAC/CqH,EAA0B,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MACzDC,EAAqB,oCAiFzB,SAASC,EAAuBjG,EAAMxP,EAAQD,EAAQoP,EAAUuG,GAE5D,YADiB,IAAbvG,IAAuBA,EAAW,IACjCuG,EAQE,CACHlG,KAAOA,GAAiB,QAATA,EAAoCA,EAAnBkG,EAAYlG,KAC5CxP,OAAQA,GAAU0V,EAAY1V,OAC9BD,OAAQA,GAAU2V,EAAY3V,OAC9BoP,SAAU9B,EAAQ0B,eAAeI,EAAUuG,EAAYvG,WAXhD,CACHK,KAAMA,GAAQ,MACdxP,OAAQA,EACRD,OAAQA,EACRoP,SAAUA,GAUtB,SAASwG,EAAiB1D,GACtB,IAAI2D,EAAMR,EAA2BhI,qBAAqB6E,GACtD4D,EAAgBD,EAAIpG,KACpBA,EAAOqG,EAAcrG,KAAMxP,EAAS6V,EAAc7V,OAAQD,EAAS8V,EAAc9V,OAAQoP,EAAW0G,EAAc1G,SACtH,GAAInP,GAAUD,EAAQ,CAClB,IAAI+V,EAAU5H,EAAckH,EAA2B7F,sBAAsB,CAAEC,KAAMA,EAAMxP,OAAQA,EAAQD,OAAQA,EAAQoP,SAAU,MACrI,GAAI2G,EAAS,CACT,IAAIxc,EAAU8b,EAA2BjI,uBAAuB2I,GAEhE,OADAF,EAAIpG,KAAOiG,OAAuBxoB,OAAWA,OAAWA,EAAWkiB,EAAU7V,GACtE8b,EAA2BxH,oBAAoBgI,IAG9D,GAAI5V,EAAQ,CACR,IAAI+V,EAAU7H,EAAckH,EAA2B7F,sBAAsB,CAAEC,KAAMA,EAAMxP,OAAQA,EAAQmP,SAAU,MACrH,GAAI4G,EAAS,CACT,IAAInC,EAAUwB,EAA2BjI,uBAAuB4I,GAEhE,OADAH,EAAIpG,KAAOiG,OAAuBxoB,OAAWA,EAAW8S,EAAQoP,EAAUyE,GACnEwB,EAA2BxH,oBAAoBgI,IAG9D,GAAI7V,EAAQ,CACR,IAAIiW,EAAU9H,EAAckH,EAA2B7F,sBAAsB,CAAEC,KAAMA,EAAMzP,OAAQA,EAAQoP,SAAU,MACrH,GAAI6G,EAAS,CACT,IAAIC,EAAUb,EAA2BjI,uBAAuB6I,GAEhE,OADAJ,EAAIpG,KAAOiG,OAAuBxoB,EAAW+S,OAAQ/S,EAAWkiB,EAAU8G,GACnEb,EAA2BxH,oBAAoBgI,IAG9D,IAAIppB,EAAQ0hB,EAAcsB,IACtBtB,EAAckH,EAA2B7F,sBAAsB,CAAEC,KAAM,MAAOxP,OAAQA,EAAQmP,SAAU,MAC5G,IAAK3iB,EACD,MAAM,IAAIL,MAAM,iCAEpB,IAAIoD,EAAQ6lB,EAA2BjI,uBAAuB3gB,GAE9D,OADAopB,EAAIpG,KAAOiG,OAAuBxoB,EAAW+S,EAAQD,EAAQoP,EAAU5f,GAChE6lB,EAA2BxH,oBAAoBgI,GAgC1D,IAAIpY,EAAwB,WACxB,SAASA,EAAOyU,EAAKzW,GAIjB,KADgBmR,MAAQA,gBAAgBnP,EAASmP,KAAK2G,iBAAc,GAEhE,MAAM,IAAIroB,UAAU,yCAExB,IAqBI0M,EAUA5H,EA/BA2M,EAAwBc,EAAOd,sBAC/BwZ,EAAoB,CACpB,oBACA,SACA,WACA,YACA,YACA,mBAQJ,GANIxZ,EAAsBlM,QAAQ,OAAS,GACvC0lB,EAAkBloB,KAAK,aAEvB0O,EAAsBlM,QAAQ,OAAS,GACvC0lB,EAAkBloB,KAAK,gBAEff,IAARglB,EACA,MAAM,IAAIhnB,UAAU,uEAExB,GAAmB,iBAARgnB,GAAmC,iBAARA,EAClC,MAAM,IAAIhnB,UAAU,kCAMpBgnB,EAHe,iBAARA,IACNta,EAAgB2d,EAAqBlmB,QAAQ6iB,KAC9Cta,EAAcwe,kBACRxe,EAAcE,OAGdoa,EAAIvU,WAEd/F,EAAgB2d,EAAqBlmB,QAAQud,MAQ7CsF,EAlNR,SAA2BA,EAAKliB,GAC5BwiB,EAAmBxmB,UAAyB,iBAARkmB,EAAkB,iCACtDM,EAAmBxmB,UAAUqpB,EAA2BlI,+BAA+B+E,GAAM,yBAA0BplB,YACvH,IAAIupB,EAAW7D,EAAmBhX,UAAUxL,EAAS,WAAY,cAAU9C,OAAWA,QACrEA,IAAbmpB,GACA7D,EAAmBxmB,UAAUqpB,EAA2BrI,wBAAwBqJ,GAAW,oCAAqCvpB,YAEpI,IAAImT,EAASuS,EAAmBhX,UAAUxL,EAAS,SAAU,cAAU9C,OAAWA,QACnEA,IAAX+S,GACAuS,EAAmBxmB,UAAUqpB,EAA2BpI,sBAAsBhN,GAAS,kCAAmCnT,YAE9H,IAAIkT,EAASwS,EAAmBhX,UAAUxL,EAAS,SAAU,cAAU9C,OAAWA,QACnEA,IAAX8S,GACAwS,EAAmBxmB,UAAUqpB,EAA2BnI,sBAAsBlN,GAAS,kCAAmClT,YAE9H,IAAIwpB,EAAajB,EAA2BjI,uBAAuB8E,GAUnE,YATiBhlB,IAAbmpB,IACAC,EAAW7G,KAAO4G,QAEPnpB,IAAX+S,IACAqW,EAAWrW,OAASA,QAET/S,IAAX8S,IACAsW,EAAWtW,OAASA,GAEjBpO,KAAKC,oBAAoBwjB,EAA2BxH,oBAAoBP,EAAQxe,SAASwe,EAAQxe,SAAS,GAAIumB,EAA2BhI,qBAAqB6E,IAAO,CAAEzC,KAAM6G,MAAgB,GAyL1LC,CAAkBrE,EALpBliB,OADS9C,IAATuO,EACUpR,OAAOC,OAAO,MAGdkoB,EAAmBve,SAASwH,IAG1C,IAAIyD,EAAM7U,OAAOC,OAAO,MACpB2L,EAAWuc,EAAmBhX,UAAUxL,EAAS,WAAY,cAAU9C,OAAWA,GACtF,QAAiBA,IAAb+I,IACKwf,EAAmBrW,KAAKnJ,GACzB,MAAM,IAAInJ,WAAW,oBAG7BoS,EAAIG,GAAKpJ,EACT,IAAIugB,EAAYhE,EAAmBhX,UAAUxL,EAAS,YAAa,cAAU9C,OAAWA,GACxF,QAAkBA,IAAdspB,IACKf,EAAmBrW,KAAKoX,GACzB,MAAM,IAAI1pB,WAAW,qBAG7BoS,EAAIuX,GAAKD,EACT,IAAI1X,EAAK0T,EAAmBhX,UAAUxL,EAAS,YAAa,SAAU,CAAC,MAAO,MAAO,MAAO,YAAQ9C,GACpGgS,EAAIJ,GAAKA,EACT,IAAI4X,EAAKlE,EAAmBhX,UAAUxL,EAAS,YAAa,SAAU,CAAC,QAAS,QAAS,cAAU9C,GACnGgS,EAAIwX,GAAKA,EACT,IACIC,EADAC,EAAMpE,EAAmBhX,UAAUxL,EAAS,UAAW,eAAW9C,OAAWA,QAErEA,IAAR0pB,IACAD,EAAKzjB,OAAO0jB,IAEhB1X,EAAIyX,GAAKA,EACT,IAAIrX,EAAkBkT,EAAmBhX,UAAUxL,EAAS,kBAAmB,cAAU9C,OAAWA,GACpG,QAAwBA,IAApBoS,IACKmW,EAAmBrW,KAAKE,GACzB,MAAM,IAAIxS,WAAW,2BAG7BoS,EAAIK,GAAKD,EACT,IAAIzC,EAxNZ,SAAoCqV,EAAKliB,EAAS2M,GAI9C,IAHA,IAAIwV,EACAxB,EAAW,GACXkF,EAAMR,EAA2BhI,qBAAqB6E,GACjDznB,EAAK,EAAGC,EAAKmrB,EAAInF,WAAYjmB,EAAKC,EAAGd,OAAQa,IAAM,CACxD,IAAIwmB,EAAMvmB,EAAGD,GACI,MAAbwmB,EAAIzlB,OACJ2mB,EAAmBlB,EACfvnB,MAAMyH,QAAQ8f,EAAIN,YAClBA,EAAWM,EAAIN,WAI3B,IADA,IAAIjkB,EAASrC,OAAOC,OAAO,MAClBgF,EAAK,EAAG6O,EAA0BxB,EAAuBrN,EAAK6O,EAAwBvU,OAAQ0F,IAAM,CAGzG,IAFA,IAAIb,EAAM0P,EAAwB7O,GAC9BpF,OAAQ,EAAQyhB,OAAQ,EACnBpR,EAAK,EAAGsc,EAAalG,EAAUpW,EAAKsc,EAAWjtB,OAAQ2Q,IAAM,CAClE,IAAIqX,EAAUiF,EAAWtc,GACrBqX,EAAQ,KAAOnjB,IAEfvE,GADAyhB,EAAQiG,GACM,IAGtBY,EAAmBxmB,UAAUyC,KAAOuB,EAASvB,EAAM,uBACnD,IAAI8P,EAAevO,EAAQvB,QACNvB,IAAjBqR,IACAiU,EAAmBxmB,UAAkC,iBAAjBuS,EAA2B,aAAe9P,EAAM,qBACpFvE,EAAQqU,EACJoN,EACAA,EAAM,GAAKzhB,EAGXymB,EAAS1iB,KAAK,CAACQ,EAAKvE,KAG5BwC,EAAO+B,GAAOvE,EAgBlB,OAdKioB,EAUDA,EAAiBxB,SAAWA,EATxBA,EAAS/mB,QACTisB,EAAInF,WAAWziB,KAAK,CAChBzC,KAAM,IACNmlB,SAAUA,EACVC,WAAY,KAOxBlkB,EAAOoL,OAASlG,KACXC,oBAAoBwjB,EAA2BxH,oBAAoBgI,IAAM,GACvEnpB,EAqKKoqB,CAA2B5E,EAAKhT,EAAKvC,GAC7C/E,EAAcE,OAAS+E,EAAE/E,OACzBF,EAAc3B,SAAW4G,EAAEwC,GAC3BzH,EAAc4e,UAAY3Z,EAAE4Z,GAC5B7e,EAAce,UAAYkE,EAAEiC,GACxBnC,EAAsBlM,QAAQ,OAAS,IACvCmH,EAAcmf,UAAYla,EAAE6Z,IAE5B/Z,EAAsBlM,QAAQ,OAAS,IACvCmH,EAAc6T,QAAU+G,EAAmB1e,UAAU+I,EAAE8Z,GAAI,SAE/D/e,EAAc0H,gBAAkBzC,EAAE0C,GAmHtC,OA9GA9B,EAAOlJ,UAAUwJ,SAAW,WACxB,IAAIjG,EAASyd,EAAqBlmB,QAAQud,MAAM9U,OAChD,IAEI,OAAO,IAAI2F,EADWmY,EAAiB9d,IAG3C,MAAO0E,GACH,OAAO,IAAIiB,EAAO3F,KAM1B2F,EAAOlJ,UAAUmJ,SAAW,WACxB,IAAI5F,EAASyd,EAAqBlmB,QAAQud,MAAM9U,OAChD,IAEI,OAAO,IAAI2F,EA1IvB,SAA6ByU,GACzB,IAAI8E,EAAYpB,EAAiB1D,GACjC,IAAK8E,EACD,OAAO9E,EAEX8E,EAAY3B,EAA2B7F,sBAAsBlC,EAAQxe,SAASwe,EAAQxe,SAAS,GAAIumB,EAA2BjI,uBAAuB4J,IAAa,CAAE5H,SAAU,MAC9K,IAAIyG,EAAMR,EAA2BhI,qBAAqB6E,GACtDxnB,EAAKmrB,EAAIpG,KAAMA,EAAO/kB,EAAG+kB,KAAMxP,EAASvV,EAAGuV,OAAQD,EAAStV,EAAGsV,OAAQoP,EAAW1kB,EAAG0kB,SAEzF,OADYwG,EAAiBP,EAA2B7F,sBAAsB,CAAEC,KAAMA,EAAML,SAAU,QACxF4H,EACH3B,EAA2BxH,oBAAoBP,EAAQxe,SAASwe,EAAQxe,SAAS,GAAI+mB,GAAM,CAAEpG,KAAMiG,EAAuBjG,OAAMviB,OAAWA,EAAWkiB,MAE7JpP,GACc4V,EAAiBP,EAA2B7F,sBAAsB,CAAEC,KAAMA,EAAMzP,OAAQA,EAAQoP,SAAU,QACxG4H,EACL3B,EAA2BxH,oBAAoBP,EAAQxe,SAASwe,EAAQxe,SAAS,GAAI+mB,GAAM,CAAEpG,KAAMiG,EAAuBjG,OAAMviB,EAAW8S,EAAQoP,MAG9JnP,GACc2V,EAAiBP,EAA2B7F,sBAAsB,CAAEC,KAAMA,EAAMxP,OAAQA,EAAQmP,SAAU,QACxG4H,EACL3B,EAA2BxH,oBAAoBP,EAAQxe,SAASwe,EAAQxe,SAAS,GAAI+mB,GAAM,CAAEpG,KAAMiG,EAAuBjG,EAAMxP,OAAQ/S,EAAWkiB,MAG3J8C,EAiHuB+E,CAAoBnf,IAG9C,MAAO0E,GACH,OAAO,IAAIiB,EAAO3F,KAG1B2F,EAAOlJ,UAAUoJ,SAAW,WACxB,OAAO4X,EAAqBlmB,QAAQud,MAAM9U,QAE9CzN,OAAOoB,eAAegS,EAAOlJ,UAAW,WAAY,CAChDpK,IAAK,WACD,IAAI2N,EAASyd,EAAqBlmB,QAAQud,MAAM9U,OAChD,OAAOud,EAA2B7F,sBAAsB6F,EAA2BjI,uBAAuBtV,KAE9GjM,YAAY,EACZD,cAAc,IAElBvB,OAAOoB,eAAegS,EAAOlJ,UAAW,WAAY,CAChDpK,IAAK,WACD,OAAOorB,EAAqBlmB,QAAQud,MAAM3W,UAE9CpK,YAAY,EACZD,cAAc,IAElBvB,OAAOoB,eAAegS,EAAOlJ,UAAW,YAAa,CACjDpK,IAAK,WACD,OAAOorB,EAAqBlmB,QAAQud,MAAM4J,WAE9C3qB,YAAY,EACZD,cAAc,IAElBvB,OAAOoB,eAAegS,EAAOlJ,UAAW,YAAa,CACjDpK,IAAK,WACD,OAAOorB,EAAqBlmB,QAAQud,MAAMjU,WAE9C9M,YAAY,EACZD,cAAc,IAElBvB,OAAOoB,eAAegS,EAAOlJ,UAAW,YAAa,CACjDpK,IAAK,WACD,OAAOorB,EAAqBlmB,QAAQud,MAAMmK,WAE9ClrB,YAAY,EACZD,cAAc,IAElBvB,OAAOoB,eAAegS,EAAOlJ,UAAW,UAAW,CAC/CpK,IAAK,WACD,OAAOorB,EAAqBlmB,QAAQud,MAAMnB,SAE9C5f,YAAY,EACZD,cAAc,IAElBvB,OAAOoB,eAAegS,EAAOlJ,UAAW,kBAAmB,CACvDpK,IAAK,WACD,OAAOorB,EAAqBlmB,QAAQud,MAAMtN,iBAE9CzT,YAAY,EACZD,cAAc,IAElBvB,OAAOoB,eAAegS,EAAOlJ,UAAW,WAAY,CAIhDpK,IAAK,WACD,IAAI2N,EAASyd,EAAqBlmB,QAAQud,MAAM9U,OAChD,OAAOud,EAA2BjI,uBAAuBtV,GAAQ2X,MAErE5jB,YAAY,EACZD,cAAc,IAElBvB,OAAOoB,eAAegS,EAAOlJ,UAAW,SAAU,CAI9CpK,IAAK,WACD,IAAI2N,EAASyd,EAAqBlmB,QAAQud,MAAM9U,OAChD,OAAOud,EAA2BjI,uBAAuBtV,GAAQmI,QAErEpU,YAAY,EACZD,cAAc,IAElBvB,OAAOoB,eAAegS,EAAOlJ,UAAW,SAAU,CAI9CpK,IAAK,WACD,IAAI2N,EAASyd,EAAqBlmB,QAAQud,MAAM9U,OAChD,OAAOud,EAA2BjI,uBAAuBtV,GAAQkI,QAErEnU,YAAY,EACZD,cAAc,IAElB6R,EAAOd,sBAAwB6Y,EACxB/X,EA7MgB,GA+M3BsP,EAAQtP,OAASA,EACjB,IAC0B,oBAAX6W,QACPjqB,OAAOoB,eAAegS,EAAOlJ,UAAW+f,OAAOC,YAAa,CACxDrqB,MAAO,cACP4B,UAAU,EACVD,YAAY,EACZD,cAAc,IAGtBvB,OAAOoB,eAAegS,EAAOlJ,UAAUgf,YAAa,SAAU,CAC1DrpB,MAAO,EACP4B,UAAU,EACVD,YAAY,EACZD,cAAc,IAGtB,MAAO4Q,IAGPuQ,EAAQ1d,QAAUoO,G,4BCjZlBpT,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD,IAAIgrB,EAAK,EAAQ,MACO,EAAQ,MACVE,kBAClB/qB,OAAOoB,eAAemG,KAAM,SAAU,CAClC1H,MAAOgrB,EAAGzX,OACV3R,UAAU,EACVD,YAAY,EACZD,cAAc,K,0BCRtBvB,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD6iB,EAAQqI,oBAAiB,EAiBzBrI,EAAQqI,eALR,WACI,MAAwB,oBAATxjB,QACT,WAAYA,OAVtB,WACI,IACI,MAAuD,cAAhD,IAAIA,KAAK6L,OAAO,iBAAiBE,WAE5C,MAAOnB,GACH,OAAO,GAMP0a,K,0BChBR7sB,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD,IAAIgpB,EAAkB,IAAImB,QAS1BtH,EAAQ1d,QARR,SAA0BpG,GACtB,IAAI2O,EAAgBsb,EAAgB/oB,IAAIlB,GAKxC,OAJK2O,IACDA,EAAgBvN,OAAOC,OAAO,MAC9B4oB,EAAgB9oB,IAAInB,EAAG2O,IAEpBA,I,4BCRXvN,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD6iB,EAAQX,iBAAc,EACtB,IAAIkB,EAAU,EAAQ,MAClBkF,EAAqB,EAAQ,MAC7B+C,EAAuBjI,EAAQ6H,gBAAgB,EAAQ,OAC3D,SAAS1C,EAAiBC,EAAUC,GAChC,KAAMD,aAAoBtG,GACtB,MAAM,IAAIlhB,UAAU,qCAAuCynB,EAAS,oCAAsCzf,OAAOwf,IAUzH,SAASvH,EAAiBrT,EAAQtM,EAAM2rB,EAAIzsB,GACxC,IAAIigB,EAAgBjgB,EAAGigB,cAAeC,EAAyBlgB,EAAGkgB,uBAAwBE,EAAiBpgB,EAAGogB,eAC9G,OAAOsB,EAAY1U,WAAWI,GAAQsf,GAAGxM,EACnCD,EAAgB,IAAMG,EACtBH,EAAwB,YAATnf,GAEzB,IAAI4gB,EAA6B,WAC7B,SAASA,EAAYza,EAAS3B,GAI1B,KADgB4c,MAAQA,gBAAgBR,EAAcQ,KAAK2G,iBAAc,GAErE,MAAM,IAAIroB,UAAU,8CAExB,OAAOsnB,EAAmBxH,sBAAsB4B,KAAMjb,EAAS3B,EAAS,CACpE4L,iBAAkBwQ,EAAYxQ,iBAC9Be,sBAAuByP,EAAYzP,sBACnCjF,WAAY0U,EAAY1U,WACxBkF,iBAAkBwP,EAAYxP,iBAC9BnF,iBAAkB8d,EAAqBlmB,UA0D/C,OAvDA+c,EAAY7X,UAAUuf,gBAAkB,WACpCrB,EAAiB7F,KAAM,mBACvB,IAAInR,EAAOpR,OAAOC,OAAO,MACrBsN,EAAgB2d,EAAqBlmB,QAAQud,MAgBjD,OAfAnR,EAAK3D,OAASF,EAAcE,OAC5B2D,EAAKjQ,KAAOoM,EAAcpM,KAC1B,CACI,uBACA,wBACA,wBACA,2BACA,4BACF+R,SAAQ,SAAUtT,GAChB,IAAImJ,EAAMwE,EAAc3N,QACZiD,IAARkG,IACAqI,EAAKxR,GAASmJ,MAGtBqI,EAAK4b,iBAAmB/J,EAAQ0B,eAAe5C,EAAY1U,WAAW+D,EAAK3D,QAAQwf,WAAW7b,EAAKjQ,OAC5FiQ,GAEX2Q,EAAY7X,UAAU6U,OAAS,SAAUhW,GAErCqf,EADS7F,KACY,UACrB,IAAIjZ,EAAI6e,EAAmBrf,SAASC,GACpC,OAAOof,EAAmBtH,cAHjB0B,KAGmCjZ,EAAG,CAAE8D,iBAAkB8d,EAAqBlmB,QAAS8b,iBAAkBA,KAEvHiB,EAAY7X,UAAUoJ,SAAW,WAC7B,MAAO,6BAEXyO,EAAY2H,mBAAqB,SAAUpiB,EAAS3B,GAChD,OAAOwiB,EAAmBjG,iBAAiBH,EAAYxQ,iBAAkB4W,EAAmB9gB,uBAAuBC,GAAU3B,IAEjIoc,EAAY4H,gBAAkB,WAE1B,IADA,IAAIjP,EAAO,GACFta,EAAK,EAAGA,EAAKO,UAAUpB,OAAQa,IACpCsa,EAAKta,GAAMO,UAAUP,GAEzB,IAAK,IAAIC,EAAK,EAAGupB,EAASlP,EAAMra,EAAKupB,EAAOrqB,OAAQc,IAAM,CACtD,IAAI4E,EAAK2kB,EAAOvpB,GAAKwpB,EAAI5kB,EAAGyV,KAAMjN,EAASxI,EAAGwI,OAC9CsU,EAAY1U,WAAWI,GAAUoc,EACjC9H,EAAYxQ,iBAAiBgC,IAAI9F,GAC5BsU,EAAY+H,kBACb/H,EAAY+H,gBAAkBrc,KAI1CsU,EAAYxP,iBAAmB,WAC3B,OAAOwP,EAAY+H,iBAEvB/H,EAAY1U,WAAa,GACzB0U,EAAYxQ,iBAAmB,IAAI0B,IACnC8O,EAAY+H,gBAAkB,GAC9B/H,EAAYzP,sBAAwB,GACpCyP,EAAYgI,YAAa,EAClBhI,EAvEqB,GAyEhCW,EAAQX,YAAcA,EACtB,IAE0B,oBAAXkI,QACPjqB,OAAOoB,eAAe2gB,EAAY7X,UAAW+f,OAAOC,YAAa,CAC7DrqB,MAAO,mBACP4B,UAAU,EACVD,YAAY,EACZD,cAAc,IAGtB,IAEIvB,OAAOoB,eAAe2gB,EAAa,SAAU,CACzCliB,MAAO,EACP4B,UAAU,EACVD,YAAY,EACZD,cAAc,IAGtB,MAAO2rB,IAKPltB,OAAOoB,eAAe2gB,EAAY7X,UAAUgf,YAAa,SAAU,CAC/DrpB,MAAO,EACP4B,UAAU,EACVD,YAAY,EACZD,cAAc,IAGlBvB,OAAOoB,eAAe2gB,EAAY2H,mBAAoB,SAAU,CAC5D7pB,MAAO,EACP4B,UAAU,EACVD,YAAY,EACZD,cAAc,IAGtB,MAAO4rB,M,UCtIH5lB,KAAKwa,aAA2D,mBAArCxa,KAAKwa,YAAY4H,iBAC9CpiB,KAAKwa,YAAY4H,gBAAgB,CAAC,KAAO,CAAC,WAAa,CAAC,SAAW,CAAC,MAAM,SAAS,QAAU,CAAC,MAAM,MAAM,MAAM,UAAU,GAAK,SAASrgB,EAAG8jB,GAC3I,IAAIluB,EAAI2J,OAAOS,GAAG3E,MAAM,KAAM0oB,GAAMnuB,EAAE,GAAIouB,EAAKrkB,OAAO/J,EAAE,KAAOoK,EAAGikB,EAAMD,GAAMpuB,EAAE,GAAGqG,OAAO,GAAIioB,EAAOF,GAAMpuB,EAAE,GAAGqG,OAAO,GACvH,OAAI6nB,EAAmB,GAAPG,GAAoB,IAARC,EAAa,MAC9B,GAAPD,GAAoB,IAARC,EAAa,MAClB,GAAPD,GAAoB,IAARC,EAAa,MACzB,QACQ,GAALlkB,GAAU+jB,EAAK,MAAQ,UAC7B,OAAS,Q,4BCTZrtB,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD,IAAIgrB,EAAK,EAAQ,MACO,EAAQ,MACVE,kBAClB/qB,OAAOoB,eAAemG,KAAM,cAAe,CACvC1H,MAAOgrB,EAAG9I,YACVtgB,UAAU,EACVD,YAAY,EACZD,cAAc,K,0BCRtBvB,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD6iB,EAAQqI,oBAAiB,EAOzBrI,EAAQqI,eANR,WACI,MAAwB,oBAATxjB,QACT,gBAAiBA,OAEf,QADJ,IAAIA,KAAKwa,YAAY,KAAM,CAAEpI,sBAAuB,IAAKoF,OAAO,K,0BCHxE/e,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD,IAAIgpB,EAAkB,IAAImB,QAS1BtH,EAAQ1d,QARR,SAA0BpG,GACtB,IAAI2O,EAAgBsb,EAAgB/oB,IAAIlB,GAKxC,OAJK2O,IACDA,EAAgBvN,OAAOC,OAAO,MAC9B4oB,EAAgB9oB,IAAInB,EAAG2O,IAEpBA,I,4BCVXvN,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD,IAAIojB,EAAU,EAAQ,MAClBkF,EAAqB,EAAQ,MAC7B+C,EAAuBjI,EAAQ6H,gBAAgB,EAAQ,OACvD2C,EAAoC,WACpC,SAASA,EAAmBnmB,EAAS3B,GAIjC,KADgB4c,MAAQA,gBAAgBkL,EAAqBlL,KAAK2G,iBAAc,GAE5E,MAAM,IAAIroB,UAAU,qDAExB,OAAOsnB,EAAmBtG,6BAA6BU,KAAMjb,EAAS3B,EAAS,CAC3EyH,iBAAkB8d,EAAqBlmB,QACvCuM,iBAAkBkc,EAAmBlc,iBACrCe,sBAAuBmb,EAAmBnb,sBAC1CjF,WAAYogB,EAAmBpgB,WAC/BkF,iBAAkBkb,EAAmBlb,mBAwE7C,OArEAkb,EAAmBvjB,UAAUtE,OAAS,SAAU/F,EAAOuW,GACnD,GAAoB,iBAATmM,KACP,MAAM,IAAI1hB,UAAU,qCAGxB,IADoBqqB,EAAqBlmB,QAAQud,MAC9BT,8BACf,MAAM,IAAIjhB,UAAU,0CAExB,OAAOsnB,EAAmBlH,6BAA6BsB,KAAMtZ,OAAOpJ,GAAQsoB,EAAmBxf,SAASyN,GAAO,CAC3GhJ,iBAAkB8d,EAAqBlmB,UAEtCtF,KAAI,SAAUipB,GAAM,OAAOA,EAAG9oB,SAC9BL,KAAK,KAEdiuB,EAAmBvjB,UAAUsQ,cAAgB,SAAU3a,EAAOuW,GAC1D,GAAoB,iBAATmM,KACP,MAAM,IAAI1hB,UAAU,4CAGxB,IADoBqqB,EAAqBlmB,QAAQud,MAC9BT,8BACf,MAAM,IAAIjhB,UAAU,iDAExB,OAAOsnB,EAAmBlH,6BAA6BsB,KAAMtZ,OAAOpJ,GAAQsoB,EAAmBxf,SAASyN,GAAO,CAAEhJ,iBAAkB8d,EAAqBlmB,WAE5JyoB,EAAmBvjB,UAAUuf,gBAAkB,WAC3C,GAAoB,iBAATlH,KACP,MAAM,IAAI1hB,UAAU,8CAExB,IAAI0M,EAAgB2d,EAAqBlmB,QAAQud,MACjD,IAAKhV,EAAcuU,8BACf,MAAM,IAAIjhB,UAAU,mDAGxB,MAAO,CACH4M,OAAQF,EAAcE,OACtBd,MAAOY,EAAcZ,MACrByU,QAAS7T,EAAc6T,QACvBnM,gBAAiB1H,EAAc0H,kBAGvCwY,EAAmB/D,mBAAqB,SAAUpiB,EAAS3B,GACvD,OAAOwiB,EAAmBjG,iBAAiBuL,EAAmBlc,iBAAkB4W,EAAmB9gB,uBAAuBC,GAAU3B,IAExI8nB,EAAmB9D,gBAAkB,WAEjC,IADA,IAAIjP,EAAO,GACFta,EAAK,EAAGA,EAAKO,UAAUpB,OAAQa,IACpCsa,EAAKta,GAAMO,UAAUP,GAEzB,IAAK,IAAIC,EAAK,EAAGupB,EAASlP,EAAMra,EAAKupB,EAAOrqB,OAAQc,IAAM,CACtD,IAAI4E,EAAK2kB,EAAOvpB,GAAKwpB,EAAI5kB,EAAGyV,KAAMjN,EAASxI,EAAGwI,OAC1C0F,EAAkB,IAAI5L,KAAK6L,OAAO3F,GACjC4F,WACAC,WACLma,EAAmBpgB,WAAWI,GAAUggB,EAAmBpgB,WAAW8F,GAAmB0W,EACzF4D,EAAmBlc,iBAAiBgC,IAAIJ,GACxCsa,EAAmBlc,iBAAiBgC,IAAI9F,GACnCggB,EAAmB3D,kBACpB2D,EAAmB3D,gBAAkB3W,KAIjDsa,EAAmBlb,iBAAmB,WAClC,OAAOkb,EAAmB3D,iBAE9B2D,EAAmBpgB,WAAa,GAChCogB,EAAmBlc,iBAAmB,IAAI0B,IAC1Cwa,EAAmB3D,gBAAkB,GACrC2D,EAAmBnb,sBAAwB,CAAC,MAC5Cmb,EAAmB1D,YAAa,EACzB0D,EArF4B,GAuFvC/K,EAAQ1d,QAAUyoB,EAClB,IAE0B,oBAAXxD,QACPjqB,OAAOoB,eAAeqsB,EAAmBvjB,UAAW+f,OAAOC,YAAa,CACpErqB,MAAO,0BACP4B,UAAU,EACVD,YAAY,EACZD,cAAc,IAItBvB,OAAOoB,eAAeqsB,EAAmBvjB,UAAUgf,YAAa,SAAU,CACtErpB,MAAO,EACP4B,UAAU,EACVD,YAAY,EACZD,cAAc,IAGlBvB,OAAOoB,eAAeqsB,EAAmB/D,mBAAoB,SAAU,CACnE7pB,MAAO,EACP4B,UAAU,EACVD,YAAY,EACZD,cAAc,IAGtB,MAAO4Q,M,UCpHH5K,KAAKkmB,oBAAyE,mBAA5ClmB,KAAKkmB,mBAAmB9D,iBAC5DpiB,KAAKkmB,mBAAmB9D,gBAAgB,CAAC,KAAO,CAAC,GAAK,CAAC,QAAQ,KAAO,CAAC,EAAI,YAAY,EAAI,YAAY,OAAS,CAAC,IAAM,cAAc,MAAQ,gBAAgB,KAAO,CAAC,IAAM,eAAe,MAAQ,iBAAiB,KAAK,aAAa,aAAa,CAAC,EAAI,WAAW,EAAI,WAAW,OAAS,CAAC,IAAM,aAAa,MAAQ,cAAc,KAAO,CAAC,IAAM,cAAc,MAAQ,eAAe,KAAK,YAAY,cAAc,CAAC,EAAI,WAAW,EAAI,WAAW,OAAS,CAAC,IAAM,aAAa,MAAQ,cAAc,KAAO,CAAC,IAAM,cAAc,MAAQ,eAAe,KAAK,YAAY,QAAU,CAAC,EAAI,eAAe,EAAI,eAAe,OAAS,CAAC,IAAM,iBAAiB,MAAQ,mBAAmB,KAAO,CAAC,IAAM,kBAAkB,MAAQ,oBAAoB,KAAK,gBAAgB,gBAAgB,CAAC,EAAI,YAAY,EAAI,YAAY,OAAS,CAAC,IAAM,cAAc,MAAQ,gBAAgB,KAAO,CAAC,IAAM,eAAe,MAAQ,iBAAiB,KAAK,aAAa,iBAAiB,CAAC,EAAI,YAAY,EAAI,YAAY,OAAS,CAAC,IAAM,cAAc,MAAQ,gBAAgB,KAAO,CAAC,IAAM,eAAe,MAAQ,iBAAiB,KAAK,aAAa,MAAQ,CAAC,EAAI,aAAa,EAAI,aAAa,OAAS,CAAC,IAAM,eAAe,MAAQ,iBAAiB,KAAO,CAAC,IAAM,gBAAgB,MAAQ,kBAAkB,KAAK,cAAc,cAAc,CAAC,EAAI,WAAW,EAAI,WAAW,OAAS,CAAC,IAAM,aAAa,MAAQ,cAAc,KAAO,CAAC,IAAM,cAAc,MAAQ,eAAe,KAAK,YAAY,eAAe,CAAC,EAAI,WAAW,EAAI,WAAW,OAAS,CAAC,IAAM,aAAa,MAAQ,cAAc,KAAO,CAAC,IAAM,cAAc,MAAQ,eAAe,KAAK,YAAY,KAAO,CAAC,EAAI,YAAY,EAAI,YAAY,OAAS,CAAC,IAAM,cAAc,MAAQ,gBAAgB,KAAO,CAAC,IAAM,eAAe,MAAQ,iBAAiB,KAAK,aAAa,aAAa,CAAC,EAAI,WAAW,EAAI,WAAW,OAAS,CAAC,IAAM,aAAa,MAAQ,cAAc,KAAO,CAAC,IAAM,cAAc,MAAQ,eAAe,KAAK,YAAY,cAAc,CAAC,EAAI,WAAW,EAAI,WAAW,OAAS,CAAC,IAAM,aAAa,MAAQ,cAAc,KAAO,CAAC,IAAM,cAAc,MAAQ,eAAe,KAAK,YAAY,IAAM,CAAC,EAAI,QAAQ,EAAI,WAAW,OAAS,CAAC,IAAM,aAAa,MAAQ,eAAe,KAAO,CAAC,IAAM,cAAc,MAAQ,gBAAgB,KAAK,aAAa,YAAY,CAAC,EAAI,QAAQ,EAAI,WAAW,OAAS,CAAC,IAAM,aAAa,MAAQ,eAAe,KAAO,CAAC,IAAM,cAAc,MAAQ,gBAAgB,KAAK,aAAa,aAAa,CAAC,EAAI,QAAQ,EAAI,WAAW,OAAS,CAAC,IAAM,aAAa,MAAQ,eAAe,KAAO,CAAC,IAAM,cAAc,MAAQ,gBAAgB,KAAK,aAAa,KAAO,CAAC,EAAI,YAAY,OAAS,CAAC,IAAM,cAAc,MAAQ,gBAAgB,KAAO,CAAC,IAAM,eAAe,MAAQ,kBAAkB,aAAa,CAAC,EAAI,YAAY,OAAS,CAAC,IAAM,aAAa,MAAQ,cAAc,KAAO,CAAC,IAAM,cAAc,MAAQ,gBAAgB,cAAc,CAAC,EAAI,YAAY,OAAS,CAAC,IAAM,aAAa,MAAQ,cAAc,KAAO,CAAC,IAAM,cAAc,MAAQ,gBAAgB,OAAS,CAAC,EAAI,cAAc,OAAS,CAAC,IAAM,gBAAgB,MAAQ,kBAAkB,KAAO,CAAC,IAAM,iBAAiB,MAAQ,oBAAoB,eAAe,CAAC,EAAI,cAAc,OAAS,CAAC,IAAM,cAAc,MAAQ,eAAe,KAAO,CAAC,IAAM,eAAe,MAAQ,iBAAiB,gBAAgB,CAAC,EAAI,cAAc,OAAS,CAAC,IAAM,cAAc,MAAQ,eAAe,KAAO,CAAC,IAAM,eAAe,MAAQ,iBAAiB,OAAS,CAAC,EAAI,MAAM,OAAS,CAAC,IAAM,gBAAgB,MAAQ,kBAAkB,KAAO,CAAC,IAAM,iBAAiB,MAAQ,oBAAoB,eAAe,CAAC,EAAI,MAAM,OAAS,CAAC,IAAM,cAAc,MAAQ,eAAe,KAAO,CAAC,IAAM,eAAe,MAAQ,iBAAiB,gBAAgB,CAAC,EAAI,MAAM,OAAS,CAAC,IAAM,cAAc,MAAQ,eAAe,KAAO,CAAC,IAAM,eAAe,MAAQ,kBAAkB,OAAS,Q,4BCF1uH3pB,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD,IACIgrB,EADU,EAAQ,MACLC,gBAAgB,EAAQ,OACjB,EAAQ,MACVC,kBAClB/qB,OAAOoB,eAAemG,KAAM,qBAAsB,CAC9C1H,MAAOgrB,EAAG7lB,QACVvD,UAAU,EACVD,YAAY,EACZD,cAAc,K,0BCTtBvB,OAAOoB,eAAeshB,EAAS,aAAc,CAAE7iB,OAAO,IACtD6iB,EAAQqI,oBAAiB,EAIzBrI,EAAQqI,eAHR,WACI,MAAuB,oBAATxjB,QAA0B,uBAAwBA,Q,o0sCCYpE,IAAImmB,EAAgB,SAAS7D,EAAGzQ,GAI5B,OAHAsU,EAAgB1tB,OAAO2tB,gBAClB,CAAEC,UAAW,cAAgBvuB,OAAS,SAAUwqB,EAAGzQ,GAAKyQ,EAAE+D,UAAYxU,IACvE,SAAUyQ,EAAGzQ,GAAK,IAAK,IAAIjL,KAAKiL,EAAOpZ,OAAOkK,UAAUC,eAAeC,KAAKgP,EAAGjL,KAAI0b,EAAE1b,GAAKiL,EAAEjL,MAC3E0b,EAAGzQ,IAGrB,SAASoJ,EAAUqH,EAAGzQ,GACzB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIvY,UAAU,uBAAyBgI,OAAOuQ,GAAK,iCAE7D,SAASyU,IAAOtL,KAAK2G,YAAcW,EADnC6D,EAAc7D,EAAGzQ,GAEjByQ,EAAE3f,UAAkB,OAANkP,EAAapZ,OAAOC,OAAOmZ,IAAMyU,EAAG3jB,UAAYkP,EAAElP,UAAW,IAAI2jB,GAG5E,IAAIppB,EAAW,WAQlB,OAPAA,EAAWzE,OAAO8tB,QAAU,SAAkBroB,GAC1C,IAAK,IAAIvG,EAAGI,EAAI,EAAGgK,EAAI3I,UAAUpB,OAAQD,EAAIgK,EAAGhK,IAE5C,IAAK,IAAI6O,KADTjP,EAAIyB,UAAUrB,GACOU,OAAOkK,UAAUC,eAAeC,KAAKlL,EAAGiP,KAAI1I,EAAE0I,GAAKjP,EAAEiP,IAE9E,OAAO1I,IAEK+W,MAAM+F,KAAM5hB,YAGzB,SAASotB,EAAO7uB,EAAGiT,GACtB,IAAI1M,EAAI,GACR,IAAK,IAAI0I,KAAKjP,EAAOc,OAAOkK,UAAUC,eAAeC,KAAKlL,EAAGiP,IAAMgE,EAAE/L,QAAQ+H,GAAK,IAC9E1I,EAAE0I,GAAKjP,EAAEiP,IACb,GAAS,MAALjP,GAAqD,mBAAjCc,OAAOguB,sBACtB,KAAI1uB,EAAI,EAAb,IAAgB6O,EAAInO,OAAOguB,sBAAsB9uB,GAAII,EAAI6O,EAAE5O,OAAQD,IAC3D6S,EAAE/L,QAAQ+H,EAAE7O,IAAM,GAAKU,OAAOkK,UAAU+jB,qBAAqB7jB,KAAKlL,EAAGiP,EAAE7O,MACvEmG,EAAE0I,EAAE7O,IAAMJ,EAAEiP,EAAE7O,KAE1B,OAAOmG,EAGJ,SAASyoB,EAAWC,EAAY9sB,EAAQ+C,EAAKgqB,GAChD,IAA2HvE,EAAvHzmB,EAAIzC,UAAUpB,OAAQiT,EAAIpP,EAAI,EAAI/B,EAAkB,OAAT+sB,EAAgBA,EAAOpuB,OAAOquB,yBAAyBhtB,EAAQ+C,GAAOgqB,EACrH,GAAuB,iBAAZE,SAAoD,mBAArBA,QAAQC,SAAyB/b,EAAI8b,QAAQC,SAASJ,EAAY9sB,EAAQ+C,EAAKgqB,QACpH,IAAK,IAAI9uB,EAAI6uB,EAAW5uB,OAAS,EAAGD,GAAK,EAAGA,KAASuqB,EAAIsE,EAAW7uB,MAAIkT,GAAKpP,EAAI,EAAIymB,EAAErX,GAAKpP,EAAI,EAAIymB,EAAExoB,EAAQ+C,EAAKoO,GAAKqX,EAAExoB,EAAQ+C,KAASoO,GAChJ,OAAOpP,EAAI,GAAKoP,GAAKxS,OAAOoB,eAAeC,EAAQ+C,EAAKoO,GAAIA,EAGzD,SAASgc,EAAQC,EAAYC,GAChC,OAAO,SAAUrtB,EAAQ+C,GAAOsqB,EAAUrtB,EAAQ+C,EAAKqqB,IAGpD,SAASE,EAAWC,EAAaC,GACpC,GAAuB,iBAAZP,SAAoD,mBAArBA,QAAQQ,SAAyB,OAAOR,QAAQQ,SAASF,EAAaC,GAG7G,SAASE,EAAUC,EAASC,EAAYvE,EAAGwE,GAE9C,OAAO,IAAKxE,IAAMA,EAAIyE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUzvB,GAAS,IAAM0vB,EAAKL,EAAUM,KAAK3vB,IAAW,MAAOsS,GAAKkd,EAAOld,IACpF,SAASsd,EAAS5vB,GAAS,IAAM0vB,EAAKL,EAAiB,MAAErvB,IAAW,MAAOsS,GAAKkd,EAAOld,IACvF,SAASod,EAAKltB,GAJlB,IAAexC,EAIawC,EAAO6P,KAAOkd,EAAQ/sB,EAAOxC,QAJ1CA,EAIyDwC,EAAOxC,MAJhDA,aAAiB6qB,EAAI7qB,EAAQ,IAAI6qB,GAAE,SAAU0E,GAAWA,EAAQvvB,OAIT6vB,KAAKJ,EAAWG,GAClGF,GAAML,EAAYA,EAAU1S,MAAMwS,EAASC,GAAc,KAAKO,WAI/D,SAASG,EAAYX,EAASY,GACjC,IAAsG5uB,EAAG8I,EAAGrE,EAAGoqB,EAA3GnsB,EAAI,CAAEosB,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPtqB,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOuqB,KAAM,GAAIC,IAAK,IAChG,OAAOJ,EAAI,CAAEL,KAAMU,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXjG,SAA0B4F,EAAE5F,OAAOkG,UAAY,WAAa,OAAO5N,OAAUsN,EACvJ,SAASK,EAAK5mB,GAAK,OAAO,SAAU+E,GAAK,OACzC,SAAc+hB,GACV,GAAIpvB,EAAG,MAAM,IAAIH,UAAU,mCAC3B,KAAO6C,OACH,GAAI1C,EAAI,EAAG8I,IAAMrE,EAAY,EAAR2qB,EAAG,GAAStmB,EAAU,OAAIsmB,EAAG,GAAKtmB,EAAS,SAAOrE,EAAIqE,EAAU,SAAMrE,EAAE2E,KAAKN,GAAI,GAAKA,EAAE0lB,SAAW/pB,EAAIA,EAAE2E,KAAKN,EAAGsmB,EAAG,KAAKle,KAAM,OAAOzM,EAE3J,OADIqE,EAAI,EAAGrE,IAAG2qB,EAAK,CAAS,EAARA,EAAG,GAAQ3qB,EAAE5F,QACzBuwB,EAAG,IACP,KAAK,EAAG,KAAK,EAAG3qB,EAAI2qB,EAAI,MACxB,KAAK,EAAc,OAAX1sB,EAAEosB,QAAgB,CAAEjwB,MAAOuwB,EAAG,GAAIle,MAAM,GAChD,KAAK,EAAGxO,EAAEosB,QAAShmB,EAAIsmB,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAK1sB,EAAEusB,IAAIvR,MAAOhb,EAAEssB,KAAKtR,MAAO,SACxC,QACI,KAAMjZ,EAAI/B,EAAEssB,MAAMvqB,EAAIA,EAAElG,OAAS,GAAKkG,EAAEA,EAAElG,OAAS,KAAkB,IAAV6wB,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAE1sB,EAAI,EAAG,SACjG,GAAc,IAAV0sB,EAAG,MAAc3qB,GAAM2qB,EAAG,GAAK3qB,EAAE,IAAM2qB,EAAG,GAAK3qB,EAAE,IAAM,CAAE/B,EAAEosB,MAAQM,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAY1sB,EAAEosB,MAAQrqB,EAAE,GAAI,CAAE/B,EAAEosB,MAAQrqB,EAAE,GAAIA,EAAI2qB,EAAI,MAC7D,GAAI3qB,GAAK/B,EAAEosB,MAAQrqB,EAAE,GAAI,CAAE/B,EAAEosB,MAAQrqB,EAAE,GAAI/B,EAAEusB,IAAIrsB,KAAKwsB,GAAK,MACvD3qB,EAAE,IAAI/B,EAAEusB,IAAIvR,MAChBhb,EAAEssB,KAAKtR,MAAO,SAEtB0R,EAAKR,EAAKxlB,KAAK4kB,EAAStrB,GAC1B,MAAOyO,GAAKie,EAAK,CAAC,EAAGje,GAAIrI,EAAI,EAAK,QAAU9I,EAAIyE,EAAI,EACtD,GAAY,EAAR2qB,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEvwB,MAAOuwB,EAAG,GAAKA,EAAG,QAAK,EAAQle,MAAM,GArB9Bqd,CAAK,CAACjmB,EAAG+E,MAyBtD,IAAIgiB,EAAkBrwB,OAAOC,OAAS,SAAU2I,EAAG/E,EAAGtD,EAAG+vB,QACjDztB,IAAPytB,IAAkBA,EAAK/vB,GAC3BP,OAAOoB,eAAewH,EAAG0nB,EAAI,CAAE9uB,YAAY,EAAM1B,IAAK,WAAa,OAAO+D,EAAEtD,OAC3E,SAAUqI,EAAG/E,EAAGtD,EAAG+vB,QACTztB,IAAPytB,IAAkBA,EAAK/vB,GAC3BqI,EAAE0nB,GAAMzsB,EAAEtD,IAGP,SAASojB,EAAa9f,EAAG+E,GAC5B,IAAK,IAAIuF,KAAKtK,EAAa,YAANsK,GAAoBnO,OAAOkK,UAAUC,eAAeC,KAAKxB,EAAGuF,IAAIkiB,EAAgBznB,EAAG/E,EAAGsK,GAGxG,SAASoiB,EAAS3nB,GACrB,IAAI1J,EAAsB,mBAAX+qB,QAAyBA,OAAOkG,SAAUtsB,EAAI3E,GAAK0J,EAAE1J,GAAII,EAAI,EAC5E,GAAIuE,EAAG,OAAOA,EAAEuG,KAAKxB,GACrB,GAAIA,GAAyB,iBAAbA,EAAErJ,OAAqB,MAAO,CAC1CiwB,KAAM,WAEF,OADI5mB,GAAKtJ,GAAKsJ,EAAErJ,SAAQqJ,OAAI,GACrB,CAAE/I,MAAO+I,GAAKA,EAAEtJ,KAAM4S,MAAOtJ,KAG5C,MAAM,IAAI/H,UAAU3B,EAAI,0BAA4B,mCAGjD,SAASsxB,EAAO5nB,EAAGU,GACtB,IAAIzF,EAAsB,mBAAXomB,QAAyBrhB,EAAEqhB,OAAOkG,UACjD,IAAKtsB,EAAG,OAAO+E,EACf,IAAmB4J,EAAYL,EAA3B7S,EAAIuE,EAAEuG,KAAKxB,GAAO6nB,EAAK,GAC3B,IACI,WAAc,IAANnnB,GAAgBA,KAAM,MAAQkJ,EAAIlT,EAAEkwB,QAAQtd,MAAMue,EAAG7sB,KAAK4O,EAAE3S,OAExE,MAAOqtB,GAAS/a,EAAI,CAAE+a,MAAOA,GAC7B,QACI,IACQ1a,IAAMA,EAAEN,OAASrO,EAAIvE,EAAU,SAAIuE,EAAEuG,KAAK9K,GAElD,QAAU,GAAI6S,EAAG,MAAMA,EAAE+a,OAE7B,OAAOuD,EAIJ,SAASC,IACZ,IAAK,IAAID,EAAK,GAAInxB,EAAI,EAAGA,EAAIqB,UAAUpB,OAAQD,IAC3CmxB,EAAKA,EAAGhgB,OAAO+f,EAAO7vB,UAAUrB,KACpC,OAAOmxB,EAIJ,SAAS9L,IACZ,IAAK,IAAIzlB,EAAI,EAAGI,EAAI,EAAGqxB,EAAKhwB,UAAUpB,OAAQD,EAAIqxB,EAAIrxB,IAAKJ,GAAKyB,UAAUrB,GAAGC,OACxE,IAAIiT,EAAInT,MAAMH,GAAIqB,EAAI,EAA3B,IAA8BjB,EAAI,EAAGA,EAAIqxB,EAAIrxB,IACzC,IAAK,IAAI6Z,EAAIxY,UAAUrB,GAAIsxB,EAAI,EAAGC,EAAK1X,EAAE5Z,OAAQqxB,EAAIC,EAAID,IAAKrwB,IAC1DiS,EAAEjS,GAAK4Y,EAAEyX,GACjB,OAAOpe,EAGJ,SAASse,EAAcC,EAAIC,GAC9B,IAAK,IAAI1xB,EAAI,EAAGqxB,EAAKK,EAAKzxB,OAAQqxB,EAAIG,EAAGxxB,OAAQD,EAAIqxB,EAAIrxB,IAAKsxB,IAC1DG,EAAGH,GAAKI,EAAK1xB,GACjB,OAAOyxB,EAGJ,SAASE,EAAQ5iB,GACpB,OAAOkU,gBAAgB0O,GAAW1O,KAAKlU,EAAIA,EAAGkU,MAAQ,IAAI0O,EAAQ5iB,GAG/D,SAAS6iB,EAAiBlC,EAASC,EAAYC,GAClD,IAAKjF,OAAOkH,cAAe,MAAM,IAAItwB,UAAU,wCAC/C,IAAoDvB,EAAhDuwB,EAAIX,EAAU1S,MAAMwS,EAASC,GAAc,IAAQmC,EAAI,GAC3D,OAAO9xB,EAAI,GAAI4wB,EAAK,QAASA,EAAK,SAAUA,EAAK,UAAW5wB,EAAE2qB,OAAOkH,eAAiB,WAAc,OAAO5O,MAASjjB,EACpH,SAAS4wB,EAAK5mB,GAASumB,EAAEvmB,KAAIhK,EAAEgK,GAAK,SAAU+E,GAAK,OAAO,IAAI8gB,SAAQ,SAAUhW,EAAGC,GAAKgY,EAAExtB,KAAK,CAAC0F,EAAG+E,EAAG8K,EAAGC,IAAM,GAAKiY,EAAO/nB,EAAG+E,QAC9H,SAASgjB,EAAO/nB,EAAG+E,GAAK,KACVmE,EADqBqd,EAAEvmB,GAAG+E,IACnBxO,iBAAiBoxB,EAAU9B,QAAQC,QAAQ5c,EAAE3S,MAAMwO,GAAGqhB,KAAK4B,EAASjC,GAAUkC,EAAOH,EAAE,GAAG,GAAI5e,GADpE,MAAOL,GAAKof,EAAOH,EAAE,GAAG,GAAIjf,GAC3E,IAAcK,EACd,SAAS8e,EAAQzxB,GAASwxB,EAAO,OAAQxxB,GACzC,SAASwvB,EAAOxvB,GAASwxB,EAAO,QAASxxB,GACzC,SAAS0xB,EAAOvwB,EAAGqN,GAASrN,EAAEqN,GAAI+iB,EAAE/J,QAAS+J,EAAE7xB,QAAQ8xB,EAAOD,EAAE,GAAG,GAAIA,EAAE,GAAG,KAGzE,SAASI,EAAiB5oB,GAC7B,IAAItJ,EAAG6O,EACP,OAAO7O,EAAI,GAAI4wB,EAAK,QAASA,EAAK,SAAS,SAAU/d,GAAK,MAAMA,KAAO+d,EAAK,UAAW5wB,EAAE2qB,OAAOkG,UAAY,WAAc,OAAO5N,MAASjjB,EAC1I,SAAS4wB,EAAK5mB,EAAGtI,GAAK1B,EAAEgK,GAAKV,EAAEU,GAAK,SAAU+E,GAAK,OAAQF,GAAKA,GAAK,CAAEtO,MAAOoxB,EAAQroB,EAAEU,GAAG+E,IAAK6D,KAAY,WAAN5I,GAAmBtI,EAAIA,EAAEqN,GAAKA,GAAOrN,GAGxI,SAASywB,EAAc7oB,GAC1B,IAAKqhB,OAAOkH,cAAe,MAAM,IAAItwB,UAAU,wCAC/C,IAAiCvB,EAA7BuE,EAAI+E,EAAEqhB,OAAOkH,eACjB,OAAOttB,EAAIA,EAAEuG,KAAKxB,IAAMA,EAAqC2nB,EAAS3nB,GAA2BtJ,EAAI,GAAI4wB,EAAK,QAASA,EAAK,SAAUA,EAAK,UAAW5wB,EAAE2qB,OAAOkH,eAAiB,WAAc,OAAO5O,MAASjjB,GAC9M,SAAS4wB,EAAK5mB,GAAKhK,EAAEgK,GAAKV,EAAEU,IAAM,SAAU+E,GAAK,OAAO,IAAI8gB,SAAQ,SAAUC,EAASC,IACvF,SAAgBD,EAASC,EAAQxF,EAAGxb,GAAK8gB,QAAQC,QAAQ/gB,GAAGqhB,MAAK,SAASrhB,GAAK+gB,EAAQ,CAAEvvB,MAAOwO,EAAG6D,KAAM2X,MAASwF,IADJkC,CAAOnC,EAASC,GAA7BhhB,EAAIzF,EAAEU,GAAG+E,IAA8B6D,KAAM7D,EAAExO,YAI7I,SAAS6xB,EAAqBC,EAAQC,GAEzC,OADI5xB,OAAOoB,eAAkBpB,OAAOoB,eAAeuwB,EAAQ,MAAO,CAAE9xB,MAAO+xB,IAAiBD,EAAOC,IAAMA,EAClGD,EAGX,IAAIE,EAAqB7xB,OAAOC,OAAS,SAAU2I,EAAGyF,GAClDrO,OAAOoB,eAAewH,EAAG,UAAW,CAAEpH,YAAY,EAAM3B,MAAOwO,KAC9D,SAASzF,EAAGyF,GACbzF,EAAW,QAAIyF,GAGZ,SAAS0V,EAAaxZ,GACzB,GAAIA,GAAOA,EAAIunB,WAAY,OAAOvnB,EAClC,IAAIlI,EAAS,GACb,GAAW,MAAPkI,EAAa,IAAK,IAAIhK,KAAKgK,EAAe,YAANhK,GAAmBP,OAAOkK,UAAUC,eAAeC,KAAKG,EAAKhK,IAAI8vB,EAAgBhuB,EAAQkI,EAAKhK,GAEtI,OADAsxB,EAAmBxvB,EAAQkI,GACpBlI,EAGJ,SAASyoB,EAAgBvgB,GAC5B,OAAQA,GAAOA,EAAIunB,WAAcvnB,EAAM,CAAEvF,QAASuF,GAG/C,SAASwnB,EAAuBC,EAAUC,GAC7C,IAAKA,EAAWxgB,IAAIugB,GAChB,MAAM,IAAInxB,UAAU,kDAExB,OAAOoxB,EAAWnyB,IAAIkyB,GAGnB,SAASE,EAAuBF,EAAUC,EAAYpyB,GACzD,IAAKoyB,EAAWxgB,IAAIugB,GAChB,MAAM,IAAInxB,UAAU,kDAGxB,OADAoxB,EAAWlyB,IAAIiyB,EAAUnyB,GAClBA","file":"5332.a3fe347fe625a95a6524.$polyfill$-internationalization.js","sourcesContent":["/**\n * Cannot do Math.log(x) / Math.log(10) bc if IEEE floating point issue\n * @param x number\n */\nexport function getMagnitude(x) {\n    // Cannot count string length via Number.toString because it may use scientific notation\n    // for very small or very large numbers.\n    return Math.floor(Math.log(x) * Math.LOG10E);\n}\nexport function repeat(s, times) {\n    if (typeof s.repeat === 'function') {\n        return s.repeat(times);\n    }\n    var arr = new Array(times);\n    for (var i = 0; i < arr.length; i++) {\n        arr[i] = s;\n    }\n    return arr.join('');\n}\nexport function setInternalSlot(map, pl, field, value) {\n    if (!map.get(pl)) {\n        map.set(pl, Object.create(null));\n    }\n    var slots = map.get(pl);\n    slots[field] = value;\n}\nexport function setMultiInternalSlots(map, pl, props) {\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n        var k = _a[_i];\n        setInternalSlot(map, pl, k, props[k]);\n    }\n}\nexport function getInternalSlot(map, pl, field) {\n    return getMultiInternalSlots(map, pl, field)[field];\n}\nexport function getMultiInternalSlots(map, pl) {\n    var fields = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        fields[_i - 2] = arguments[_i];\n    }\n    var slots = map.get(pl);\n    if (!slots) {\n        throw new TypeError(pl + \" InternalSlot has not been initialized\");\n    }\n    return fields.reduce(function (all, f) {\n        all[f] = slots[f];\n        return all;\n    }, Object.create(null));\n}\nexport function isLiteralPart(patternPart) {\n    return patternPart.type === 'literal';\n}\n/*\n  17 ECMAScript Standard Built-in Objects:\n    Every built-in Function object, including constructors, that is not\n    identified as an anonymous function has a name property whose value\n    is a String.\n\n    Unless otherwise specified, the name property of a built-in Function\n    object, if it exists, has the attributes { [[Writable]]: false,\n    [[Enumerable]]: false, [[Configurable]]: true }.\n*/\nexport function defineProperty(target, name, _a) {\n    var value = _a.value;\n    Object.defineProperty(target, name, {\n        configurable: true,\n        enumerable: false,\n        writable: true,\n        value: value,\n    });\n}\nexport var UNICODE_EXTENSION_SEQUENCE_REGEX = /-u(?:-[0-9a-z]{2,8})+/gi;\nexport function invariant(condition, message, Err) {\n    if (Err === void 0) { Err = Error; }\n    if (!condition) {\n        throw new Err(message);\n    }\n}\n","export var DATE_TIME_PROPS = [\n    'weekday',\n    'era',\n    'year',\n    'month',\n    'day',\n    'hour',\n    'minute',\n    'second',\n    'timeZoneName',\n];\nexport var removalPenalty = 120;\nexport var additionPenalty = 20;\nexport var differentNumericTypePenalty = 15;\nexport var longLessPenalty = 8;\nexport var longMorePenalty = 6;\nexport var shortLessPenalty = 6;\nexport var shortMorePenalty = 3;\n","import { __assign } from \"tslib\";\n/**\n * https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * Credit: https://github.com/caridy/intl-datetimeformat-pattern/blob/master/index.js\n * with some tweaks\n */\nvar DATE_TIME_REGEX = /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;\n// trim patterns after transformations\nvar expPatternTrimmer = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\nfunction matchSkeletonPattern(match, result) {\n    var len = match.length;\n    switch (match[0]) {\n        // Era\n        case 'G':\n            result.era = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n            return '{era}';\n        // Year\n        case 'y':\n        case 'Y':\n        case 'u':\n        case 'U':\n        case 'r':\n            result.year = len === 2 ? '2-digit' : 'numeric';\n            return '{year}';\n        // Quarter\n        case 'q':\n        case 'Q':\n            throw new RangeError('`w/Q` (quarter) patterns are not supported');\n        // Month\n        case 'M':\n        case 'L':\n            result.month = ['numeric', '2-digit', 'short', 'long', 'narrow'][len - 1];\n            return '{month}';\n        // Week\n        case 'w':\n        case 'W':\n            throw new RangeError('`w/W` (week of year) patterns are not supported');\n        case 'd':\n            result.day = ['numeric', '2-digit'][len - 1];\n            return '{day}';\n        case 'D':\n        case 'F':\n        case 'g':\n            result.day = 'numeric';\n            return '{day}';\n        // Weekday\n        case 'E':\n            result.weekday = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n            return '{weekday}';\n        case 'e':\n            result.weekday = [\n                'numeric',\n                '2-digit',\n                'short',\n                'long',\n                'narrow',\n                'short',\n            ][len - 1];\n            return '{weekday}';\n        case 'c':\n            result.weekday = [\n                'numeric',\n                undefined,\n                'short',\n                'long',\n                'narrow',\n                'short',\n            ][len - 1];\n            return '{weekday}';\n        // Period\n        case 'a': // AM, PM\n        case 'b': // am, pm, noon, midnight\n        case 'B': // flexible day periods\n            result.hour12 = true;\n            return '{ampm}';\n        // Hour\n        case 'h':\n            result.hour = ['numeric', '2-digit'][len - 1];\n            result.hour12 = true;\n            return '{hour}';\n        case 'H':\n            result.hour = ['numeric', '2-digit'][len - 1];\n            return '{hour}';\n        case 'K':\n            result.hour = ['numeric', '2-digit'][len - 1];\n            result.hour12 = true;\n            return '{hour}';\n        case 'k':\n            result.hour = ['numeric', '2-digit'][len - 1];\n            return '{hour}';\n        case 'j':\n        case 'J':\n        case 'C':\n            throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');\n        // Minute\n        case 'm':\n            result.minute = ['numeric', '2-digit'][len - 1];\n            return '{minute}';\n        // Second\n        case 's':\n            result.second = ['numeric', '2-digit'][len - 1];\n            return '{second}';\n        case 'S':\n        case 'A':\n            result.second = 'numeric';\n            return '{second}';\n        // Zone\n        case 'z': // 1..3, 4: specific non-location format\n        case 'Z': // 1..3, 4, 5: The ISO8601 varios formats\n        case 'O': // 1, 4: miliseconds in day short, long\n        case 'v': // 1, 4: generic non-location format\n        case 'V': // 1, 2, 3, 4: time zone ID or city\n        case 'X': // 1, 2, 3, 4: The ISO8601 varios formats\n        case 'x': // 1, 2, 3, 4: The ISO8601 varios formats\n            result.timeZoneName = len < 4 ? 'short' : 'long';\n            return '{timeZoneName}';\n    }\n    return '';\n}\nfunction skeletonTokenToTable2(c) {\n    switch (c) {\n        // Era\n        case 'G':\n            return 'era';\n        // Year\n        case 'y':\n        case 'Y':\n        case 'u':\n        case 'U':\n        case 'r':\n            return 'year';\n        // Month\n        case 'M':\n        case 'L':\n            return 'month';\n        // Day\n        case 'd':\n        case 'D':\n        case 'F':\n        case 'g':\n            return 'day';\n        // Period\n        case 'a': // AM, PM\n        case 'b': // am, pm, noon, midnight\n        case 'B': // flexible day periods\n            return 'ampm';\n        // Hour\n        case 'h':\n        case 'H':\n        case 'K':\n        case 'k':\n            return 'hour';\n        // Minute\n        case 'm':\n            return 'minute';\n        // Second\n        case 's':\n        case 'S':\n        case 'A':\n            return 'second';\n        default:\n            throw new RangeError('Invalid range pattern token');\n    }\n}\nexport function processDateTimePattern(pattern, result) {\n    var literals = [];\n    // Use skeleton to populate result, but use mapped pattern to populate pattern\n    var pattern12 = pattern\n        // Double apostrophe\n        .replace(/'{2}/g, '{apostrophe}')\n        // Apostrophe-escaped\n        .replace(/'(.*?)'/g, function (_, literal) {\n        literals.push(literal);\n        return \"$$\" + (literals.length - 1) + \"$$\";\n    })\n        .replace(DATE_TIME_REGEX, function (m) { return matchSkeletonPattern(m, result || {}); });\n    //Restore literals\n    if (literals.length) {\n        pattern12 = pattern12\n            .replace(/\\$\\$(\\d+)\\$\\$/g, function (_, i) {\n            return literals[+i];\n        })\n            .replace(/\\{apostrophe\\}/g, \"'\");\n    }\n    // Handle apostrophe-escaped things\n    return [\n        pattern12\n            .replace(/([\\s\\uFEFF\\xA0])\\{ampm\\}([\\s\\uFEFF\\xA0])/, '$1')\n            .replace('{ampm}', '')\n            .replace(expPatternTrimmer, ''),\n        pattern12,\n    ];\n}\n/**\n * Parse Date time skeleton into Intl.DateTimeFormatOptions\n * Ref: https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * @public\n * @param skeleton skeleton string\n */\nexport function parseDateTimeSkeleton(skeleton, rawPattern, rangePatterns, intervalFormatFallback) {\n    if (rawPattern === void 0) { rawPattern = skeleton; }\n    var result = {\n        pattern: '',\n        pattern12: '',\n        skeleton: skeleton,\n        rawPattern: rawPattern,\n        rangePatterns: {},\n        rangePatterns12: {},\n    };\n    if (rangePatterns) {\n        for (var k in rangePatterns) {\n            var key = skeletonTokenToTable2(k);\n            var rawPattern_1 = rangePatterns[k];\n            var intervalResult = {\n                patternParts: [],\n            };\n            var _a = processDateTimePattern(rawPattern_1, intervalResult), pattern_1 = _a[0], pattern12_1 = _a[1];\n            result.rangePatterns[key] = __assign(__assign({}, intervalResult), { patternParts: splitRangePattern(pattern_1) });\n            result.rangePatterns12[key] = __assign(__assign({}, intervalResult), { patternParts: splitRangePattern(pattern12_1) });\n        }\n    }\n    else if (intervalFormatFallback) {\n        var patternParts = splitFallbackRangePattern(intervalFormatFallback);\n        result.rangePatterns.default = {\n            patternParts: patternParts,\n        };\n        result.rangePatterns12.default = {\n            patternParts: patternParts,\n        };\n    }\n    // Process skeleton\n    skeleton.replace(DATE_TIME_REGEX, function (m) { return matchSkeletonPattern(m, result); });\n    var _b = processDateTimePattern(rawPattern), pattern = _b[0], pattern12 = _b[1];\n    result.pattern = pattern;\n    result.pattern12 = pattern12;\n    return result;\n}\nexport function splitFallbackRangePattern(pattern) {\n    var parts = pattern.split(/(\\{[0|1]\\})/g).filter(Boolean);\n    return parts.map(function (pattern) {\n        switch (pattern) {\n            case '{0}':\n                return {\n                    source: \"startRange\" /* startRange */,\n                    pattern: pattern,\n                };\n            case '{1}':\n                return {\n                    source: \"endRange\" /* endRange */,\n                    pattern: pattern,\n                };\n            default:\n                return {\n                    source: \"shared\" /* shared */,\n                    pattern: pattern,\n                };\n        }\n    });\n}\nexport function splitRangePattern(pattern) {\n    var PART_REGEX = /\\{(.*?)\\}/g;\n    // Map of part and index within the string\n    var parts = {};\n    var match;\n    var splitIndex = 0;\n    while ((match = PART_REGEX.exec(pattern))) {\n        if (!(match[0] in parts)) {\n            parts[match[0]] = match.index;\n        }\n        else {\n            splitIndex = match.index;\n            break;\n        }\n    }\n    if (!splitIndex) {\n        return [\n            {\n                source: \"startRange\" /* startRange */,\n                pattern: pattern,\n            },\n        ];\n    }\n    return [\n        {\n            source: \"startRange\" /* startRange */,\n            pattern: pattern.slice(0, splitIndex),\n        },\n        {\n            source: \"endRange\" /* endRange */,\n            pattern: pattern.slice(splitIndex),\n        },\n    ];\n}\n","import { __assign } from \"tslib\";\nimport { invariant } from '../utils';\nimport { DATE_TIME_PROPS, removalPenalty, additionPenalty, differentNumericTypePenalty, longMorePenalty, shortMorePenalty, shortLessPenalty, longLessPenalty, } from './utils';\nimport { processDateTimePattern } from './skeleton';\nfunction isNumericType(t) {\n    return t === 'numeric' || t === '2-digit';\n}\n/**\n * Credit: https://github.com/andyearnshaw/Intl.js/blob/0958dc1ad8153f1056653ea22b8208f0df289a4e/src/12.datetimeformat.js#L611\n * with some modifications\n * @param options\n * @param format\n */\nexport function bestFitFormatMatcherScore(options, format) {\n    var score = 0;\n    if (options.hour12 && !format.hour12) {\n        score -= removalPenalty;\n    }\n    else if (!options.hour12 && format.hour12) {\n        score -= additionPenalty;\n    }\n    for (var _i = 0, DATE_TIME_PROPS_1 = DATE_TIME_PROPS; _i < DATE_TIME_PROPS_1.length; _i++) {\n        var prop = DATE_TIME_PROPS_1[_i];\n        var optionsProp = options[prop];\n        var formatProp = format[prop];\n        if (optionsProp === undefined && formatProp !== undefined) {\n            score -= additionPenalty;\n        }\n        else if (optionsProp !== undefined && formatProp === undefined) {\n            score -= removalPenalty;\n        }\n        else if (optionsProp !== formatProp) {\n            // extra penalty for numeric vs non-numeric\n            if (isNumericType(optionsProp) !==\n                isNumericType(formatProp)) {\n                score -= differentNumericTypePenalty;\n            }\n            else {\n                var values = ['2-digit', 'numeric', 'narrow', 'short', 'long'];\n                var optionsPropIndex = values.indexOf(optionsProp);\n                var formatPropIndex = values.indexOf(formatProp);\n                var delta = Math.max(-2, Math.min(formatPropIndex - optionsPropIndex, 2));\n                if (delta === 2) {\n                    score -= longMorePenalty;\n                }\n                else if (delta === 1) {\n                    score -= shortMorePenalty;\n                }\n                else if (delta === -1) {\n                    score -= shortLessPenalty;\n                }\n                else if (delta === -2) {\n                    score -= longLessPenalty;\n                }\n            }\n        }\n    }\n    return score;\n}\n/**\n * https://tc39.es/ecma402/#sec-bestfitformatmatcher\n * Just alias to basic for now\n * @param options\n * @param formats\n * @param implDetails Implementation details\n */\nexport function BestFitFormatMatcher(options, formats) {\n    var bestScore = -Infinity;\n    var bestFormat = formats[0];\n    invariant(Array.isArray(formats), 'formats should be a list of things');\n    for (var _i = 0, formats_1 = formats; _i < formats_1.length; _i++) {\n        var format = formats_1[_i];\n        var score = bestFitFormatMatcherScore(options, format);\n        if (score > bestScore) {\n            bestScore = score;\n            bestFormat = format;\n        }\n    }\n    var skeletonFormat = __assign({}, bestFormat);\n    var patternFormat = { rawPattern: bestFormat.rawPattern };\n    processDateTimePattern(bestFormat.rawPattern, patternFormat);\n    // Kinda following https://github.com/unicode-org/icu/blob/dd50e38f459d84e9bf1b0c618be8483d318458ad/icu4j/main/classes/core/src/com/ibm/icu/text/DateTimePatternGenerator.java\n    // Method adjustFieldTypes\n    for (var prop in skeletonFormat) {\n        var skeletonValue = skeletonFormat[prop];\n        var patternValue = patternFormat[prop];\n        var requestedValue = options[prop];\n        // Don't mess with minute/second or we can get in the situation of\n        // 7:0:0 which is weird\n        if (prop === 'minute' || prop === 'second') {\n            continue;\n        }\n        // Nothing to do here\n        if (!requestedValue) {\n            continue;\n        }\n        // https://unicode.org/reports/tr35/tr35-dates.html#Matching_Skeletons\n        // Looks like we should not convert numeric to alphabetic but the other way\n        // around is ok\n        if (isNumericType(patternValue) &&\n            !isNumericType(requestedValue)) {\n            continue;\n        }\n        if (skeletonValue === requestedValue) {\n            continue;\n        }\n        patternFormat[prop] = requestedValue;\n    }\n    // Copy those over\n    patternFormat.pattern = skeletonFormat.pattern;\n    patternFormat.pattern12 = skeletonFormat.pattern12;\n    patternFormat.skeleton = skeletonFormat.skeleton;\n    patternFormat.rangePatterns = skeletonFormat.rangePatterns;\n    patternFormat.rangePatterns12 = skeletonFormat.rangePatterns12;\n    return patternFormat;\n}\n","/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-canonicalizelocalelist\n * @param locales\n */\nexport function CanonicalizeLocaleList(locales) {\n    // TODO\n    return Intl.getCanonicalLocales(locales);\n}\n","/**\n * https://tc39.es/ecma402/#sec-canonicalizetimezonename\n * @param tz\n */\nexport function CanonicalizeTimeZoneName(tz, _a) {\n    var tzData = _a.tzData, uppercaseLinks = _a.uppercaseLinks;\n    var uppercasedTz = tz.toUpperCase();\n    var uppercasedZones = Object.keys(tzData).reduce(function (all, z) {\n        all[z.toUpperCase()] = z;\n        return all;\n    }, {});\n    var ianaTimeZone = uppercaseLinks[uppercasedTz] || uppercasedZones[uppercasedTz];\n    if (ianaTimeZone === 'Etc/UTC' || ianaTimeZone === 'Etc/GMT') {\n        return 'UTC';\n    }\n    return ianaTimeZone;\n}\n","import { __assign } from \"tslib\";\nimport { invariant } from '../utils';\nimport { DATE_TIME_PROPS, additionPenalty, removalPenalty, longMorePenalty, shortMorePenalty, shortLessPenalty, longLessPenalty, } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-basicformatmatcher\n * @param options\n * @param formats\n */\nexport function BasicFormatMatcher(options, formats) {\n    var bestScore = -Infinity;\n    var bestFormat = formats[0];\n    invariant(Array.isArray(formats), 'formats should be a list of things');\n    for (var _i = 0, formats_1 = formats; _i < formats_1.length; _i++) {\n        var format = formats_1[_i];\n        var score = 0;\n        for (var _a = 0, DATE_TIME_PROPS_1 = DATE_TIME_PROPS; _a < DATE_TIME_PROPS_1.length; _a++) {\n            var prop = DATE_TIME_PROPS_1[_a];\n            var optionsProp = options[prop];\n            var formatProp = format[prop];\n            if (optionsProp === undefined && formatProp !== undefined) {\n                score -= additionPenalty;\n            }\n            else if (optionsProp !== undefined && formatProp === undefined) {\n                score -= removalPenalty;\n            }\n            else if (optionsProp !== formatProp) {\n                var values = ['2-digit', 'numeric', 'narrow', 'short', 'long'];\n                var optionsPropIndex = values.indexOf(optionsProp);\n                var formatPropIndex = values.indexOf(formatProp);\n                var delta = Math.max(-2, Math.min(formatPropIndex - optionsPropIndex, 2));\n                if (delta === 2) {\n                    score -= longMorePenalty;\n                }\n                else if (delta === 1) {\n                    score -= shortMorePenalty;\n                }\n                else if (delta === -1) {\n                    score -= shortLessPenalty;\n                }\n                else if (delta === -2) {\n                    score -= longLessPenalty;\n                }\n            }\n        }\n        if (score > bestScore) {\n            bestScore = score;\n            bestFormat = format;\n        }\n    }\n    return __assign({}, bestFormat);\n}\n","import { invariant } from '../utils';\nexport function DateTimeStyleFormat(dateStyle, timeStyle, dataLocaleData) {\n    var dateFormat, timeFormat;\n    if (timeStyle !== undefined) {\n        invariant(timeStyle === 'full' ||\n            timeStyle === 'long' ||\n            timeStyle === 'medium' ||\n            timeStyle === 'short', 'invalid timeStyle');\n        timeFormat = dataLocaleData.timeFormat[timeStyle];\n    }\n    if (dateStyle !== undefined) {\n        invariant(dateStyle === 'full' ||\n            dateStyle === 'long' ||\n            dateStyle === 'medium' ||\n            dateStyle === 'short', 'invalid dateStyle');\n        dateFormat = dataLocaleData.dateFormat[dateStyle];\n    }\n    if (dateStyle !== undefined && timeStyle !== undefined) {\n        var format = {};\n        for (var field in dateFormat) {\n            if (field !== 'pattern') {\n                // @ts-ignore\n                format[field] = dateFormat[field];\n            }\n        }\n        for (var field in timeFormat) {\n            if (field !== 'pattern' && field !== 'pattern12') {\n                // @ts-ignore\n                format[field] = timeFormat[field];\n            }\n        }\n        var connector = dataLocaleData.dateTimeFormat[dateStyle];\n        var pattern = connector\n            .replace('{0}', timeFormat.pattern)\n            .replace('{1}', dateFormat.pattern);\n        format.pattern = pattern;\n        if ('pattern12' in timeFormat) {\n            var pattern12 = connector\n                .replace('{0}', timeFormat.pattern12)\n                .replace('{1}', dateFormat.pattern);\n            format.pattern12 = pattern12;\n        }\n        return format;\n    }\n    if (timeStyle !== undefined) {\n        return timeFormat;\n    }\n    invariant(dateStyle !== undefined, 'dateStyle should not be undefined');\n    return dateFormat;\n}\n","/**\n * https://tc39.es/ecma262/#sec-tostring\n */\nexport function ToString(o) {\n    // Only symbol is irregular...\n    if (typeof o === 'symbol') {\n        throw TypeError('Cannot convert a Symbol value to a string');\n    }\n    return String(o);\n}\n/**\n * https://tc39.es/ecma262/#sec-tonumber\n * @param val\n */\nexport function ToNumber(val) {\n    if (val === undefined) {\n        return NaN;\n    }\n    if (val === null) {\n        return +0;\n    }\n    if (typeof val === 'boolean') {\n        return val ? 1 : +0;\n    }\n    if (typeof val === 'number') {\n        return val;\n    }\n    if (typeof val === 'symbol' || typeof val === 'bigint') {\n        throw new TypeError('Cannot convert symbol/bigint to number');\n    }\n    return Number(val);\n}\n/**\n * https://tc39.es/ecma262/#sec-tointeger\n * @param n\n */\nfunction ToInteger(n) {\n    var number = ToNumber(n);\n    if (isNaN(number) || SameValue(number, -0)) {\n        return 0;\n    }\n    if (isFinite(number)) {\n        return number;\n    }\n    var integer = Math.floor(Math.abs(number));\n    if (number < 0) {\n        integer = -integer;\n    }\n    if (SameValue(integer, -0)) {\n        return 0;\n    }\n    return integer;\n}\n/**\n * https://tc39.es/ecma262/#sec-timeclip\n * @param time\n */\nexport function TimeClip(time) {\n    if (!isFinite(time)) {\n        return NaN;\n    }\n    if (Math.abs(time) > 8.64 * 1e16) {\n        return NaN;\n    }\n    return ToInteger(time);\n}\n/**\n * https://tc39.es/ecma262/#sec-toobject\n * @param arg\n */\nexport function ToObject(arg) {\n    if (arg == null) {\n        throw new TypeError('undefined/null cannot be converted to object');\n    }\n    return Object(arg);\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-samevalue\n * @param x\n * @param y\n */\nexport function SameValue(x, y) {\n    if (Object.is) {\n        return Object.is(x, y);\n    }\n    // SameValue algorithm\n    if (x === y) {\n        // Steps 1-5, 7-10\n        // Steps 6.b-6.e: +0 != -0\n        return x !== 0 || 1 / x === 1 / y;\n    }\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-arraycreate\n * @param len\n */\nexport function ArrayCreate(len) {\n    return new Array(len);\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-hasownproperty\n * @param o\n * @param prop\n */\nexport function HasOwnProperty(o, prop) {\n    return Object.prototype.hasOwnProperty.call(o, prop);\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-type\n * @param x\n */\nexport function Type(x) {\n    if (x === null) {\n        return 'Null';\n    }\n    if (typeof x === 'undefined') {\n        return 'Undefined';\n    }\n    if (typeof x === 'function' || typeof x === 'object') {\n        return 'Object';\n    }\n    if (typeof x === 'number') {\n        return 'Number';\n    }\n    if (typeof x === 'boolean') {\n        return 'Boolean';\n    }\n    if (typeof x === 'string') {\n        return 'String';\n    }\n    if (typeof x === 'symbol') {\n        return 'Symbol';\n    }\n    if (typeof x === 'bigint') {\n        return 'BigInt';\n    }\n}\nvar MS_PER_DAY = 86400000;\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#eqn-modulo\n * @param x\n * @param y\n * @return k of the same sign as y\n */\nfunction mod(x, y) {\n    return x - Math.floor(x / y) * y;\n}\n/**\n * https://tc39.es/ecma262/#eqn-Day\n * @param t\n */\nexport function Day(t) {\n    return Math.floor(t / MS_PER_DAY);\n}\n/**\n * https://tc39.es/ecma262/#sec-week-day\n * @param t\n */\nexport function WeekDay(t) {\n    return mod(Day(t) + 4, 7);\n}\n/**\n * https://tc39.es/ecma262/#sec-year-number\n * @param y\n */\nexport function DayFromYear(y) {\n    return (365 * (y - 1970) +\n        Math.floor((y - 1969) / 4) -\n        Math.floor((y - 1901) / 100) +\n        Math.floor((y - 1601) / 400));\n}\n/**\n * https://tc39.es/ecma262/#sec-year-number\n * @param y\n */\nexport function TimeFromYear(y) {\n    return MS_PER_DAY * DayFromYear(y);\n}\n/**\n * https://tc39.es/ecma262/#sec-year-number\n * @param t\n */\nexport function YearFromTime(t) {\n    var min = Math.ceil(t / MS_PER_DAY / 366);\n    var y = min;\n    while (TimeFromYear(y) <= t) {\n        y++;\n    }\n    return y - 1;\n}\nexport function DaysInYear(y) {\n    if (y % 4 !== 0) {\n        return 365;\n    }\n    if (y % 100 !== 0) {\n        return 366;\n    }\n    if (y % 400 !== 0) {\n        return 365;\n    }\n    return 366;\n}\nexport function DayWithinYear(t) {\n    return Day(t) - DayFromYear(YearFromTime(t));\n}\nexport function InLeapYear(t) {\n    return DaysInYear(YearFromTime(t)) === 365 ? 0 : 1;\n}\n/**\n * https://tc39.es/ecma262/#sec-month-number\n * @param t\n */\nexport function MonthFromTime(t) {\n    var dwy = DayWithinYear(t);\n    var leap = InLeapYear(t);\n    if (dwy >= 0 && dwy < 31) {\n        return 0;\n    }\n    if (dwy < 59 + leap) {\n        return 1;\n    }\n    if (dwy < 90 + leap) {\n        return 2;\n    }\n    if (dwy < 120 + leap) {\n        return 3;\n    }\n    if (dwy < 151 + leap) {\n        return 4;\n    }\n    if (dwy < 181 + leap) {\n        return 5;\n    }\n    if (dwy < 212 + leap) {\n        return 6;\n    }\n    if (dwy < 243 + leap) {\n        return 7;\n    }\n    if (dwy < 273 + leap) {\n        return 8;\n    }\n    if (dwy < 304 + leap) {\n        return 9;\n    }\n    if (dwy < 334 + leap) {\n        return 10;\n    }\n    if (dwy < 365 + leap) {\n        return 11;\n    }\n    throw new Error('Invalid time');\n}\nexport function DateFromTime(t) {\n    var dwy = DayWithinYear(t);\n    var mft = MonthFromTime(t);\n    var leap = InLeapYear(t);\n    if (mft === 0) {\n        return dwy + 1;\n    }\n    if (mft === 1) {\n        return dwy - 30;\n    }\n    if (mft === 2) {\n        return dwy - 58 - leap;\n    }\n    if (mft === 3) {\n        return dwy - 89 - leap;\n    }\n    if (mft === 4) {\n        return dwy - 119 - leap;\n    }\n    if (mft === 5) {\n        return dwy - 150 - leap;\n    }\n    if (mft === 6) {\n        return dwy - 180 - leap;\n    }\n    if (mft === 7) {\n        return dwy - 211 - leap;\n    }\n    if (mft === 8) {\n        return dwy - 242 - leap;\n    }\n    if (mft === 9) {\n        return dwy - 272 - leap;\n    }\n    if (mft === 10) {\n        return dwy - 303 - leap;\n    }\n    if (mft === 11) {\n        return dwy - 333 - leap;\n    }\n    throw new Error('Invalid time');\n}\nvar HOURS_PER_DAY = 24;\nvar MINUTES_PER_HOUR = 60;\nvar SECONDS_PER_MINUTE = 60;\nvar MS_PER_SECOND = 1e3;\nvar MS_PER_MINUTE = MS_PER_SECOND * SECONDS_PER_MINUTE;\nvar MS_PER_HOUR = MS_PER_MINUTE * MINUTES_PER_HOUR;\nexport function HourFromTime(t) {\n    return mod(Math.floor(t / MS_PER_HOUR), HOURS_PER_DAY);\n}\nexport function MinFromTime(t) {\n    return mod(Math.floor(t / MS_PER_MINUTE), MINUTES_PER_HOUR);\n}\nexport function SecFromTime(t) {\n    return mod(Math.floor(t / MS_PER_SECOND), SECONDS_PER_MINUTE);\n}\n","import { invariant } from '../utils';\nimport { Type, YearFromTime, WeekDay, MonthFromTime, DateFromTime, HourFromTime, MinFromTime, SecFromTime, } from '../262';\nfunction getApplicableZoneData(t, timeZone, tzData) {\n    var _a;\n    var zoneData = tzData[timeZone];\n    // We don't have data for this so just say it's UTC\n    if (!zoneData) {\n        return [0, false];\n    }\n    var i = 0;\n    var offset = 0;\n    var dst = false;\n    for (; i <= zoneData.length; i++) {\n        if (i === zoneData.length || zoneData[i][0] * 1e3 > t) {\n            _a = zoneData[i - 1], offset = _a[2], dst = _a[3];\n            break;\n        }\n    }\n    return [offset * 1e3, dst];\n}\n/**\n * https://tc39.es/ecma402/#sec-tolocaltime\n * @param t\n * @param calendar\n * @param timeZone\n */\nexport function ToLocalTime(t, calendar, timeZone, _a) {\n    var tzData = _a.tzData;\n    invariant(Type(t) === 'Number', 'invalid time');\n    invariant(calendar === 'gregory', 'We only support Gregory calendar right now');\n    var _b = getApplicableZoneData(t, timeZone, tzData), timeZoneOffset = _b[0], inDST = _b[1];\n    var tz = t + timeZoneOffset;\n    var year = YearFromTime(tz);\n    return {\n        weekday: WeekDay(tz),\n        era: year < 0 ? 'BC' : 'AD',\n        year: year,\n        relatedYear: undefined,\n        yearName: undefined,\n        month: MonthFromTime(tz),\n        day: DateFromTime(tz),\n        hour: HourFromTime(tz),\n        minute: MinFromTime(tz),\n        second: SecFromTime(tz),\n        inDST: inDST,\n        // IMPORTANT: Not in spec\n        timeZoneOffset: timeZoneOffset,\n    };\n}\n","import { DATE_TIME_PROPS } from './utils';\nimport { ToLocalTime } from './ToLocalTime';\nimport { TimeClip } from '../262';\nfunction pad(n) {\n    if (n < 10) {\n        return \"0\" + n;\n    }\n    return String(n);\n}\nfunction offsetToGmtString(gmtFormat, hourFormat, offsetInMs, style) {\n    var offsetInMinutes = Math.floor(offsetInMs / 60000);\n    var mins = Math.abs(offsetInMinutes) % 60;\n    var hours = Math.floor(Math.abs(offsetInMinutes) / 60);\n    var _a = hourFormat.split(';'), positivePattern = _a[0], negativePattern = _a[1];\n    var offsetStr = '';\n    var pattern = offsetInMs < 0 ? negativePattern : positivePattern;\n    if (style === 'long') {\n        offsetStr = pattern\n            .replace('HH', pad(hours))\n            .replace('H', String(hours))\n            .replace('mm', pad(mins))\n            .replace('m', String(mins));\n    }\n    else if (mins || hours) {\n        if (!mins) {\n            pattern = pattern.replace(/:?m+/, '');\n        }\n        offsetStr = pattern\n            .replace(/H+/, String(hours))\n            .replace(/m+/, String(mins));\n    }\n    return gmtFormat.replace('{0}', offsetStr);\n}\n/**\n * https://tc39.es/ecma402/#sec-partitiondatetimepattern\n * @param dtf\n * @param x\n */\nexport function FormatDateTimePattern(dtf, patternParts, x, _a) {\n    var getInternalSlots = _a.getInternalSlots, localeData = _a.localeData, getDefaultTimeZone = _a.getDefaultTimeZone, tzData = _a.tzData;\n    x = TimeClip(x);\n    /** IMPL START */\n    var internalSlots = getInternalSlots(dtf);\n    var dataLocale = internalSlots.dataLocale;\n    var dataLocaleData = localeData[dataLocale];\n    /** IMPL END */\n    var locale = internalSlots.locale;\n    var nfOptions = Object.create(null);\n    nfOptions.useGrouping = false;\n    var nf = new Intl.NumberFormat(locale, nfOptions);\n    var nf2Options = Object.create(null);\n    nf2Options.minimumIntegerDigits = 2;\n    nf2Options.useGrouping = false;\n    var nf2 = new Intl.NumberFormat(locale, nf2Options);\n    var tm = ToLocalTime(x, \n    // @ts-ignore\n    internalSlots.calendar, internalSlots.timeZone, { tzData: tzData });\n    var result = [];\n    for (var _i = 0, patternParts_1 = patternParts; _i < patternParts_1.length; _i++) {\n        var patternPart = patternParts_1[_i];\n        var p = patternPart.type;\n        if (p === 'literal') {\n            result.push({\n                type: 'literal',\n                value: patternPart.value,\n            });\n        }\n        else if (DATE_TIME_PROPS.indexOf(p) > -1) {\n            var fv = '';\n            var f = internalSlots[p];\n            // @ts-ignore\n            var v = tm[p];\n            if (p === 'year' && v <= 0) {\n                v = 1 - v;\n            }\n            if (p === 'month') {\n                v++;\n            }\n            var hourCycle = internalSlots.hourCycle;\n            if (p === 'hour' && (hourCycle === 'h11' || hourCycle === 'h12')) {\n                v = v % 12;\n                if (v === 0 && hourCycle === 'h12') {\n                    v = 12;\n                }\n            }\n            if (p === 'hour' && hourCycle === 'h24') {\n                if (v === 0) {\n                    v = 24;\n                }\n            }\n            if (f === 'numeric') {\n                fv = nf.format(v);\n            }\n            else if (f === '2-digit') {\n                fv = nf2.format(v);\n                if (fv.length > 2) {\n                    fv = fv.slice(fv.length - 2, fv.length);\n                }\n            }\n            else if (f === 'narrow' || f === 'short' || f === 'long') {\n                if (p === 'era') {\n                    fv = dataLocaleData[p][f][v];\n                }\n                else if (p === 'timeZoneName') {\n                    var timeZoneName = dataLocaleData.timeZoneName, gmtFormat = dataLocaleData.gmtFormat, hourFormat = dataLocaleData.hourFormat;\n                    var timeZone = internalSlots.timeZone || getDefaultTimeZone();\n                    var timeZoneData = timeZoneName[timeZone];\n                    if (timeZoneData && timeZoneData[f]) {\n                        fv = timeZoneData[f][+tm.inDST];\n                    }\n                    else {\n                        // Fallback to gmtFormat\n                        fv = offsetToGmtString(gmtFormat, hourFormat, tm.timeZoneOffset, f);\n                    }\n                }\n                else if (p === 'month') {\n                    fv = dataLocaleData.month[f][v - 1];\n                }\n                else {\n                    fv = dataLocaleData[p][f][v];\n                }\n            }\n            result.push({\n                type: p,\n                value: fv,\n            });\n        }\n        else if (p === 'ampm') {\n            var v = tm.hour;\n            var fv = void 0;\n            if (v > 11) {\n                fv = dataLocaleData.pm;\n            }\n            else {\n                fv = dataLocaleData.am;\n            }\n            result.push({\n                type: 'dayPeriod',\n                value: fv,\n            });\n        }\n        else if (p === 'relatedYear') {\n            var v = tm.relatedYear;\n            // @ts-ignore\n            var fv = nf.format(v);\n            result.push({\n                // @ts-ignore TODO: Fix TS type\n                type: 'relatedYear',\n                value: fv,\n            });\n        }\n        else if (p === 'yearName') {\n            var v = tm.yearName;\n            // @ts-ignore\n            var fv = nf.format(v);\n            result.push({\n                // @ts-ignore TODO: Fix TS type\n                type: 'yearName',\n                value: fv,\n            });\n        }\n    }\n    return result;\n}\n","import { invariant } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-partitionpattern\n * @param pattern\n */\nexport function PartitionPattern(pattern) {\n    var result = [];\n    var beginIndex = pattern.indexOf('{');\n    var endIndex = 0;\n    var nextIndex = 0;\n    var length = pattern.length;\n    while (beginIndex < pattern.length && beginIndex > -1) {\n        endIndex = pattern.indexOf('}', beginIndex);\n        invariant(endIndex > beginIndex, \"Invalid pattern \" + pattern);\n        if (beginIndex > nextIndex) {\n            result.push({\n                type: 'literal',\n                value: pattern.substring(nextIndex, beginIndex),\n            });\n        }\n        result.push({\n            type: pattern.substring(beginIndex + 1, endIndex),\n            value: undefined,\n        });\n        nextIndex = endIndex + 1;\n        beginIndex = pattern.indexOf('{', nextIndex);\n    }\n    if (nextIndex < length) {\n        result.push({\n            type: 'literal',\n            value: pattern.substring(nextIndex, length),\n        });\n    }\n    return result;\n}\n","import { TimeClip } from '../262';\nimport { FormatDateTimePattern, } from './FormatDateTimePattern';\nimport { PartitionPattern } from '../PartitionPattern';\n/**\n * https://tc39.es/ecma402/#sec-partitiondatetimepattern\n * @param dtf\n * @param x\n */\nexport function PartitionDateTimePattern(dtf, x, implDetails) {\n    x = TimeClip(x);\n    if (isNaN(x)) {\n        throw new RangeError('invalid time');\n    }\n    /** IMPL START */\n    var getInternalSlots = implDetails.getInternalSlots;\n    var internalSlots = getInternalSlots(dtf);\n    /** IMPL END */\n    var pattern = internalSlots.pattern;\n    return FormatDateTimePattern(dtf, PartitionPattern(pattern), x, implDetails);\n}\n","import { PartitionDateTimePattern } from './PartitionDateTimePattern';\n/**\n * https://tc39.es/ecma402/#sec-formatdatetime\n * @param dtf DateTimeFormat\n * @param x\n */\nexport function FormatDateTime(dtf, x, implDetails) {\n    var parts = PartitionDateTimePattern(dtf, x, implDetails);\n    var result = '';\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result += part.value;\n    }\n    return result;\n}\n","import { SameValue, TimeClip } from '../262';\nimport { ToLocalTime } from './ToLocalTime';\nimport { FormatDateTimePattern, } from './FormatDateTimePattern';\nimport { PartitionPattern } from '../PartitionPattern';\nvar TABLE_2_FIELDS = [\n    'era',\n    'year',\n    'month',\n    'day',\n    'ampm',\n    'hour',\n    'minute',\n    'second',\n];\nexport function PartitionDateTimeRangePattern(dtf, x, y, implDetails) {\n    x = TimeClip(x);\n    if (isNaN(x)) {\n        throw new RangeError('Invalid start time');\n    }\n    y = TimeClip(y);\n    if (isNaN(y)) {\n        throw new RangeError('Invalid end time');\n    }\n    /** IMPL START */\n    var getInternalSlots = implDetails.getInternalSlots, tzData = implDetails.tzData;\n    var internalSlots = getInternalSlots(dtf);\n    /** IMPL END */\n    var tm1 = ToLocalTime(x, \n    // @ts-ignore\n    internalSlots.calendar, internalSlots.timeZone, { tzData: tzData });\n    var tm2 = ToLocalTime(y, \n    // @ts-ignore\n    internalSlots.calendar, internalSlots.timeZone, { tzData: tzData });\n    var pattern = internalSlots.pattern, rangePatterns = internalSlots.rangePatterns;\n    var rangePattern;\n    var dateFieldsPracticallyEqual = true;\n    var patternContainsLargerDateField = false;\n    for (var _i = 0, TABLE_2_FIELDS_1 = TABLE_2_FIELDS; _i < TABLE_2_FIELDS_1.length; _i++) {\n        var fieldName = TABLE_2_FIELDS_1[_i];\n        if (dateFieldsPracticallyEqual && !patternContainsLargerDateField) {\n            if (fieldName === 'ampm') {\n                var rp = rangePatterns.ampm;\n                if (rangePattern !== undefined && rp === undefined) {\n                    patternContainsLargerDateField = true;\n                }\n                else {\n                    var v1 = tm1.hour;\n                    var v2 = tm2.hour;\n                    if ((v1 > 11 && v2 < 11) || (v1 < 11 && v2 > 11)) {\n                        dateFieldsPracticallyEqual = false;\n                    }\n                    rangePattern = rp;\n                }\n            }\n            else {\n                var rp = rangePatterns[fieldName];\n                if (rangePattern !== undefined && rp === undefined) {\n                    patternContainsLargerDateField = true;\n                }\n                else {\n                    var v1 = tm1[fieldName];\n                    var v2 = tm2[fieldName];\n                    if (!SameValue(v1, v2)) {\n                        dateFieldsPracticallyEqual = false;\n                    }\n                    rangePattern = rp;\n                }\n            }\n        }\n    }\n    if (dateFieldsPracticallyEqual) {\n        var result_2 = FormatDateTimePattern(dtf, PartitionPattern(pattern), x, implDetails);\n        for (var _a = 0, result_1 = result_2; _a < result_1.length; _a++) {\n            var r = result_1[_a];\n            r.source = \"shared\" /* shared */;\n        }\n        return result_2;\n    }\n    var result = [];\n    if (rangePattern === undefined) {\n        rangePattern = rangePatterns.default;\n        /** IMPL DETAILS */\n        // Now we have to replace {0} & {1} with actual pattern\n        for (var _b = 0, _c = rangePattern.patternParts; _b < _c.length; _b++) {\n            var patternPart = _c[_b];\n            if (patternPart.pattern === '{0}' || patternPart.pattern === '{1}') {\n                patternPart.pattern = pattern;\n            }\n        }\n    }\n    for (var _d = 0, _e = rangePattern.patternParts; _d < _e.length; _d++) {\n        var rangePatternPart = _e[_d];\n        var source = rangePatternPart.source, pattern_1 = rangePatternPart.pattern;\n        var z = void 0;\n        if (source === \"startRange\" /* startRange */ ||\n            source === \"shared\" /* shared */) {\n            z = x;\n        }\n        else {\n            z = y;\n        }\n        var patternParts = PartitionPattern(pattern_1);\n        var partResult = FormatDateTimePattern(dtf, patternParts, z, implDetails);\n        for (var _f = 0, partResult_1 = partResult; _f < partResult_1.length; _f++) {\n            var r = partResult_1[_f];\n            r.source = source;\n        }\n        result = result.concat(partResult);\n    }\n    return result;\n}\n","import { PartitionDateTimeRangePattern } from './PartitionDateTimeRangePattern';\nexport function FormatDateTimeRange(dtf, x, y, implDetails) {\n    var parts = PartitionDateTimeRangePattern(dtf, x, y, implDetails);\n    var result = '';\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result += part.value;\n    }\n    return result;\n}\n","import { PartitionDateTimeRangePattern } from './PartitionDateTimeRangePattern';\nexport function FormatDateTimeRangeToParts(dtf, x, y, implDetails) {\n    var parts = PartitionDateTimeRangePattern(dtf, x, y, implDetails);\n    var result = new Array(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result.push({\n            type: part.type,\n            value: part.value,\n            source: part.source,\n        });\n    }\n    return result;\n}\n","import { PartitionDateTimePattern } from './PartitionDateTimePattern';\nimport { ArrayCreate } from '../262';\n/**\n * https://tc39.es/ecma402/#sec-formatdatetimetoparts\n *\n * @param dtf\n * @param x\n * @param implDetails\n */\nexport function FormatDateTimeToParts(dtf, x, implDetails) {\n    var parts = PartitionDateTimePattern(dtf, x, implDetails);\n    var result = ArrayCreate(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result.push({\n            type: part.type,\n            value: part.value,\n        });\n    }\n    return result;\n}\n","import { ToObject } from '../262';\n/**\n * https://tc39.es/ecma402/#sec-todatetimeoptions\n * @param options\n * @param required\n * @param defaults\n */\nexport function ToDateTimeOptions(options, required, defaults) {\n    if (options === undefined) {\n        options = null;\n    }\n    else {\n        options = ToObject(options);\n    }\n    options = Object.create(options);\n    var needDefaults = true;\n    if (required === 'date' || required === 'any') {\n        for (var _i = 0, _a = ['weekday', 'year', 'month', 'day']; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var value = options[prop];\n            if (value !== undefined) {\n                needDefaults = false;\n            }\n        }\n    }\n    if (required === 'time' || required === 'any') {\n        for (var _b = 0, _c = ['hour', 'minute', 'second']; _b < _c.length; _b++) {\n            var prop = _c[_b];\n            var value = options[prop];\n            if (value !== undefined) {\n                needDefaults = false;\n            }\n        }\n    }\n    if (options.dateStyle !== undefined || options.timeStyle !== undefined) {\n        needDefaults = false;\n    }\n    if (required === 'date' && options.timeStyle) {\n        throw new TypeError('Intl.DateTimeFormat date was required but timeStyle was included');\n    }\n    if (required === 'time' && options.dateStyle) {\n        throw new TypeError('Intl.DateTimeFormat time was required but dateStyle was included');\n    }\n    if (needDefaults && (defaults === 'date' || defaults === 'all')) {\n        for (var _d = 0, _e = ['year', 'month', 'day']; _d < _e.length; _d++) {\n            var prop = _e[_d];\n            options[prop] = 'numeric';\n        }\n    }\n    if (needDefaults && (defaults === 'time' || defaults === 'all')) {\n        for (var _f = 0, _g = ['hour', 'minute', 'second']; _f < _g.length; _f++) {\n            var prop = _g[_f];\n            options[prop] = 'numeric';\n        }\n    }\n    return options;\n}\n","import { ToString } from './262';\n/**\n * https://tc39.es/ecma402/#sec-getoption\n * @param opts\n * @param prop\n * @param type\n * @param values\n * @param fallback\n */\nexport function GetOption(opts, prop, type, values, fallback) {\n    // const descriptor = Object.getOwnPropertyDescriptor(opts, prop);\n    var value = opts[prop];\n    if (value !== undefined) {\n        if (type !== 'boolean' && type !== 'string') {\n            throw new TypeError('invalid type');\n        }\n        if (type === 'boolean') {\n            value = Boolean(value);\n        }\n        if (type === 'string') {\n            value = ToString(value);\n        }\n        if (values !== undefined && !values.filter(function (val) { return val == value; }).length) {\n            throw new RangeError(value + \" is not within \" + values.join(', '));\n        }\n        return value;\n    }\n    return fallback;\n}\n","/**\n * https://tc39.es/ecma402/#sec-bestavailablelocale\n * @param availableLocales\n * @param locale\n */\nexport function BestAvailableLocale(availableLocales, locale) {\n    var candidate = locale;\n    while (true) {\n        if (availableLocales.has(candidate)) {\n            return candidate;\n        }\n        var pos = candidate.lastIndexOf('-');\n        if (!~pos) {\n            return undefined;\n        }\n        if (pos >= 2 && candidate[pos - 2] === '-') {\n            pos -= 2;\n        }\n        candidate = candidate.slice(0, pos);\n    }\n}\n","import { invariant } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-unicodeextensionvalue\n * @param extension\n * @param key\n */\nexport function UnicodeExtensionValue(extension, key) {\n    invariant(key.length === 2, 'key must have 2 elements');\n    var size = extension.length;\n    var searchValue = \"-\" + key + \"-\";\n    var pos = extension.indexOf(searchValue);\n    if (pos !== -1) {\n        var start = pos + 4;\n        var end = start;\n        var k = start;\n        var done = false;\n        while (!done) {\n            var e = extension.indexOf('-', k);\n            var len = void 0;\n            if (e === -1) {\n                len = size - k;\n            }\n            else {\n                len = e - k;\n            }\n            if (len === 2) {\n                done = true;\n            }\n            else if (e === -1) {\n                end = size;\n                done = true;\n            }\n            else {\n                end = e;\n                k = e + 1;\n            }\n        }\n        return extension.slice(start, end);\n    }\n    searchValue = \"-\" + key;\n    pos = extension.indexOf(searchValue);\n    if (pos !== -1 && pos + 3 === size) {\n        return '';\n    }\n    return undefined;\n}\n","import { LookupMatcher } from './LookupMatcher';\nimport { BestFitMatcher } from './BestFitMatcher';\nimport { invariant } from './utils';\nimport { UnicodeExtensionValue } from './UnicodeExtensionValue';\n/**\n * https://tc39.es/ecma402/#sec-resolvelocale\n */\nexport function ResolveLocale(availableLocales, requestedLocales, options, relevantExtensionKeys, localeData, getDefaultLocale) {\n    var matcher = options.localeMatcher;\n    var r;\n    if (matcher === 'lookup') {\n        r = LookupMatcher(availableLocales, requestedLocales, getDefaultLocale);\n    }\n    else {\n        r = BestFitMatcher(availableLocales, requestedLocales, getDefaultLocale);\n    }\n    var foundLocale = r.locale;\n    var result = { locale: '', dataLocale: foundLocale };\n    var supportedExtension = '-u';\n    for (var _i = 0, relevantExtensionKeys_1 = relevantExtensionKeys; _i < relevantExtensionKeys_1.length; _i++) {\n        var key = relevantExtensionKeys_1[_i];\n        invariant(foundLocale in localeData, \"Missing locale data for \" + foundLocale);\n        var foundLocaleData = localeData[foundLocale];\n        invariant(typeof foundLocaleData === 'object' && foundLocaleData !== null, \"locale data \" + key + \" must be an object\");\n        var keyLocaleData = foundLocaleData[key];\n        invariant(Array.isArray(keyLocaleData), \"keyLocaleData for \" + key + \" must be an array\");\n        var value = keyLocaleData[0];\n        invariant(typeof value === 'string' || value === null, \"value must be string or null but got \" + typeof value + \" in key \" + key);\n        var supportedExtensionAddition = '';\n        if (r.extension) {\n            var requestedValue = UnicodeExtensionValue(r.extension, key);\n            if (requestedValue !== undefined) {\n                if (requestedValue !== '') {\n                    if (~keyLocaleData.indexOf(requestedValue)) {\n                        value = requestedValue;\n                        supportedExtensionAddition = \"-\" + key + \"-\" + value;\n                    }\n                }\n                else if (~requestedValue.indexOf('true')) {\n                    value = 'true';\n                    supportedExtensionAddition = \"-\" + key;\n                }\n            }\n        }\n        if (key in options) {\n            var optionsValue = options[key];\n            invariant(typeof optionsValue === 'string' ||\n                typeof optionsValue === 'undefined' ||\n                optionsValue === null, 'optionsValue must be String, Undefined or Null');\n            if (~keyLocaleData.indexOf(optionsValue)) {\n                if (optionsValue !== value) {\n                    value = optionsValue;\n                    supportedExtensionAddition = '';\n                }\n            }\n        }\n        result[key] = value;\n        supportedExtension += supportedExtensionAddition;\n    }\n    if (supportedExtension.length > 2) {\n        var privateIndex = foundLocale.indexOf('-x-');\n        if (privateIndex === -1) {\n            foundLocale = foundLocale + supportedExtension;\n        }\n        else {\n            var preExtension = foundLocale.slice(0, privateIndex);\n            var postExtension = foundLocale.slice(privateIndex, foundLocale.length);\n            foundLocale = preExtension + supportedExtension + postExtension;\n        }\n        foundLocale = Intl.getCanonicalLocales(foundLocale)[0];\n    }\n    result.locale = foundLocale;\n    return result;\n}\n","import { UNICODE_EXTENSION_SEQUENCE_REGEX } from './utils';\nimport { BestAvailableLocale } from './BestAvailableLocale';\n/**\n * https://tc39.es/ecma402/#sec-lookupmatcher\n * @param availableLocales\n * @param requestedLocales\n * @param getDefaultLocale\n */\nexport function LookupMatcher(availableLocales, requestedLocales, getDefaultLocale) {\n    var result = { locale: '' };\n    for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n        var locale = requestedLocales_1[_i];\n        var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n        var availableLocale = BestAvailableLocale(availableLocales, noExtensionLocale);\n        if (availableLocale) {\n            result.locale = availableLocale;\n            if (locale !== noExtensionLocale) {\n                result.extension = locale.slice(noExtensionLocale.length + 1, locale.length);\n            }\n            return result;\n        }\n    }\n    result.locale = getDefaultLocale();\n    return result;\n}\n","import { BestAvailableLocale } from './BestAvailableLocale';\nimport { UNICODE_EXTENSION_SEQUENCE_REGEX } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-bestfitmatcher\n * @param availableLocales\n * @param requestedLocales\n * @param getDefaultLocale\n */\nexport function BestFitMatcher(availableLocales, requestedLocales, getDefaultLocale) {\n    var minimizedAvailableLocaleMap = {};\n    var minimizedAvailableLocales = new Set();\n    availableLocales.forEach(function (locale) {\n        var minimizedLocale = new Intl.Locale(locale)\n            .minimize()\n            .toString();\n        minimizedAvailableLocaleMap[minimizedLocale] = locale;\n        minimizedAvailableLocales.add(minimizedLocale);\n    });\n    var foundLocale;\n    for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n        var l = requestedLocales_1[_i];\n        if (foundLocale) {\n            break;\n        }\n        var noExtensionLocale = l.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n        if (availableLocales.has(noExtensionLocale)) {\n            foundLocale = noExtensionLocale;\n            break;\n        }\n        if (minimizedAvailableLocales.has(noExtensionLocale)) {\n            foundLocale = minimizedAvailableLocaleMap[noExtensionLocale];\n            break;\n        }\n        var locale = new Intl.Locale(noExtensionLocale);\n        var maximizedRequestedLocale = locale.maximize().toString();\n        var minimizedRequestedLocale = locale.minimize().toString();\n        // Check minimized locale\n        if (minimizedAvailableLocales.has(minimizedRequestedLocale)) {\n            foundLocale = minimizedAvailableLocaleMap[minimizedRequestedLocale];\n            break;\n        }\n        // Lookup algo on maximized locale\n        foundLocale = BestAvailableLocale(minimizedAvailableLocales, maximizedRequestedLocale);\n    }\n    return {\n        locale: foundLocale || getDefaultLocale(),\n    };\n}\n","/**\n * https://tc39.es/ecma402/#sec-isvalidtimezonename\n * @param tz\n * @param implDetails implementation details\n */\nexport function IsValidTimeZoneName(tz, _a) {\n    var tzData = _a.tzData, uppercaseLinks = _a.uppercaseLinks;\n    var uppercasedTz = tz.toUpperCase();\n    var zoneNames = new Set();\n    Object.keys(tzData)\n        .map(function (z) { return z.toUpperCase(); })\n        .forEach(function (z) { return zoneNames.add(z); });\n    return zoneNames.has(uppercasedTz) || uppercasedTz in uppercaseLinks;\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { ToDateTimeOptions } from './ToDateTimeOptions';\nimport { GetOption } from '../GetOption';\nimport { ResolveLocale } from '../ResolveLocale';\nimport { IsValidTimeZoneName } from '../IsValidTimeZoneName';\nimport { CanonicalizeTimeZoneName } from '../CanonicalizeTimeZoneName';\nimport { BasicFormatMatcher } from './BasicFormatMatcher';\nimport { BestFitFormatMatcher } from './BestFitFormatMatcher';\nimport { invariant } from '../utils';\nimport { DATE_TIME_PROPS } from './utils';\nimport { DateTimeStyleFormat } from './DateTimeStyleFormat';\nfunction isTimeRelated(opt) {\n    for (var _i = 0, _a = ['hour', 'minute', 'second']; _i < _a.length; _i++) {\n        var prop = _a[_i];\n        var value = opt[prop];\n        if (value !== undefined) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction resolveHourCycle(hc, hcDefault, hour12) {\n    if (hc == null) {\n        hc = hcDefault;\n    }\n    if (hour12 !== undefined) {\n        if (hour12) {\n            if (hcDefault === 'h11' || hcDefault === 'h23') {\n                hc = 'h11';\n            }\n            else {\n                hc = 'h12';\n            }\n        }\n        else {\n            invariant(!hour12, 'hour12 must not be set');\n            if (hcDefault === 'h11' || hcDefault === 'h23') {\n                hc = 'h23';\n            }\n            else {\n                hc = 'h24';\n            }\n        }\n    }\n    return hc;\n}\nvar TYPE_REGEX = /^[a-z0-9]{3,8}$/i;\n/**\n * https://tc39.es/ecma402/#sec-initializedatetimeformat\n * @param dtf DateTimeFormat\n * @param locales locales\n * @param opts options\n */\nexport function InitializeDateTimeFormat(dtf, locales, opts, _a) {\n    var getInternalSlots = _a.getInternalSlots, availableLocales = _a.availableLocales, localeData = _a.localeData, getDefaultLocale = _a.getDefaultLocale, getDefaultTimeZone = _a.getDefaultTimeZone, relevantExtensionKeys = _a.relevantExtensionKeys, tzData = _a.tzData, uppercaseLinks = _a.uppercaseLinks;\n    // @ts-ignore\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var options = ToDateTimeOptions(opts, 'any', 'date');\n    var opt = Object.create(null);\n    var matcher = GetOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');\n    opt.localeMatcher = matcher;\n    var calendar = GetOption(options, 'calendar', 'string', undefined, undefined);\n    if (calendar !== undefined && !TYPE_REGEX.test(calendar)) {\n        throw new RangeError('Malformed calendar');\n    }\n    var internalSlots = getInternalSlots(dtf);\n    opt.ca = calendar;\n    var numberingSystem = GetOption(options, 'numberingSystem', 'string', undefined, undefined);\n    if (numberingSystem !== undefined && !TYPE_REGEX.test(numberingSystem)) {\n        throw new RangeError('Malformed numbering system');\n    }\n    opt.nu = numberingSystem;\n    var hour12 = GetOption(options, 'hour12', 'boolean', undefined, undefined);\n    var hourCycle = GetOption(options, 'hourCycle', 'string', ['h11', 'h12', 'h23', 'h24'], undefined);\n    if (hour12 !== undefined) {\n        // @ts-ignore\n        hourCycle = null;\n    }\n    opt.hc = hourCycle;\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n    internalSlots.locale = r.locale;\n    calendar = r.ca;\n    internalSlots.calendar = calendar;\n    internalSlots.hourCycle = r.hc;\n    internalSlots.numberingSystem = r.nu;\n    var dataLocale = r.dataLocale;\n    internalSlots.dataLocale = dataLocale;\n    var timeZone = options.timeZone;\n    if (timeZone !== undefined) {\n        timeZone = String(timeZone);\n        if (!IsValidTimeZoneName(timeZone, { tzData: tzData, uppercaseLinks: uppercaseLinks })) {\n            throw new RangeError('Invalid timeZoneName');\n        }\n        timeZone = CanonicalizeTimeZoneName(timeZone, { tzData: tzData, uppercaseLinks: uppercaseLinks });\n    }\n    else {\n        timeZone = getDefaultTimeZone();\n    }\n    internalSlots.timeZone = timeZone;\n    opt = Object.create(null);\n    opt.weekday = GetOption(options, 'weekday', 'string', ['narrow', 'short', 'long'], undefined);\n    opt.era = GetOption(options, 'era', 'string', ['narrow', 'short', 'long'], undefined);\n    opt.year = GetOption(options, 'year', 'string', ['2-digit', 'numeric'], undefined);\n    opt.month = GetOption(options, 'month', 'string', ['2-digit', 'numeric', 'narrow', 'short', 'long'], undefined);\n    opt.day = GetOption(options, 'day', 'string', ['2-digit', 'numeric'], undefined);\n    opt.hour = GetOption(options, 'hour', 'string', ['2-digit', 'numeric'], undefined);\n    opt.minute = GetOption(options, 'minute', 'string', ['2-digit', 'numeric'], undefined);\n    opt.second = GetOption(options, 'second', 'string', ['2-digit', 'numeric'], undefined);\n    opt.timeZoneName = GetOption(options, 'timeZoneName', 'string', ['short', 'long'], undefined);\n    var dataLocaleData = localeData[dataLocale];\n    invariant(!!dataLocaleData, \"Missing locale data for \" + dataLocale);\n    var formats = dataLocaleData.formats[calendar];\n    // UNSPECCED: IMPLEMENTATION DETAILS\n    if (!formats) {\n        throw new RangeError(\"Calendar \\\"\" + calendar + \"\\\" is not supported. Try setting \\\"calendar\\\" to 1 of the following: \" + Object.keys(dataLocaleData.formats).join(', '));\n    }\n    matcher = GetOption(options, 'formatMatcher', 'string', ['basic', 'best fit'], 'best fit');\n    var dateStyle = GetOption(options, 'dateStyle', 'string', ['full', 'long', 'medium', 'short'], undefined);\n    internalSlots.dateStyle = dateStyle;\n    var timeStyle = GetOption(options, 'timeStyle', 'string', ['full', 'long', 'medium', 'short'], undefined);\n    internalSlots.timeStyle = timeStyle;\n    var bestFormat;\n    if (dateStyle === undefined && timeStyle === undefined) {\n        if (matcher === 'basic') {\n            bestFormat = BasicFormatMatcher(opt, formats);\n        }\n        else {\n            // IMPL DETAILS START\n            if (isTimeRelated(opt)) {\n                var hc = resolveHourCycle(internalSlots.hourCycle, dataLocaleData.hourCycle, hour12);\n                opt.hour12 = hc === 'h11' || hc === 'h12';\n            }\n            // IMPL DETAILS END\n            bestFormat = BestFitFormatMatcher(opt, formats);\n        }\n    }\n    else {\n        for (var _i = 0, DATE_TIME_PROPS_1 = DATE_TIME_PROPS; _i < DATE_TIME_PROPS_1.length; _i++) {\n            var prop = DATE_TIME_PROPS_1[_i];\n            var p = opt[prop];\n            if (p !== undefined) {\n                throw new TypeError(\"Intl.DateTimeFormat can't set option \" + prop + \" when \" + (dateStyle ? 'dateStyle' : 'timeStyle') + \" is used\");\n            }\n        }\n        bestFormat = DateTimeStyleFormat(dateStyle, timeStyle, dataLocaleData);\n    }\n    // IMPL DETAIL START\n    // For debugging\n    internalSlots.format = bestFormat;\n    // IMPL DETAIL END\n    for (var prop in opt) {\n        var p = bestFormat[prop];\n        if (p !== undefined) {\n            internalSlots[prop] = p;\n        }\n    }\n    var pattern;\n    var rangePatterns;\n    if (internalSlots.hour !== undefined) {\n        var hc = resolveHourCycle(internalSlots.hourCycle, dataLocaleData.hourCycle, hour12);\n        internalSlots.hourCycle = hc;\n        if (hc === 'h11' || hc === 'h12') {\n            pattern = bestFormat.pattern12;\n            rangePatterns = bestFormat.rangePatterns12;\n        }\n        else {\n            pattern = bestFormat.pattern;\n            rangePatterns = bestFormat.rangePatterns;\n        }\n    }\n    else {\n        // @ts-ignore\n        internalSlots.hourCycle = undefined;\n        pattern = bestFormat.pattern;\n        rangePatterns = bestFormat.rangePatterns;\n    }\n    internalSlots.pattern = pattern;\n    internalSlots.rangePatterns = rangePatterns;\n    return dtf;\n}\n","/**\n * This follows https://tc39.es/ecma402/#sec-case-sensitivity-and-case-mapping\n * @param str string to convert\n */\nfunction toUpperCase(str) {\n    return str.replace(/([a-z])/g, function (_, c) { return c.toUpperCase(); });\n}\nvar NOT_A_Z_REGEX = /[^A-Z]/;\n/**\n * https://tc39.es/ecma402/#sec-iswellformedcurrencycode\n */\nexport function IsWellFormedCurrencyCode(currency) {\n    currency = toUpperCase(currency);\n    if (currency.length !== 3) {\n        return false;\n    }\n    if (NOT_A_Z_REGEX.test(currency)) {\n        return false;\n    }\n    return true;\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { invariant } from '../utils';\nimport { IsWellFormedCurrencyCode } from '../IsWellFormedCurrencyCode';\nvar UNICODE_REGION_SUBTAG_REGEX = /^([a-z]{2}|[0-9]{3})$/i;\nvar ALPHA_4 = /^[a-z]{4}$/i;\nfunction isUnicodeRegionSubtag(region) {\n    return UNICODE_REGION_SUBTAG_REGEX.test(region);\n}\nfunction isUnicodeScriptSubtag(script) {\n    return ALPHA_4.test(script);\n}\nexport function CanonicalCodeForDisplayNames(type, code) {\n    if (type === 'language') {\n        return CanonicalizeLocaleList([code])[0];\n    }\n    if (type === 'region') {\n        if (!isUnicodeRegionSubtag(code)) {\n            throw RangeError('invalid region');\n        }\n        return code.toUpperCase();\n    }\n    if (type === 'script') {\n        if (!isUnicodeScriptSubtag(code)) {\n            throw RangeError('invalid script');\n        }\n        return \"\" + code[0].toUpperCase() + code.slice(1);\n    }\n    invariant(type === 'currency', 'invalid type');\n    if (!IsWellFormedCurrencyCode(code)) {\n        throw RangeError('invalid currency');\n    }\n    return code.toUpperCase();\n}\n","/**\n * https://tc39.es/ecma402/#sec-defaultnumberoption\n * @param val\n * @param min\n * @param max\n * @param fallback\n */\nexport function DefaultNumberOption(val, min, max, fallback) {\n    if (val !== undefined) {\n        val = Number(val);\n        if (isNaN(val) || val < min || val > max) {\n            throw new RangeError(val + \" is outside of range [\" + min + \", \" + max + \"]\");\n        }\n        return Math.floor(val);\n    }\n    return fallback;\n}\n","/**\n * https://tc39.es/ecma402/#sec-getnumberoption\n * @param options\n * @param property\n * @param min\n * @param max\n * @param fallback\n */\nimport { DefaultNumberOption } from './DefaultNumberOption';\nexport function GetNumberOption(options, property, minimum, maximum, fallback) {\n    var val = options[property];\n    return DefaultNumberOption(val, minimum, maximum, fallback);\n}\n","/**\n * https://tc39.es/ecma402/#table-sanctioned-simple-unit-identifiers\n */\nexport var SANCTIONED_UNITS = [\n    'angle-degree',\n    'area-acre',\n    'area-hectare',\n    'concentr-percent',\n    'digital-bit',\n    'digital-byte',\n    'digital-gigabit',\n    'digital-gigabyte',\n    'digital-kilobit',\n    'digital-kilobyte',\n    'digital-megabit',\n    'digital-megabyte',\n    'digital-petabyte',\n    'digital-terabit',\n    'digital-terabyte',\n    'duration-day',\n    'duration-hour',\n    'duration-millisecond',\n    'duration-minute',\n    'duration-month',\n    'duration-second',\n    'duration-week',\n    'duration-year',\n    'length-centimeter',\n    'length-foot',\n    'length-inch',\n    'length-kilometer',\n    'length-meter',\n    'length-mile-scandinavian',\n    'length-mile',\n    'length-millimeter',\n    'length-yard',\n    'mass-gram',\n    'mass-kilogram',\n    'mass-ounce',\n    'mass-pound',\n    'mass-stone',\n    'temperature-celsius',\n    'temperature-fahrenheit',\n    'volume-fluid-ounce',\n    'volume-gallon',\n    'volume-liter',\n    'volume-milliliter',\n];\n// In CLDR, the unit name always follows the form `namespace-unit` pattern.\n// For example: `digital-bit` instead of `bit`. This function removes the namespace prefix.\nexport function removeUnitNamespace(unit) {\n    return unit.slice(unit.indexOf('-') + 1);\n}\n/**\n * https://tc39.es/ecma402/#table-sanctioned-simple-unit-identifiers\n */\nexport var SIMPLE_UNITS = SANCTIONED_UNITS.map(removeUnitNamespace);\n/**\n * https://tc39.es/ecma402/#sec-issanctionedsimpleunitidentifier\n */\nexport function IsSanctionedSimpleUnitIdentifier(unitIdentifier) {\n    return SIMPLE_UNITS.indexOf(unitIdentifier) > -1;\n}\n","import { IsSanctionedSimpleUnitIdentifier } from './IsSanctionedSimpleUnitIdentifier';\n/**\n * This follows https://tc39.es/ecma402/#sec-case-sensitivity-and-case-mapping\n * @param str string to convert\n */\nfunction toLowerCase(str) {\n    return str.replace(/([A-Z])/g, function (_, c) { return c.toLowerCase(); });\n}\n/**\n * https://tc39.es/ecma402/#sec-iswellformedunitidentifier\n * @param unit\n */\nexport function IsWellFormedUnitIdentifier(unit) {\n    unit = toLowerCase(unit);\n    if (IsSanctionedSimpleUnitIdentifier(unit)) {\n        return true;\n    }\n    var units = unit.split('-per-');\n    if (units.length !== 2) {\n        return false;\n    }\n    var numerator = units[0], denominator = units[1];\n    if (!IsSanctionedSimpleUnitIdentifier(numerator) ||\n        !IsSanctionedSimpleUnitIdentifier(denominator)) {\n        return false;\n    }\n    return true;\n}\n","/**\n * The abstract operation ComputeExponentForMagnitude computes an exponent by which to scale a\n * number of the given magnitude (power of ten of the most significant digit) according to the\n * locale and the desired notation (scientific, engineering, or compact).\n */\nexport function ComputeExponentForMagnitude(numberFormat, magnitude, _a) {\n    var getInternalSlots = _a.getInternalSlots;\n    var internalSlots = getInternalSlots(numberFormat);\n    var notation = internalSlots.notation, dataLocaleData = internalSlots.dataLocaleData, numberingSystem = internalSlots.numberingSystem;\n    switch (notation) {\n        case 'standard':\n            return 0;\n        case 'scientific':\n            return magnitude;\n        case 'engineering':\n            return Math.floor(magnitude / 3) * 3;\n        default: {\n            // Let exponent be an implementation- and locale-dependent (ILD) integer by which to scale a\n            // number of the given magnitude in compact notation for the current locale.\n            var compactDisplay = internalSlots.compactDisplay, style = internalSlots.style, currencyDisplay = internalSlots.currencyDisplay;\n            var thresholdMap = void 0;\n            if (style === 'currency' && currencyDisplay !== 'name') {\n                var currency = dataLocaleData.numbers.currency[numberingSystem] ||\n                    dataLocaleData.numbers.currency[dataLocaleData.numbers.nu[0]];\n                thresholdMap = currency.short;\n            }\n            else {\n                var decimal = dataLocaleData.numbers.decimal[numberingSystem] ||\n                    dataLocaleData.numbers.decimal[dataLocaleData.numbers.nu[0]];\n                thresholdMap = compactDisplay === 'long' ? decimal.long : decimal.short;\n            }\n            if (!thresholdMap) {\n                return 0;\n            }\n            var num = String(Math.pow(10, magnitude));\n            var thresholds = Object.keys(thresholdMap); // TODO: this can be pre-processed\n            if (num < thresholds[0]) {\n                return 0;\n            }\n            if (num > thresholds[thresholds.length - 1]) {\n                return thresholds[thresholds.length - 1].length - 1;\n            }\n            var i = thresholds.indexOf(num);\n            if (i === -1) {\n                return 0;\n            }\n            // See https://unicode.org/reports/tr35/tr35-numbers.html#Compact_Number_Formats\n            // Special handling if the pattern is precisely `0`.\n            var magnitudeKey = thresholds[i];\n            // TODO: do we need to handle plural here?\n            var compactPattern = thresholdMap[magnitudeKey].other;\n            if (compactPattern === '0') {\n                return 0;\n            }\n            // Example: in zh-TW, `10000000` maps to `0000萬`. So we need to return 8 - 4 = 4 here.\n            return (magnitudeKey.length -\n                thresholdMap[magnitudeKey].other.match(/0+/)[0].length);\n        }\n    }\n}\n","import { repeat, getMagnitude } from '../utils';\nexport function ToRawPrecision(x, minPrecision, maxPrecision) {\n    var p = maxPrecision;\n    var m;\n    var e;\n    var xFinal;\n    if (x === 0) {\n        m = repeat('0', p);\n        e = 0;\n        xFinal = 0;\n    }\n    else {\n        var xToString = x.toString();\n        // If xToString is formatted as scientific notation, the number is either very small or very\n        // large. If the precision of the formatted string is lower that requested max precision, we\n        // should still infer them from the formatted string, otherwise the formatted result might have\n        // precision loss (e.g. 1e41 will not have 0 in every trailing digits).\n        var xToStringExponentIndex = xToString.indexOf('e');\n        var _a = xToString.split('e'), xToStringMantissa = _a[0], xToStringExponent = _a[1];\n        var xToStringMantissaWithoutDecimalPoint = xToStringMantissa.replace('.', '');\n        if (xToStringExponentIndex >= 0 &&\n            xToStringMantissaWithoutDecimalPoint.length <= p) {\n            e = +xToStringExponent;\n            m =\n                xToStringMantissaWithoutDecimalPoint +\n                    repeat('0', p - xToStringMantissaWithoutDecimalPoint.length);\n            xFinal = x;\n        }\n        else {\n            e = getMagnitude(x);\n            var decimalPlaceOffset = e - p + 1;\n            // n is the integer containing the required precision digits. To derive the formatted string,\n            // we will adjust its decimal place in the logic below.\n            var n = Math.round(adjustDecimalPlace(x, decimalPlaceOffset));\n            // The rounding caused the change of magnitude, so we should increment `e` by 1.\n            if (adjustDecimalPlace(n, p - 1) >= 10) {\n                e = e + 1;\n                // Divide n by 10 to swallow one precision.\n                n = Math.floor(n / 10);\n            }\n            m = n.toString();\n            // Equivalent of n * 10 ** (e - p + 1)\n            xFinal = adjustDecimalPlace(n, p - 1 - e);\n        }\n    }\n    var int;\n    if (e >= p - 1) {\n        m = m + repeat('0', e - p + 1);\n        int = e + 1;\n    }\n    else if (e >= 0) {\n        m = m.slice(0, e + 1) + \".\" + m.slice(e + 1);\n        int = e + 1;\n    }\n    else {\n        m = \"0.\" + repeat('0', -e - 1) + m;\n        int = 1;\n    }\n    if (m.indexOf('.') >= 0 && maxPrecision > minPrecision) {\n        var cut = maxPrecision - minPrecision;\n        while (cut > 0 && m[m.length - 1] === '0') {\n            m = m.slice(0, -1);\n            cut--;\n        }\n        if (m[m.length - 1] === '.') {\n            m = m.slice(0, -1);\n        }\n    }\n    return { formattedString: m, roundedNumber: xFinal, integerDigitsCount: int };\n    // x / (10 ** magnitude), but try to preserve as much floating point precision as possible.\n    function adjustDecimalPlace(x, magnitude) {\n        return magnitude < 0 ? x * Math.pow(10, -magnitude) : x / Math.pow(10, magnitude);\n    }\n}\n","import { repeat } from '../utils';\n/**\n * TODO: dedup with intl-pluralrules and support BigInt\n * https://tc39.es/ecma402/#sec-torawfixed\n * @param x a finite non-negative Number or BigInt\n * @param minFraction and integer between 0 and 20\n * @param maxFraction and integer between 0 and 20\n */\nexport function ToRawFixed(x, minFraction, maxFraction) {\n    var f = maxFraction;\n    var n = Math.round(x * Math.pow(10, f));\n    var xFinal = n / Math.pow(10, f);\n    // n is a positive integer, but it is possible to be greater than 1e21.\n    // In such case we will go the slow path.\n    // See also: https://tc39.es/ecma262/#sec-numeric-types-number-tostring\n    var m;\n    if (n < 1e21) {\n        m = n.toString();\n    }\n    else {\n        m = n.toString();\n        var _a = m.split('e'), mantissa = _a[0], exponent = _a[1];\n        m = mantissa.replace('.', '');\n        m = m + repeat('0', Math.max(+exponent - m.length + 1, 0));\n    }\n    var int;\n    if (f !== 0) {\n        var k = m.length;\n        if (k <= f) {\n            var z = repeat('0', f + 1 - k);\n            m = z + m;\n            k = f + 1;\n        }\n        var a = m.slice(0, k - f);\n        var b = m.slice(k - f);\n        m = a + \".\" + b;\n        int = a.length;\n    }\n    else {\n        int = m.length;\n    }\n    var cut = maxFraction - minFraction;\n    while (cut > 0 && m[m.length - 1] === '0') {\n        m = m.slice(0, -1);\n        cut--;\n    }\n    if (m[m.length - 1] === '.') {\n        m = m.slice(0, -1);\n    }\n    return { formattedString: m, roundedNumber: xFinal, integerDigitsCount: int };\n}\n","import { SameValue } from '../262';\nimport { ToRawPrecision } from './ToRawPrecision';\nimport { repeat } from '../utils';\nimport { ToRawFixed } from './ToRawFixed';\n/**\n * https://tc39.es/ecma402/#sec-formatnumberstring\n */\nexport function FormatNumericToString(intlObject, x) {\n    var isNegative = x < 0 || SameValue(x, -0);\n    if (isNegative) {\n        x = -x;\n    }\n    var result;\n    var rourndingType = intlObject.roundingType;\n    switch (rourndingType) {\n        case 'significantDigits':\n            result = ToRawPrecision(x, intlObject.minimumSignificantDigits, intlObject.maximumSignificantDigits);\n            break;\n        case 'fractionDigits':\n            result = ToRawFixed(x, intlObject.minimumFractionDigits, intlObject.maximumFractionDigits);\n            break;\n        default:\n            result = ToRawPrecision(x, 1, 2);\n            if (result.integerDigitsCount > 1) {\n                result = ToRawFixed(x, 0, 0);\n            }\n            break;\n    }\n    x = result.roundedNumber;\n    var string = result.formattedString;\n    var int = result.integerDigitsCount;\n    var minInteger = intlObject.minimumIntegerDigits;\n    if (int < minInteger) {\n        var forwardZeros = repeat('0', minInteger - int);\n        string = forwardZeros + string;\n    }\n    if (isNegative) {\n        x = -x;\n    }\n    return { roundedNumber: x, formattedString: string };\n}\n","import { getMagnitude } from '../utils';\nimport { ComputeExponentForMagnitude } from './ComputeExponentForMagnitude';\nimport { FormatNumericToString } from './FormatNumericToString';\n/**\n * The abstract operation ComputeExponent computes an exponent (power of ten) by which to scale x\n * according to the number formatting settings. It handles cases such as 999 rounding up to 1000,\n * requiring a different exponent.\n *\n * NOT IN SPEC: it returns [exponent, magnitude].\n */\nexport function ComputeExponent(numberFormat, x, _a) {\n    var getInternalSlots = _a.getInternalSlots;\n    if (x === 0) {\n        return [0, 0];\n    }\n    if (x < 0) {\n        x = -x;\n    }\n    var magnitude = getMagnitude(x);\n    var exponent = ComputeExponentForMagnitude(numberFormat, magnitude, {\n        getInternalSlots: getInternalSlots,\n    });\n    // Preserve more precision by doing multiplication when exponent is negative.\n    x = exponent < 0 ? x * Math.pow(10, -exponent) : x / Math.pow(10, exponent);\n    var formatNumberResult = FormatNumericToString(getInternalSlots(numberFormat), x);\n    if (formatNumberResult.roundedNumber === 0) {\n        return [exponent, magnitude];\n    }\n    var newMagnitude = getMagnitude(formatNumberResult.roundedNumber);\n    if (newMagnitude === magnitude - exponent) {\n        return [exponent, magnitude];\n    }\n    return [\n        ComputeExponentForMagnitude(numberFormat, magnitude + 1, {\n            getInternalSlots: getInternalSlots,\n        }),\n        magnitude + 1,\n    ];\n}\n","import { HasOwnProperty } from '../262';\n/**\n * https://tc39.es/ecma402/#sec-currencydigits\n */\nexport function CurrencyDigits(c, _a) {\n    var currencyDigitsData = _a.currencyDigitsData;\n    return HasOwnProperty(currencyDigitsData, c)\n        ? currencyDigitsData[c]\n        : 2;\n}\n","import { ToRawFixed } from './ToRawFixed';\nimport * as digitMapping from './digit-mapping.json';\n// This is from: unicode-12.1.0/General_Category/Symbol/regex.js\n// IE11 does not support unicode flag, otherwise this is just /\\p{S}/u.\nvar S_UNICODE_REGEX = /[\\$\\+<->\\^`\\|~\\xA2-\\xA6\\xA8\\xA9\\xAC\\xAE-\\xB1\\xB4\\xB8\\xD7\\xF7\\u02C2-\\u02C5\\u02D2-\\u02DF\\u02E5-\\u02EB\\u02ED\\u02EF-\\u02FF\\u0375\\u0384\\u0385\\u03F6\\u0482\\u058D-\\u058F\\u0606-\\u0608\\u060B\\u060E\\u060F\\u06DE\\u06E9\\u06FD\\u06FE\\u07F6\\u07FE\\u07FF\\u09F2\\u09F3\\u09FA\\u09FB\\u0AF1\\u0B70\\u0BF3-\\u0BFA\\u0C7F\\u0D4F\\u0D79\\u0E3F\\u0F01-\\u0F03\\u0F13\\u0F15-\\u0F17\\u0F1A-\\u0F1F\\u0F34\\u0F36\\u0F38\\u0FBE-\\u0FC5\\u0FC7-\\u0FCC\\u0FCE\\u0FCF\\u0FD5-\\u0FD8\\u109E\\u109F\\u1390-\\u1399\\u166D\\u17DB\\u1940\\u19DE-\\u19FF\\u1B61-\\u1B6A\\u1B74-\\u1B7C\\u1FBD\\u1FBF-\\u1FC1\\u1FCD-\\u1FCF\\u1FDD-\\u1FDF\\u1FED-\\u1FEF\\u1FFD\\u1FFE\\u2044\\u2052\\u207A-\\u207C\\u208A-\\u208C\\u20A0-\\u20BF\\u2100\\u2101\\u2103-\\u2106\\u2108\\u2109\\u2114\\u2116-\\u2118\\u211E-\\u2123\\u2125\\u2127\\u2129\\u212E\\u213A\\u213B\\u2140-\\u2144\\u214A-\\u214D\\u214F\\u218A\\u218B\\u2190-\\u2307\\u230C-\\u2328\\u232B-\\u2426\\u2440-\\u244A\\u249C-\\u24E9\\u2500-\\u2767\\u2794-\\u27C4\\u27C7-\\u27E5\\u27F0-\\u2982\\u2999-\\u29D7\\u29DC-\\u29FB\\u29FE-\\u2B73\\u2B76-\\u2B95\\u2B98-\\u2BFF\\u2CE5-\\u2CEA\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3004\\u3012\\u3013\\u3020\\u3036\\u3037\\u303E\\u303F\\u309B\\u309C\\u3190\\u3191\\u3196-\\u319F\\u31C0-\\u31E3\\u3200-\\u321E\\u322A-\\u3247\\u3250\\u3260-\\u327F\\u328A-\\u32B0\\u32C0-\\u33FF\\u4DC0-\\u4DFF\\uA490-\\uA4C6\\uA700-\\uA716\\uA720\\uA721\\uA789\\uA78A\\uA828-\\uA82B\\uA836-\\uA839\\uAA77-\\uAA79\\uAB5B\\uFB29\\uFBB2-\\uFBC1\\uFDFC\\uFDFD\\uFE62\\uFE64-\\uFE66\\uFE69\\uFF04\\uFF0B\\uFF1C-\\uFF1E\\uFF3E\\uFF40\\uFF5C\\uFF5E\\uFFE0-\\uFFE6\\uFFE8-\\uFFEE\\uFFFC\\uFFFD]|\\uD800[\\uDD37-\\uDD3F\\uDD79-\\uDD89\\uDD8C-\\uDD8E\\uDD90-\\uDD9B\\uDDA0\\uDDD0-\\uDDFC]|\\uD802[\\uDC77\\uDC78\\uDEC8]|\\uD805\\uDF3F|\\uD807[\\uDFD5-\\uDFF1]|\\uD81A[\\uDF3C-\\uDF3F\\uDF45]|\\uD82F\\uDC9C|\\uD834[\\uDC00-\\uDCF5\\uDD00-\\uDD26\\uDD29-\\uDD64\\uDD6A-\\uDD6C\\uDD83\\uDD84\\uDD8C-\\uDDA9\\uDDAE-\\uDDE8\\uDE00-\\uDE41\\uDE45\\uDF00-\\uDF56]|\\uD835[\\uDEC1\\uDEDB\\uDEFB\\uDF15\\uDF35\\uDF4F\\uDF6F\\uDF89\\uDFA9\\uDFC3]|\\uD836[\\uDC00-\\uDDFF\\uDE37-\\uDE3A\\uDE6D-\\uDE74\\uDE76-\\uDE83\\uDE85\\uDE86]|\\uD838[\\uDD4F\\uDEFF]|\\uD83B[\\uDCAC\\uDCB0\\uDD2E\\uDEF0\\uDEF1]|\\uD83C[\\uDC00-\\uDC2B\\uDC30-\\uDC93\\uDCA0-\\uDCAE\\uDCB1-\\uDCBF\\uDCC1-\\uDCCF\\uDCD1-\\uDCF5\\uDD10-\\uDD6C\\uDD70-\\uDDAC\\uDDE6-\\uDE02\\uDE10-\\uDE3B\\uDE40-\\uDE48\\uDE50\\uDE51\\uDE60-\\uDE65\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDED5\\uDEE0-\\uDEEC\\uDEF0-\\uDEFA\\uDF00-\\uDF73\\uDF80-\\uDFD8\\uDFE0-\\uDFEB]|\\uD83E[\\uDC00-\\uDC0B\\uDC10-\\uDC47\\uDC50-\\uDC59\\uDC60-\\uDC87\\uDC90-\\uDCAD\\uDD00-\\uDD0B\\uDD0D-\\uDD71\\uDD73-\\uDD76\\uDD7A-\\uDDA2\\uDDA5-\\uDDAA\\uDDAE-\\uDDCA\\uDDCD-\\uDE53\\uDE60-\\uDE6D\\uDE70-\\uDE73\\uDE78-\\uDE7A\\uDE80-\\uDE82\\uDE90-\\uDE95]/;\n// /^\\p{S}/u\nvar CARET_S_UNICODE_REGEX = new RegExp(\"^\" + S_UNICODE_REGEX.source);\n// /\\p{S}$/u\nvar S_DOLLAR_UNICODE_REGEX = new RegExp(S_UNICODE_REGEX.source + \"$\");\nvar CLDR_NUMBER_PATTERN = /[#0](?:[\\.,][#0]+)*/g;\nexport default function formatToParts(numberResult, data, pl, options) {\n    var sign = numberResult.sign, exponent = numberResult.exponent, magnitude = numberResult.magnitude;\n    var notation = options.notation, style = options.style, numberingSystem = options.numberingSystem;\n    var defaultNumberingSystem = data.numbers.nu[0];\n    // #region Part 1: partition and interpolate the CLDR number pattern.\n    // ----------------------------------------------------------\n    var compactNumberPattern = null;\n    if (notation === 'compact' && magnitude) {\n        compactNumberPattern = getCompactDisplayPattern(numberResult, pl, data, style, options.compactDisplay, options.currencyDisplay, numberingSystem);\n    }\n    // This is used multiple times\n    var nonNameCurrencyPart;\n    if (style === 'currency' && options.currencyDisplay !== 'name') {\n        var byCurrencyDisplay = data.currencies[options.currency];\n        if (byCurrencyDisplay) {\n            switch (options.currencyDisplay) {\n                case 'code':\n                    nonNameCurrencyPart = options.currency;\n                    break;\n                case 'symbol':\n                    nonNameCurrencyPart = byCurrencyDisplay.symbol;\n                    break;\n                default:\n                    nonNameCurrencyPart = byCurrencyDisplay.narrow;\n                    break;\n            }\n        }\n        else {\n            // Fallback for unknown currency\n            nonNameCurrencyPart = options.currency;\n        }\n    }\n    var numberPattern;\n    if (!compactNumberPattern) {\n        // Note: if the style is unit, or is currency and the currency display is name,\n        // its unit parts will be interpolated in part 2. So here we can fallback to decimal.\n        if (style === 'decimal' ||\n            style === 'unit' ||\n            (style === 'currency' && options.currencyDisplay === 'name')) {\n            // Shortcut for decimal\n            var decimalData = data.numbers.decimal[numberingSystem] ||\n                data.numbers.decimal[defaultNumberingSystem];\n            numberPattern = getPatternForSign(decimalData.standard, sign);\n        }\n        else if (style === 'currency') {\n            var currencyData = data.numbers.currency[numberingSystem] ||\n                data.numbers.currency[defaultNumberingSystem];\n            // We replace number pattern part with `0` for easier postprocessing.\n            numberPattern = getPatternForSign(currencyData[options.currencySign], sign);\n        }\n        else {\n            // percent\n            var percentPattern = data.numbers.percent[numberingSystem] ||\n                data.numbers.percent[defaultNumberingSystem];\n            numberPattern = getPatternForSign(percentPattern, sign);\n        }\n    }\n    else {\n        numberPattern = compactNumberPattern;\n    }\n    // Extract the decimal number pattern string. It looks like \"#,##0,00\", which will later be\n    // used to infer decimal group sizes.\n    var decimalNumberPattern = CLDR_NUMBER_PATTERN.exec(numberPattern)[0];\n    // Now we start to substitute patterns\n    // 1. replace strings like `0` and `#,##0.00` with `{0}`\n    // 2. unquote characters (invariant: the quoted characters does not contain the special tokens)\n    numberPattern = numberPattern\n        .replace(CLDR_NUMBER_PATTERN, '{0}')\n        .replace(/'(.)'/g, '$1');\n    // Handle currency spacing (both compact and non-compact).\n    if (style === 'currency' && options.currencyDisplay !== 'name') {\n        var currencyData = data.numbers.currency[numberingSystem] ||\n            data.numbers.currency[defaultNumberingSystem];\n        // See `currencySpacing` substitution rule in TR-35.\n        // Here we always assume the currencyMatch is \"[:^S:]\" and surroundingMatch is \"[:digit:]\".\n        //\n        // Example 1: for pattern \"#,##0.00¤\" with symbol \"US$\", we replace \"¤\" with the symbol,\n        // but insert an extra non-break space before the symbol, because \"[:^S:]\" matches \"U\" in\n        // \"US$\" and \"[:digit:]\" matches the latn numbering system digits.\n        //\n        // Example 2: for pattern \"¤#,##0.00\" with symbol \"US$\", there is no spacing between symbol\n        // and number, because `$` does not match \"[:^S:]\".\n        //\n        // Implementation note: here we do the best effort to infer the insertion.\n        // We also assume that `beforeInsertBetween` and `afterInsertBetween` will never be `;`.\n        var afterCurrency = currencyData.currencySpacing.afterInsertBetween;\n        if (afterCurrency && !S_DOLLAR_UNICODE_REGEX.test(nonNameCurrencyPart)) {\n            numberPattern = numberPattern.replace('¤{0}', \"\\u00A4\" + afterCurrency + \"{0}\");\n        }\n        var beforeCurrency = currencyData.currencySpacing.beforeInsertBetween;\n        if (beforeCurrency && !CARET_S_UNICODE_REGEX.test(nonNameCurrencyPart)) {\n            numberPattern = numberPattern.replace('{0}¤', \"{0}\" + beforeCurrency + \"\\u00A4\");\n        }\n    }\n    // The following tokens are special: `{0}`, `¤`, `%`, `-`, `+`, `{c:...}.\n    var numberPatternParts = numberPattern.split(/({c:[^}]+}|\\{0\\}|[¤%\\-\\+])/g);\n    var numberParts = [];\n    var symbols = data.numbers.symbols[numberingSystem] ||\n        data.numbers.symbols[defaultNumberingSystem];\n    for (var _i = 0, numberPatternParts_1 = numberPatternParts; _i < numberPatternParts_1.length; _i++) {\n        var part = numberPatternParts_1[_i];\n        if (!part) {\n            continue;\n        }\n        switch (part) {\n            case '{0}': {\n                // We only need to handle scientific and engineering notation here.\n                numberParts.push.apply(numberParts, paritionNumberIntoParts(symbols, numberResult, notation, exponent, numberingSystem, \n                // If compact number pattern exists, do not insert group separators.\n                !compactNumberPattern && options.useGrouping, decimalNumberPattern));\n                break;\n            }\n            case '-':\n                numberParts.push({ type: 'minusSign', value: symbols.minusSign });\n                break;\n            case '+':\n                numberParts.push({ type: 'plusSign', value: symbols.plusSign });\n                break;\n            case '%':\n                numberParts.push({ type: 'percentSign', value: symbols.percentSign });\n                break;\n            case '¤':\n                // Computed above when handling currency spacing.\n                numberParts.push({ type: 'currency', value: nonNameCurrencyPart });\n                break;\n            default:\n                if (/^\\{c:/.test(part)) {\n                    numberParts.push({\n                        type: 'compact',\n                        value: part.substring(3, part.length - 1),\n                    });\n                }\n                else {\n                    // literal\n                    numberParts.push({ type: 'literal', value: part });\n                }\n                break;\n        }\n    }\n    // #endregion\n    // #region Part 2: interpolate unit pattern if necessary.\n    // ----------------------------------------------\n    switch (style) {\n        case 'currency': {\n            // `currencyDisplay: 'name'` has similar pattern handling as units.\n            if (options.currencyDisplay === 'name') {\n                var unitPattern = (data.numbers.currency[numberingSystem] ||\n                    data.numbers.currency[defaultNumberingSystem]).unitPattern;\n                // Select plural\n                var unitName = void 0;\n                var currencyNameData = data.currencies[options.currency];\n                if (currencyNameData) {\n                    unitName = selectPlural(pl, numberResult.roundedNumber * Math.pow(10, exponent), currencyNameData.displayName);\n                }\n                else {\n                    // Fallback for unknown currency\n                    unitName = options.currency;\n                }\n                // Do {0} and {1} substitution\n                var unitPatternParts = unitPattern.split(/(\\{[01]\\})/g);\n                var result = [];\n                for (var _a = 0, unitPatternParts_1 = unitPatternParts; _a < unitPatternParts_1.length; _a++) {\n                    var part = unitPatternParts_1[_a];\n                    switch (part) {\n                        case '{0}':\n                            result.push.apply(result, numberParts);\n                            break;\n                        case '{1}':\n                            result.push({ type: 'currency', value: unitName });\n                            break;\n                        default:\n                            if (part) {\n                                result.push({ type: 'literal', value: part });\n                            }\n                            break;\n                    }\n                }\n                return result;\n            }\n            else {\n                return numberParts;\n            }\n        }\n        case 'unit': {\n            var unit = options.unit, unitDisplay = options.unitDisplay;\n            var unitData = data.units.simple[unit];\n            var unitPattern = void 0;\n            if (unitData) {\n                // Simple unit pattern\n                unitPattern = selectPlural(pl, numberResult.roundedNumber * Math.pow(10, exponent), data.units.simple[unit][unitDisplay]);\n            }\n            else {\n                // See: http://unicode.org/reports/tr35/tr35-general.html#perUnitPatterns\n                // If cannot find unit in the simple pattern, it must be \"per\" compound pattern.\n                // Implementation note: we are not following TR-35 here because we need to format to parts!\n                var _b = unit.split('-per-'), numeratorUnit = _b[0], denominatorUnit = _b[1];\n                unitData = data.units.simple[numeratorUnit];\n                var numeratorUnitPattern = selectPlural(pl, numberResult.roundedNumber * Math.pow(10, exponent), data.units.simple[numeratorUnit][unitDisplay]);\n                var perUnitPattern = data.units.simple[denominatorUnit].perUnit[unitDisplay];\n                if (perUnitPattern) {\n                    // perUnitPattern exists, combine it with numeratorUnitPattern\n                    unitPattern = perUnitPattern.replace('{0}', numeratorUnitPattern);\n                }\n                else {\n                    // get compoundUnit pattern (e.g. \"{0} per {1}\"), repalce {0} with numerator pattern and {1} with\n                    // the denominator pattern in singular form.\n                    var perPattern = data.units.compound.per[unitDisplay];\n                    var denominatorPattern = selectPlural(pl, 1, data.units.simple[denominatorUnit][unitDisplay]);\n                    unitPattern = unitPattern = perPattern\n                        .replace('{0}', numeratorUnitPattern)\n                        .replace('{1}', denominatorPattern.replace('{0}', ''));\n                }\n            }\n            var result = [];\n            // We need spacing around \"{0}\" because they are not treated as \"unit\" parts, but \"literal\".\n            for (var _c = 0, _d = unitPattern.split(/(\\s*\\{0\\}\\s*)/); _c < _d.length; _c++) {\n                var part = _d[_c];\n                var interpolateMatch = /^(\\s*)\\{0\\}(\\s*)$/.exec(part);\n                if (interpolateMatch) {\n                    // Space before \"{0}\"\n                    if (interpolateMatch[1]) {\n                        result.push({ type: 'literal', value: interpolateMatch[1] });\n                    }\n                    // \"{0}\" itself\n                    result.push.apply(result, numberParts);\n                    // Space after \"{0}\"\n                    if (interpolateMatch[2]) {\n                        result.push({ type: 'literal', value: interpolateMatch[2] });\n                    }\n                }\n                else if (part) {\n                    result.push({ type: 'unit', value: part });\n                }\n            }\n            return result;\n        }\n        default:\n            return numberParts;\n    }\n    // #endregion\n}\n// A subset of https://tc39.es/ecma402/#sec-partitionnotationsubpattern\n// Plus the exponent parts handling.\nfunction paritionNumberIntoParts(symbols, numberResult, notation, exponent, numberingSystem, useGrouping, \n/**\n * This is the decimal number pattern without signs or symbols.\n * It is used to infer the group size when `useGrouping` is true.\n *\n * A typical value looks like \"#,##0.00\" (primary group size is 3).\n * Some locales like Hindi has secondary group size of 2 (e.g. \"#,##,##0.00\").\n */\ndecimalNumberPattern) {\n    var result = [];\n    // eslint-disable-next-line prefer-const\n    var n = numberResult.formattedString, x = numberResult.roundedNumber;\n    if (isNaN(x)) {\n        return [{ type: 'nan', value: n }];\n    }\n    else if (!isFinite(x)) {\n        return [{ type: 'infinity', value: n }];\n    }\n    var digitReplacementTable = digitMapping[numberingSystem];\n    if (digitReplacementTable) {\n        n = n.replace(/\\d/g, function (digit) { return digitReplacementTable[+digit] || digit; });\n    }\n    // TODO: Else use an implementation dependent algorithm to map n to the appropriate\n    // representation of n in the given numbering system.\n    var decimalSepIndex = n.indexOf('.');\n    var integer;\n    var fraction;\n    if (decimalSepIndex > 0) {\n        integer = n.slice(0, decimalSepIndex);\n        fraction = n.slice(decimalSepIndex + 1);\n    }\n    else {\n        integer = n;\n    }\n    // #region Grouping integer digits\n    // The weird compact and x >= 10000 check is to ensure consistency with Node.js and Chrome.\n    // Note that `de` does not have compact form for thousands, but Node.js does not insert grouping separator\n    // unless the rounded number is greater than 10000:\n    //   NumberFormat('de', {notation: 'compact', compactDisplay: 'short'}).format(1234) //=> \"1234\"\n    //   NumberFormat('de').format(1234) //=> \"1.234\"\n    if (useGrouping && (notation !== 'compact' || x >= 10000)) {\n        var groupSepSymbol = symbols.group;\n        var groups = [];\n        // > There may be two different grouping sizes: The primary grouping size used for the least\n        // > significant integer group, and the secondary grouping size used for more significant groups.\n        // > If a pattern contains multiple grouping separators, the interval between the last one and the\n        // > end of the integer defines the primary grouping size, and the interval between the last two\n        // > defines the secondary grouping size. All others are ignored.\n        var integerNumberPattern = decimalNumberPattern.split('.')[0];\n        var patternGroups = integerNumberPattern.split(',');\n        var primaryGroupingSize = 3;\n        var secondaryGroupingSize = 3;\n        if (patternGroups.length > 1) {\n            primaryGroupingSize = patternGroups[patternGroups.length - 1].length;\n        }\n        if (patternGroups.length > 2) {\n            secondaryGroupingSize = patternGroups[patternGroups.length - 2].length;\n        }\n        var i = integer.length - primaryGroupingSize;\n        if (i > 0) {\n            // Slice the least significant integer group\n            groups.push(integer.slice(i, i + primaryGroupingSize));\n            // Then iteratively push the more signicant groups\n            // TODO: handle surrogate pairs in some numbering system digits\n            for (i -= secondaryGroupingSize; i > 0; i -= secondaryGroupingSize) {\n                groups.push(integer.slice(i, i + secondaryGroupingSize));\n            }\n            groups.push(integer.slice(0, i + secondaryGroupingSize));\n        }\n        else {\n            groups.push(integer);\n        }\n        while (groups.length > 0) {\n            var integerGroup = groups.pop();\n            result.push({ type: 'integer', value: integerGroup });\n            if (groups.length > 0) {\n                result.push({ type: 'group', value: groupSepSymbol });\n            }\n        }\n    }\n    else {\n        result.push({ type: 'integer', value: integer });\n    }\n    // #endregion\n    if (fraction !== undefined) {\n        result.push({ type: 'decimal', value: symbols.decimal }, { type: 'fraction', value: fraction });\n    }\n    if ((notation === 'scientific' || notation === 'engineering') &&\n        isFinite(x)) {\n        result.push({ type: 'exponentSeparator', value: symbols.exponential });\n        if (exponent < 0) {\n            result.push({ type: 'exponentMinusSign', value: symbols.minusSign });\n            exponent = -exponent;\n        }\n        var exponentResult = ToRawFixed(exponent, 0, 0);\n        result.push({\n            type: 'exponentInteger',\n            value: exponentResult.formattedString,\n        });\n    }\n    return result;\n}\nfunction getPatternForSign(pattern, sign) {\n    if (pattern.indexOf(';') < 0) {\n        pattern = pattern + \";-\" + pattern;\n    }\n    var _a = pattern.split(';'), zeroPattern = _a[0], negativePattern = _a[1];\n    switch (sign) {\n        case 0:\n            return zeroPattern;\n        case -1:\n            return negativePattern;\n        default:\n            return negativePattern.indexOf('-') >= 0\n                ? negativePattern.replace(/-/g, '+')\n                : \"+\" + zeroPattern;\n    }\n}\n// Find the CLDR pattern for compact notation based on the magnitude of data and style.\n//\n// Example return value: \"¤ {c:laki}000;¤{c:laki} -0\" (`sw` locale):\n// - Notice the `{c:...}` token that wraps the compact literal.\n// - The consecutive zeros are normalized to single zero to match CLDR_NUMBER_PATTERN.\n//\n// Returning null means the compact display pattern cannot be found.\nfunction getCompactDisplayPattern(numberResult, pl, data, style, compactDisplay, currencyDisplay, numberingSystem) {\n    var _a;\n    var roundedNumber = numberResult.roundedNumber, sign = numberResult.sign, magnitude = numberResult.magnitude;\n    var magnitudeKey = String(Math.pow(10, magnitude));\n    var defaultNumberingSystem = data.numbers.nu[0];\n    var pattern;\n    if (style === 'currency' && currencyDisplay !== 'name') {\n        var byNumberingSystem = data.numbers.currency;\n        var currencyData = byNumberingSystem[numberingSystem] ||\n            byNumberingSystem[defaultNumberingSystem];\n        // NOTE: compact notation ignores currencySign!\n        var compactPluralRules = (_a = currencyData.short) === null || _a === void 0 ? void 0 : _a[magnitudeKey];\n        if (!compactPluralRules) {\n            return null;\n        }\n        pattern = selectPlural(pl, roundedNumber, compactPluralRules);\n    }\n    else {\n        var byNumberingSystem = data.numbers.decimal;\n        var byCompactDisplay = byNumberingSystem[numberingSystem] ||\n            byNumberingSystem[defaultNumberingSystem];\n        var compactPlaralRule = byCompactDisplay[compactDisplay][magnitudeKey];\n        if (!compactPlaralRule) {\n            return null;\n        }\n        pattern = selectPlural(pl, roundedNumber, compactPlaralRule);\n    }\n    // See https://unicode.org/reports/tr35/tr35-numbers.html#Compact_Number_Formats\n    // > If the value is precisely “0”, either explicit or defaulted, then the normal number format\n    // > pattern for that sort of object is supplied.\n    if (pattern === '0') {\n        return null;\n    }\n    pattern = getPatternForSign(pattern, sign)\n        // Extract compact literal from the pattern\n        .replace(/([^\\s;\\-\\+\\d¤]+)/g, '{c:$1}')\n        // We replace one or more zeros with a single zero so it matches `CLDR_NUMBER_PATTERN`.\n        .replace(/0+/, '0');\n    return pattern;\n}\nfunction selectPlural(pl, x, rules) {\n    return rules[pl.select(x)] || rules.other;\n}\n","import { FormatNumericToString } from './FormatNumericToString';\nimport { SameValue } from '../262';\nimport { ComputeExponent } from './ComputeExponent';\nimport formatToParts from './format_to_parts';\n/**\n * https://tc39.es/ecma402/#sec-formatnumberstring\n */\nexport function PartitionNumberPattern(numberFormat, x, _a) {\n    var _b;\n    var getInternalSlots = _a.getInternalSlots;\n    var internalSlots = getInternalSlots(numberFormat);\n    var pl = internalSlots.pl, dataLocaleData = internalSlots.dataLocaleData, numberingSystem = internalSlots.numberingSystem;\n    var symbols = dataLocaleData.numbers.symbols[numberingSystem] ||\n        dataLocaleData.numbers.symbols[dataLocaleData.numbers.nu[0]];\n    var magnitude = 0;\n    var exponent = 0;\n    var n;\n    if (isNaN(x)) {\n        n = symbols.nan;\n    }\n    else if (!isFinite(x)) {\n        n = symbols.infinity;\n    }\n    else {\n        if (internalSlots.style === 'percent') {\n            x *= 100;\n        }\n        _b = ComputeExponent(numberFormat, x, {\n            getInternalSlots: getInternalSlots,\n        }), exponent = _b[0], magnitude = _b[1];\n        // Preserve more precision by doing multiplication when exponent is negative.\n        x = exponent < 0 ? x * Math.pow(10, -exponent) : x / Math.pow(10, exponent);\n        var formatNumberResult = FormatNumericToString(internalSlots, x);\n        n = formatNumberResult.formattedString;\n        x = formatNumberResult.roundedNumber;\n    }\n    // Based on https://tc39.es/ecma402/#sec-getnumberformatpattern\n    // We need to do this before `x` is rounded.\n    var sign;\n    var signDisplay = internalSlots.signDisplay;\n    switch (signDisplay) {\n        case 'never':\n            sign = 0;\n            break;\n        case 'auto':\n            if (SameValue(x, 0) || x > 0 || isNaN(x)) {\n                sign = 0;\n            }\n            else {\n                sign = -1;\n            }\n            break;\n        case 'always':\n            if (SameValue(x, 0) || x > 0 || isNaN(x)) {\n                sign = 1;\n            }\n            else {\n                sign = -1;\n            }\n            break;\n        default:\n            // x === 0 -> x is 0 or x is -0\n            if (x === 0 || isNaN(x)) {\n                sign = 0;\n            }\n            else if (x > 0) {\n                sign = 1;\n            }\n            else {\n                sign = -1;\n            }\n    }\n    return formatToParts({ roundedNumber: x, formattedString: n, exponent: exponent, magnitude: magnitude, sign: sign }, internalSlots.dataLocaleData, pl, internalSlots);\n}\n","import { PartitionNumberPattern } from './PartitionNumberPattern';\nimport { ArrayCreate } from '../262';\nexport function FormatNumericToParts(nf, x, implDetails) {\n    var parts = PartitionNumberPattern(nf, x, implDetails);\n    var result = ArrayCreate(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result.push({\n            type: part.type,\n            value: part.value,\n        });\n    }\n    return result;\n}\n","import { GetOption } from '../GetOption';\nimport { IsWellFormedCurrencyCode } from '../IsWellFormedCurrencyCode';\nimport { IsWellFormedUnitIdentifier } from '../IsWellFormedUnitIdentifier';\n/**\n * https://tc39.es/ecma402/#sec-setnumberformatunitoptions\n */\nexport function SetNumberFormatUnitOptions(nf, options, _a) {\n    if (options === void 0) { options = Object.create(null); }\n    var getInternalSlots = _a.getInternalSlots;\n    var internalSlots = getInternalSlots(nf);\n    var style = GetOption(options, 'style', 'string', ['decimal', 'percent', 'currency', 'unit'], 'decimal');\n    internalSlots.style = style;\n    var currency = GetOption(options, 'currency', 'string', undefined, undefined);\n    if (currency !== undefined && !IsWellFormedCurrencyCode(currency)) {\n        throw RangeError('Malformed currency code');\n    }\n    if (style === 'currency' && currency === undefined) {\n        throw TypeError('currency cannot be undefined');\n    }\n    var currencyDisplay = GetOption(options, 'currencyDisplay', 'string', ['code', 'symbol', 'narrowSymbol', 'name'], 'symbol');\n    var currencySign = GetOption(options, 'currencySign', 'string', ['standard', 'accounting'], 'standard');\n    var unit = GetOption(options, 'unit', 'string', undefined, undefined);\n    if (unit !== undefined && !IsWellFormedUnitIdentifier(unit)) {\n        throw RangeError('Invalid unit argument for Intl.NumberFormat()');\n    }\n    if (style === 'unit' && unit === undefined) {\n        throw TypeError('unit cannot be undefined');\n    }\n    var unitDisplay = GetOption(options, 'unitDisplay', 'string', ['short', 'narrow', 'long'], 'short');\n    if (style === 'currency') {\n        internalSlots.currency = currency.toUpperCase();\n        internalSlots.currencyDisplay = currencyDisplay;\n        internalSlots.currencySign = currencySign;\n    }\n    if (style === 'unit') {\n        internalSlots.unit = unit;\n        internalSlots.unitDisplay = unitDisplay;\n    }\n}\n","import { GetNumberOption } from '../GetNumberOption';\nimport { DefaultNumberOption } from '../DefaultNumberOption';\n/**\n * https://tc39.es/ecma402/#sec-setnfdigitoptions\n */\nexport function SetNumberFormatDigitOptions(internalSlots, opts, mnfdDefault, mxfdDefault, notation) {\n    var mnid = GetNumberOption(opts, 'minimumIntegerDigits', 1, 21, 1);\n    var mnfd = opts.minimumFractionDigits;\n    var mxfd = opts.maximumFractionDigits;\n    var mnsd = opts.minimumSignificantDigits;\n    var mxsd = opts.maximumSignificantDigits;\n    internalSlots.minimumIntegerDigits = mnid;\n    if (mnsd !== undefined || mxsd !== undefined) {\n        internalSlots.roundingType = 'significantDigits';\n        mnsd = DefaultNumberOption(mnsd, 1, 21, 1);\n        mxsd = DefaultNumberOption(mxsd, mnsd, 21, 21);\n        internalSlots.minimumSignificantDigits = mnsd;\n        internalSlots.maximumSignificantDigits = mxsd;\n    }\n    else if (mnfd !== undefined || mxfd !== undefined) {\n        internalSlots.roundingType = 'fractionDigits';\n        mnfd = DefaultNumberOption(mnfd, 0, 20, mnfdDefault);\n        var mxfdActualDefault = Math.max(mnfd, mxfdDefault);\n        mxfd = DefaultNumberOption(mxfd, mnfd, 20, mxfdActualDefault);\n        internalSlots.minimumFractionDigits = mnfd;\n        internalSlots.maximumFractionDigits = mxfd;\n    }\n    else if (notation === 'compact') {\n        internalSlots.roundingType = 'compactRounding';\n    }\n    else {\n        internalSlots.roundingType = 'fractionDigits';\n        internalSlots.minimumFractionDigits = mnfdDefault;\n        internalSlots.maximumFractionDigits = mxfdDefault;\n    }\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { ToObject } from '../262';\nimport { GetOption } from '../GetOption';\nimport { ResolveLocale } from '../ResolveLocale';\nimport { SetNumberFormatUnitOptions } from './SetNumberFormatUnitOptions';\nimport { CurrencyDigits } from './CurrencyDigits';\nimport { SetNumberFormatDigitOptions } from './SetNumberFormatDigitOptions';\nimport { invariant } from '../utils';\n/**\n * https://tc39.es/ecma402/#sec-initializenumberformat\n */\nexport function InitializeNumberFormat(nf, locales, opts, _a) {\n    var getInternalSlots = _a.getInternalSlots, localeData = _a.localeData, availableLocales = _a.availableLocales, numberingSystemNames = _a.numberingSystemNames, getDefaultLocale = _a.getDefaultLocale, currencyDigitsData = _a.currencyDigitsData;\n    // @ts-ignore\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var options = opts === undefined ? Object.create(null) : ToObject(opts);\n    var opt = Object.create(null);\n    var matcher = GetOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');\n    opt.localeMatcher = matcher;\n    var numberingSystem = GetOption(options, 'numberingSystem', 'string', undefined, undefined);\n    if (numberingSystem !== undefined &&\n        numberingSystemNames.indexOf(numberingSystem) < 0) {\n        // 8.a. If numberingSystem does not match the Unicode Locale Identifier type nonterminal,\n        // throw a RangeError exception.\n        throw RangeError(\"Invalid numberingSystems: \" + numberingSystem);\n    }\n    opt.nu = numberingSystem;\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, \n    // [[RelevantExtensionKeys]] slot, which is a constant\n    ['nu'], localeData, getDefaultLocale);\n    var dataLocaleData = localeData[r.dataLocale];\n    invariant(!!dataLocaleData, \"Missing locale data for \" + r.dataLocale);\n    var internalSlots = getInternalSlots(nf);\n    internalSlots.locale = r.locale;\n    internalSlots.dataLocale = r.dataLocale;\n    internalSlots.numberingSystem = r.nu;\n    internalSlots.dataLocaleData = dataLocaleData;\n    SetNumberFormatUnitOptions(nf, options, { getInternalSlots: getInternalSlots });\n    var style = internalSlots.style;\n    var mnfdDefault;\n    var mxfdDefault;\n    if (style === 'currency') {\n        var currency = internalSlots.currency;\n        var cDigits = CurrencyDigits(currency, { currencyDigitsData: currencyDigitsData });\n        mnfdDefault = cDigits;\n        mxfdDefault = cDigits;\n    }\n    else {\n        mnfdDefault = 0;\n        mxfdDefault = style === 'percent' ? 0 : 3;\n    }\n    var notation = GetOption(options, 'notation', 'string', ['standard', 'scientific', 'engineering', 'compact'], 'standard');\n    internalSlots.notation = notation;\n    SetNumberFormatDigitOptions(internalSlots, options, mnfdDefault, mxfdDefault, notation);\n    var compactDisplay = GetOption(options, 'compactDisplay', 'string', ['short', 'long'], 'short');\n    if (notation === 'compact') {\n        internalSlots.compactDisplay = compactDisplay;\n    }\n    var useGrouping = GetOption(options, 'useGrouping', 'boolean', undefined, true);\n    internalSlots.useGrouping = useGrouping;\n    var signDisplay = GetOption(options, 'signDisplay', 'string', ['auto', 'never', 'always', 'exceptZero'], 'auto');\n    internalSlots.signDisplay = signDisplay;\n    return nf;\n}\n","import { invariant } from '../utils';\nimport { ToNumber } from '../262';\n/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-getoperands\n * @param s\n */\nexport function GetOperands(s) {\n    invariant(typeof s === 'string', \"GetOperands should have been called with a string\");\n    var n = ToNumber(s);\n    invariant(isFinite(n), 'n should be finite');\n    var dp = s.indexOf('.');\n    var iv;\n    var f;\n    var v;\n    var fv = '';\n    if (dp === -1) {\n        iv = n;\n        f = 0;\n        v = 0;\n    }\n    else {\n        iv = s.slice(0, dp);\n        fv = s.slice(dp, s.length);\n        f = ToNumber(fv);\n        v = fv.length;\n    }\n    var i = Math.abs(ToNumber(iv));\n    var w;\n    var t;\n    if (f !== 0) {\n        var ft = fv.replace(/0+$/, '');\n        w = ft.length;\n        t = ToNumber(ft);\n    }\n    else {\n        w = 0;\n        t = 0;\n    }\n    return {\n        Number: n,\n        IntegerDigits: i,\n        NumberOfFractionDigits: v,\n        NumberOfFractionDigitsWithoutTrailing: w,\n        FractionDigits: f,\n        FractionDigitsWithoutTrailing: t,\n    };\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { ToObject } from '../262';\nimport { GetOption } from '../GetOption';\nimport { SetNumberFormatDigitOptions } from '../NumberFormat/SetNumberFormatDigitOptions';\nimport { ResolveLocale } from '../ResolveLocale';\nexport function InitializePluralRules(pl, locales, options, _a) {\n    var availableLocales = _a.availableLocales, relevantExtensionKeys = _a.relevantExtensionKeys, localeData = _a.localeData, getDefaultLocale = _a.getDefaultLocale, getInternalSlots = _a.getInternalSlots;\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var opt = Object.create(null);\n    var opts = options === undefined ? Object.create(null) : ToObject(options);\n    var internalSlots = getInternalSlots(pl);\n    internalSlots.initializedPluralRules = true;\n    var matcher = GetOption(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n    opt.localeMatcher = matcher;\n    internalSlots.type = GetOption(opts, 'type', 'string', ['cardinal', 'ordinal'], 'cardinal');\n    SetNumberFormatDigitOptions(internalSlots, opts, 0, 3, 'standard');\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n    internalSlots.locale = r.locale;\n    return pl;\n}\n","import { invariant } from '../utils';\nimport { Type } from '../262';\nimport { FormatNumericToString } from '../NumberFormat/FormatNumericToString';\nimport { GetOperands } from './GetOperands';\n/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-resolveplural\n * @param pl\n * @param n\n * @param PluralRuleSelect Has to pass in bc it's implementation-specific\n */\nexport function ResolvePlural(pl, n, _a) {\n    var getInternalSlots = _a.getInternalSlots, PluralRuleSelect = _a.PluralRuleSelect;\n    var internalSlots = getInternalSlots(pl);\n    invariant(Type(internalSlots) === 'Object', 'pl has to be an object');\n    invariant('initializedPluralRules' in internalSlots, 'pluralrules must be initialized');\n    invariant(Type(n) === 'Number', 'n must be a number');\n    if (!isFinite(n)) {\n        return 'other';\n    }\n    var locale = internalSlots.locale, type = internalSlots.type;\n    var res = FormatNumericToString(internalSlots, n);\n    var s = res.formattedString;\n    var operands = GetOperands(s);\n    return PluralRuleSelect(locale, type, n, operands);\n}\n","import { invariant } from '../utils';\nimport { Type } from '../262';\n/**\n * https://tc39.es/proposal-intl-relative-time/#sec-singularrelativetimeunit\n * @param unit\n */\nexport function SingularRelativeTimeUnit(unit) {\n    invariant(Type(unit) === 'String', 'unit must be a string');\n    if (unit === 'seconds')\n        return 'second';\n    if (unit === 'minutes')\n        return 'minute';\n    if (unit === 'hours')\n        return 'hour';\n    if (unit === 'days')\n        return 'day';\n    if (unit === 'weeks')\n        return 'week';\n    if (unit === 'months')\n        return 'month';\n    if (unit === 'quarters')\n        return 'quarter';\n    if (unit === 'years')\n        return 'year';\n    if (unit !== 'second' &&\n        unit !== 'minute' &&\n        unit !== 'hour' &&\n        unit !== 'day' &&\n        unit !== 'week' &&\n        unit !== 'month' &&\n        unit !== 'quarter' &&\n        unit !== 'year') {\n        throw new RangeError('invalid unit');\n    }\n    return unit;\n}\n","import { PartitionPattern } from '../PartitionPattern';\nimport { invariant } from '../utils';\nexport function MakePartsList(pattern, unit, parts) {\n    var patternParts = PartitionPattern(pattern);\n    var result = [];\n    for (var _i = 0, patternParts_1 = patternParts; _i < patternParts_1.length; _i++) {\n        var patternPart = patternParts_1[_i];\n        if (patternPart.type === 'literal') {\n            result.push({\n                type: 'literal',\n                value: patternPart.value,\n            });\n        }\n        else {\n            invariant(patternPart.type === '0', \"Malformed pattern \" + pattern);\n            for (var _a = 0, parts_1 = parts; _a < parts_1.length; _a++) {\n                var part = parts_1[_a];\n                result.push({\n                    type: part.type,\n                    value: part.value,\n                    unit: unit,\n                });\n            }\n        }\n    }\n    return result;\n}\n","import { invariant } from '../utils';\nimport { SingularRelativeTimeUnit } from './SingularRelativeTimeUnit';\nimport { MakePartsList } from './MakePartsList';\nimport { ToString, Type, SameValue } from '../262';\nexport function PartitionRelativeTimePattern(rtf, value, unit, _a) {\n    var getInternalSlots = _a.getInternalSlots;\n    invariant(Type(value) === 'Number', \"value must be number, instead got \" + typeof value, TypeError);\n    invariant(Type(unit) === 'String', \"unit must be number, instead got \" + typeof value, TypeError);\n    if (isNaN(value) || !isFinite(value)) {\n        throw new RangeError(\"Invalid value \" + value);\n    }\n    var resolvedUnit = SingularRelativeTimeUnit(unit);\n    var _b = getInternalSlots(rtf), fields = _b.fields, style = _b.style, numeric = _b.numeric, pluralRules = _b.pluralRules, numberFormat = _b.numberFormat;\n    var entry = resolvedUnit;\n    if (style === 'short') {\n        entry = resolvedUnit + \"-short\";\n    }\n    else if (style === 'narrow') {\n        entry = resolvedUnit + \"-narrow\";\n    }\n    if (!(entry in fields)) {\n        entry = resolvedUnit;\n    }\n    var patterns = fields[entry];\n    if (numeric === 'auto') {\n        if (ToString(value) in patterns) {\n            return [\n                {\n                    type: 'literal',\n                    value: patterns[ToString(value)],\n                },\n            ];\n        }\n    }\n    var tl = 'future';\n    if (SameValue(value, -0) || value < 0) {\n        tl = 'past';\n    }\n    var po = patterns[tl];\n    var fv = typeof numberFormat.formatToParts === 'function'\n        ? numberFormat.formatToParts(Math.abs(value))\n        : // TODO: If formatToParts is not supported, we assume the whole formatted\n            // number is a part\n            [\n                {\n                    type: 'literal',\n                    value: numberFormat.format(Math.abs(value)),\n                    unit: unit,\n                },\n            ];\n    var pr = pluralRules.select(value);\n    var pattern = po[pr];\n    return MakePartsList(pattern, resolvedUnit, fv);\n}\n","import { PartitionRelativeTimePattern } from './PartitionRelativeTimePattern';\nexport function FormatRelativeTime(rtf, value, unit, implDetails) {\n    var parts = PartitionRelativeTimePattern(rtf, value, unit, implDetails);\n    var result = '';\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result += part.value;\n    }\n    return result;\n}\n","import { PartitionRelativeTimePattern } from './PartitionRelativeTimePattern';\nimport { ArrayCreate } from '../262';\nexport function FormatRelativeTimeToParts(rtf, value, unit, implDetails) {\n    var parts = PartitionRelativeTimePattern(rtf, value, unit, implDetails);\n    var result = ArrayCreate(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        var o = {\n            type: part.type,\n            value: part.value,\n        };\n        if ('unit' in part) {\n            o.unit = part.unit;\n        }\n        result.push(o);\n    }\n    return result;\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { ToObject } from '../262';\nimport { GetOption } from '../GetOption';\nimport { ResolveLocale } from '../ResolveLocale';\nimport { invariant } from '../utils';\nvar NUMBERING_SYSTEM_REGEX = /^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;\nexport function InitializeRelativeTimeFormat(rtf, locales, options, _a) {\n    var getInternalSlots = _a.getInternalSlots, availableLocales = _a.availableLocales, relevantExtensionKeys = _a.relevantExtensionKeys, localeData = _a.localeData, getDefaultLocale = _a.getDefaultLocale;\n    var internalSlots = getInternalSlots(rtf);\n    internalSlots.initializedRelativeTimeFormat = true;\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var opt = Object.create(null);\n    var opts = options === undefined ? Object.create(null) : ToObject(options);\n    var matcher = GetOption(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n    opt.localeMatcher = matcher;\n    var numberingSystem = GetOption(opts, 'numberingSystem', 'string', undefined, undefined);\n    if (numberingSystem !== undefined) {\n        if (!NUMBERING_SYSTEM_REGEX.test(numberingSystem)) {\n            throw new RangeError(\"Invalid numbering system \" + numberingSystem);\n        }\n    }\n    opt.nu = numberingSystem;\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n    var locale = r.locale, nu = r.nu;\n    internalSlots.locale = locale;\n    internalSlots.style = GetOption(opts, 'style', 'string', ['long', 'narrow', 'short'], 'long');\n    internalSlots.numeric = GetOption(opts, 'numeric', 'string', ['always', 'auto'], 'always');\n    var fields = localeData[r.dataLocale];\n    invariant(!!fields, \"Missing locale data for \" + r.dataLocale);\n    internalSlots.fields = fields;\n    internalSlots.numberFormat = new Intl.NumberFormat(locales);\n    internalSlots.pluralRules = new Intl.PluralRules(locales);\n    internalSlots.numberingSystem = nu;\n    return rtf;\n}\n","import { UNICODE_EXTENSION_SEQUENCE_REGEX } from './utils';\nimport { BestAvailableLocale } from './BestAvailableLocale';\n/**\n * https://tc39.es/ecma402/#sec-lookupsupportedlocales\n * @param availableLocales\n * @param requestedLocales\n */\nexport function LookupSupportedLocales(availableLocales, requestedLocales) {\n    var subset = [];\n    for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n        var locale = requestedLocales_1[_i];\n        var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n        var availableLocale = BestAvailableLocale(availableLocales, noExtensionLocale);\n        if (availableLocale) {\n            subset.push(availableLocale);\n        }\n    }\n    return subset;\n}\n","import { ToObject } from './262';\nimport { GetOption } from './GetOption';\nimport { LookupSupportedLocales } from './LookupSupportedLocales';\n/**\n * https://tc39.es/ecma402/#sec-supportedlocales\n * @param availableLocales\n * @param requestedLocales\n * @param options\n */\nexport function SupportedLocales(availableLocales, requestedLocales, options) {\n    var matcher = 'best fit';\n    if (options !== undefined) {\n        options = ToObject(options);\n        matcher = GetOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');\n    }\n    if (matcher === 'best fit') {\n        return LookupSupportedLocales(availableLocales, requestedLocales);\n    }\n    return LookupSupportedLocales(availableLocales, requestedLocales);\n}\n","import { __extends } from \"tslib\";\nvar MissingLocaleDataError = /** @class */ (function (_super) {\n    __extends(MissingLocaleDataError, _super);\n    function MissingLocaleDataError() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'MISSING_LOCALE_DATA';\n        return _this;\n    }\n    return MissingLocaleDataError;\n}(Error));\nexport function isMissingLocaleDataError(e) {\n    return e.type === 'MISSING_LOCALE_DATA';\n}\n","export var RangePatternType;\n(function (RangePatternType) {\n    RangePatternType[\"startRange\"] = \"startRange\";\n    RangePatternType[\"shared\"] = \"shared\";\n    RangePatternType[\"endRange\"] = \"endRange\";\n})(RangePatternType || (RangePatternType = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isUnicodeLanguageSubtag = exports.isUnicodeScriptSubtag = exports.isUnicodeRegionSubtag = exports.isStructurallyValidLanguageTag = exports.parseUnicodeLanguageId = exports.parseUnicodeLocaleId = exports.getCanonicalLocales = void 0;\nvar tslib_1 = require(\"tslib\");\nvar parser_1 = require(\"./src/parser\");\nvar emitter_1 = require(\"./src/emitter\");\nvar canonicalizer_1 = require(\"./src/canonicalizer\");\n/**\n * https://tc39.es/ecma402/#sec-canonicalizelocalelist\n * @param locales\n */\nfunction CanonicalizeLocaleList(locales) {\n    if (locales === undefined) {\n        return [];\n    }\n    var seen = [];\n    if (typeof locales === 'string') {\n        locales = [locales];\n    }\n    for (var _i = 0, locales_1 = locales; _i < locales_1.length; _i++) {\n        var locale = locales_1[_i];\n        var canonicalizedTag = emitter_1.emitUnicodeLocaleId(canonicalizer_1.canonicalizeUnicodeLocaleId(parser_1.parseUnicodeLocaleId(locale)));\n        if (seen.indexOf(canonicalizedTag) < 0) {\n            seen.push(canonicalizedTag);\n        }\n    }\n    return seen;\n}\nfunction getCanonicalLocales(locales) {\n    return CanonicalizeLocaleList(locales);\n}\nexports.getCanonicalLocales = getCanonicalLocales;\nvar parser_2 = require(\"./src/parser\");\nObject.defineProperty(exports, \"parseUnicodeLocaleId\", { enumerable: true, get: function () { return parser_2.parseUnicodeLocaleId; } });\nObject.defineProperty(exports, \"parseUnicodeLanguageId\", { enumerable: true, get: function () { return parser_2.parseUnicodeLanguageId; } });\nObject.defineProperty(exports, \"isStructurallyValidLanguageTag\", { enumerable: true, get: function () { return parser_2.isStructurallyValidLanguageTag; } });\nObject.defineProperty(exports, \"isUnicodeRegionSubtag\", { enumerable: true, get: function () { return parser_2.isUnicodeRegionSubtag; } });\nObject.defineProperty(exports, \"isUnicodeScriptSubtag\", { enumerable: true, get: function () { return parser_2.isUnicodeScriptSubtag; } });\nObject.defineProperty(exports, \"isUnicodeLanguageSubtag\", { enumerable: true, get: function () { return parser_2.isUnicodeLanguageSubtag; } });\ntslib_1.__exportStar(require(\"./src/types\"), exports);\ntslib_1.__exportStar(require(\"./src/emitter\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.canonicalizeUnicodeLocaleId = exports.canonicalizeUnicodeLanguageId = void 0;\nvar tslib_1 = require(\"tslib\");\nvar aliases_1 = require(\"./data/aliases\");\nvar parser_1 = require(\"./parser\");\nvar likelySubtags = tslib_1.__importStar(require(\"cldr-core/supplemental/likelySubtags.json\"));\nvar emitter_1 = require(\"./emitter\");\nfunction canonicalizeAttrs(strs) {\n    return Object.keys(strs.reduce(function (all, str) {\n        all[str.toLowerCase()] = 1;\n        return all;\n    }, {})).sort();\n}\nfunction canonicalizeKVs(arr) {\n    var all = {};\n    var result = [];\n    for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n        var kv = arr_1[_i];\n        if (kv[0] in all) {\n            continue;\n        }\n        all[kv[0]] = 1;\n        if (!kv[1] || kv[1] === 'true') {\n            result.push([kv[0].toLowerCase()]);\n        }\n        else {\n            result.push([kv[0].toLowerCase(), kv[1].toLowerCase()]);\n        }\n    }\n    return result.sort(compareKV);\n}\nfunction compareKV(t1, t2) {\n    return t1[0] < t2[0] ? -1 : t1[0] > t2[0] ? 1 : 0;\n}\nfunction compareExtension(e1, e2) {\n    return e1.type < e2.type ? -1 : e1.type > e2.type ? 1 : 0;\n}\nfunction mergeVariants(v1, v2) {\n    var result = tslib_1.__spreadArrays(v1);\n    for (var _i = 0, v2_1 = v2; _i < v2_1.length; _i++) {\n        var v = v2_1[_i];\n        if (v1.indexOf(v) < 0) {\n            result.push(v);\n        }\n    }\n    return result;\n}\n/**\n * CAVEAT: We don't do this section in the spec bc they have no JSON data\n * Use the bcp47 data to replace keys, types, tfields, and tvalues by their canonical forms. See Section 3.6.4 U Extension Data Files) and Section 3.7.1 T Extension Data Files. The aliases are in the alias attribute value, while the canonical is in the name attribute value. For example,\nBecause of the following bcp47 data:\n<key name=\"ms\"…>…<type name=\"uksystem\" … alias=\"imperial\" … />…</key>\nWe get the following transformation:\nen-u-ms-imperial ⇒ en-u-ms-uksystem\n * @param lang\n */\nfunction canonicalizeUnicodeLanguageId(unicodeLanguageId) {\n    /**\n     * If the language subtag matches the type attribute of a languageAlias element in Supplemental Data, replace the language subtag with the replacement value.\n     *  1. If there are additional subtags in the replacement value, add them to the result, but only if there is no corresponding subtag already in the tag.\n     *  2. Five special deprecated grandfathered codes (such as i-default) are in type attributes, and are also replaced.\n     */\n    // From https://github.com/unicode-org/icu/blob/master/icu4j/main/classes/core/src/com/ibm/icu/util/ULocale.java#L1246\n    // Try language _ variant\n    var finalLangAst = unicodeLanguageId;\n    if (unicodeLanguageId.variants.length) {\n        var replacedLang_1 = '';\n        for (var _i = 0, _a = unicodeLanguageId.variants; _i < _a.length; _i++) {\n            var variant = _a[_i];\n            if ((replacedLang_1 =\n                aliases_1.languageAlias[emitter_1.emitUnicodeLanguageId({\n                    lang: unicodeLanguageId.lang,\n                    variants: [variant],\n                })])) {\n                var replacedLangAst = parser_1.parseUnicodeLanguageId(replacedLang_1.split(parser_1.SEPARATOR));\n                finalLangAst = {\n                    lang: replacedLangAst.lang,\n                    script: finalLangAst.script || replacedLangAst.script,\n                    region: finalLangAst.region || replacedLangAst.region,\n                    variants: mergeVariants(finalLangAst.variants, replacedLangAst.variants),\n                };\n                break;\n            }\n        }\n    }\n    // language _ script _ country\n    // ug-Arab-CN -> ug-CN\n    if (finalLangAst.script && finalLangAst.region) {\n        var replacedLang_2 = aliases_1.languageAlias[emitter_1.emitUnicodeLanguageId({\n            lang: finalLangAst.lang,\n            script: finalLangAst.script,\n            region: finalLangAst.region,\n            variants: [],\n        })];\n        if (replacedLang_2) {\n            var replacedLangAst = parser_1.parseUnicodeLanguageId(replacedLang_2.split(parser_1.SEPARATOR));\n            finalLangAst = {\n                lang: replacedLangAst.lang,\n                script: replacedLangAst.script,\n                region: replacedLangAst.region,\n                variants: finalLangAst.variants,\n            };\n        }\n    }\n    // language _ country\n    // eg. az_AZ -> az_Latn_A\n    if (finalLangAst.region) {\n        var replacedLang_3 = aliases_1.languageAlias[emitter_1.emitUnicodeLanguageId({\n            lang: finalLangAst.lang,\n            region: finalLangAst.region,\n            variants: [],\n        })];\n        if (replacedLang_3) {\n            var replacedLangAst = parser_1.parseUnicodeLanguageId(replacedLang_3.split(parser_1.SEPARATOR));\n            finalLangAst = {\n                lang: replacedLangAst.lang,\n                script: finalLangAst.script || replacedLangAst.script,\n                region: replacedLangAst.region,\n                variants: finalLangAst.variants,\n            };\n        }\n    }\n    // only language\n    // e.g. twi -> ak\n    var replacedLang = aliases_1.languageAlias[emitter_1.emitUnicodeLanguageId({\n        lang: finalLangAst.lang,\n        variants: [],\n    })];\n    if (replacedLang) {\n        var replacedLangAst = parser_1.parseUnicodeLanguageId(replacedLang.split(parser_1.SEPARATOR));\n        finalLangAst = {\n            lang: replacedLangAst.lang,\n            script: finalLangAst.script || replacedLangAst.script,\n            region: finalLangAst.region || replacedLangAst.region,\n            variants: finalLangAst.variants,\n        };\n    }\n    if (finalLangAst.region) {\n        var region = finalLangAst.region.toUpperCase();\n        var regionAlias = aliases_1.territoryAlias[region];\n        var replacedRegion = void 0;\n        if (regionAlias) {\n            var regions = regionAlias.split(' ');\n            replacedRegion = regions[0];\n            var likelySubtag = likelySubtags.supplemental.likelySubtags[emitter_1.emitUnicodeLanguageId({\n                lang: finalLangAst.lang,\n                script: finalLangAst.script,\n                variants: [],\n            })];\n            if (likelySubtag) {\n                var likelyRegion = parser_1.parseUnicodeLanguageId(likelySubtag.split(parser_1.SEPARATOR)).region;\n                if (likelyRegion && regions.indexOf(likelyRegion) > -1) {\n                    replacedRegion = likelyRegion;\n                }\n            }\n        }\n        if (replacedRegion) {\n            finalLangAst.region = replacedRegion;\n        }\n        finalLangAst.region = finalLangAst.region.toUpperCase();\n    }\n    if (finalLangAst.script) {\n        finalLangAst.script =\n            finalLangAst.script[0].toUpperCase() +\n                finalLangAst.script.slice(1).toLowerCase();\n        if (aliases_1.scriptAlias[finalLangAst.script]) {\n            finalLangAst.script = aliases_1.scriptAlias[finalLangAst.script];\n        }\n    }\n    if (finalLangAst.variants.length) {\n        for (var i = 0; i < finalLangAst.variants.length; i++) {\n            var variant = finalLangAst.variants[i].toLowerCase();\n            if (aliases_1.variantAlias[variant]) {\n                var alias = aliases_1.variantAlias[variant];\n                if (parser_1.isUnicodeVariantSubtag(alias)) {\n                    finalLangAst.variants[i] = alias;\n                }\n                else if (parser_1.isUnicodeLanguageSubtag(alias)) {\n                    // Yes this can happen per the spec\n                    finalLangAst.lang = alias;\n                }\n            }\n        }\n        finalLangAst.variants.sort();\n    }\n    return finalLangAst;\n}\nexports.canonicalizeUnicodeLanguageId = canonicalizeUnicodeLanguageId;\n/**\n * Canonicalize based on\n * https://www.unicode.org/reports/tr35/tr35.html#Canonical_Unicode_Locale_Identifiers\n * https://tc39.es/ecma402/#sec-canonicalizeunicodelocaleid\n * IMPORTANT: This modifies the object inline\n * @param locale\n */\nfunction canonicalizeUnicodeLocaleId(locale) {\n    locale.lang = canonicalizeUnicodeLanguageId(locale.lang);\n    if (locale.extensions) {\n        for (var _i = 0, _a = locale.extensions; _i < _a.length; _i++) {\n            var extension = _a[_i];\n            switch (extension.type) {\n                case 'u':\n                    extension.keywords = canonicalizeKVs(extension.keywords);\n                    if (extension.attributes) {\n                        extension.attributes = canonicalizeAttrs(extension.attributes);\n                    }\n                    break;\n                case 't':\n                    if (extension.lang) {\n                        extension.lang = canonicalizeUnicodeLanguageId(extension.lang);\n                    }\n                    extension.fields = canonicalizeKVs(extension.fields);\n                    break;\n                default:\n                    extension.value = extension.value.toLowerCase();\n                    break;\n            }\n        }\n        locale.extensions.sort(compareExtension);\n    }\n    return locale;\n}\nexports.canonicalizeUnicodeLocaleId = canonicalizeUnicodeLocaleId;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.variantAlias = exports.scriptAlias = exports.territoryAlias = exports.languageAlias = void 0;\n/* @generated */\n// prettier-ignore  \nexports.languageAlias = {\n    \"aa-saaho\": \"ssy\",\n    \"aam\": \"aas\",\n    \"aar\": \"aa\",\n    \"abk\": \"ab\",\n    \"adp\": \"dz\",\n    \"afr\": \"af\",\n    \"agp\": \"apf\",\n    \"ais\": \"ami\",\n    \"aju\": \"jrb\",\n    \"aka\": \"ak\",\n    \"alb\": \"sq\",\n    \"als\": \"sq\",\n    \"amh\": \"am\",\n    \"ara\": \"ar\",\n    \"arb\": \"ar\",\n    \"arg\": \"an\",\n    \"arm\": \"hy\",\n    \"art-lojban\": \"jbo\",\n    \"asd\": \"snz\",\n    \"asm\": \"as\",\n    \"aue\": \"ktz\",\n    \"ava\": \"av\",\n    \"ave\": \"ae\",\n    \"aym\": \"ay\",\n    \"ayr\": \"ay\",\n    \"ayx\": \"nun\",\n    \"aze\": \"az\",\n    \"azj\": \"az\",\n    \"bak\": \"ba\",\n    \"bam\": \"bm\",\n    \"baq\": \"eu\",\n    \"baz\": \"nvo\",\n    \"bcc\": \"bal\",\n    \"bcl\": \"bik\",\n    \"bel\": \"be\",\n    \"ben\": \"bn\",\n    \"bgm\": \"bcg\",\n    \"bh\": \"bho\",\n    \"bhk\": \"fbl\",\n    \"bih\": \"bho\",\n    \"bis\": \"bi\",\n    \"bjd\": \"drl\",\n    \"bjq\": \"bzc\",\n    \"bkb\": \"ebk\",\n    \"bod\": \"bo\",\n    \"bos\": \"bs\",\n    \"bre\": \"br\",\n    \"btb\": \"beb\",\n    \"bul\": \"bg\",\n    \"bur\": \"my\",\n    \"bxk\": \"luy\",\n    \"bxr\": \"bua\",\n    \"cat\": \"ca\",\n    \"ccq\": \"rki\",\n    \"cel-gaulish\": \"xtg\",\n    \"ces\": \"cs\",\n    \"cha\": \"ch\",\n    \"che\": \"ce\",\n    \"chi\": \"zh\",\n    \"chu\": \"cu\",\n    \"chv\": \"cv\",\n    \"cjr\": \"mom\",\n    \"cka\": \"cmr\",\n    \"cld\": \"syr\",\n    \"cmk\": \"xch\",\n    \"cmn\": \"zh\",\n    \"cnr\": \"sr-ME\",\n    \"cor\": \"kw\",\n    \"cos\": \"co\",\n    \"coy\": \"pij\",\n    \"cqu\": \"quh\",\n    \"cre\": \"cr\",\n    \"cwd\": \"cr\",\n    \"cym\": \"cy\",\n    \"cze\": \"cs\",\n    \"daf\": \"dnj\",\n    \"dan\": \"da\",\n    \"dap\": \"njz\",\n    \"deu\": \"de\",\n    \"dgo\": \"doi\",\n    \"dhd\": \"mwr\",\n    \"dik\": \"din\",\n    \"diq\": \"zza\",\n    \"dit\": \"dif\",\n    \"div\": \"dv\",\n    \"djl\": \"dze\",\n    \"dkl\": \"aqd\",\n    \"drh\": \"mn\",\n    \"drr\": \"kzk\",\n    \"drw\": \"fa-AF\",\n    \"dud\": \"uth\",\n    \"duj\": \"dwu\",\n    \"dut\": \"nl\",\n    \"dwl\": \"dbt\",\n    \"dzo\": \"dz\",\n    \"ekk\": \"et\",\n    \"ell\": \"el\",\n    \"elp\": \"amq\",\n    \"emk\": \"man\",\n    \"en-GB-oed\": \"en-GB-oxendict\",\n    \"eng\": \"en\",\n    \"epo\": \"eo\",\n    \"esk\": \"ik\",\n    \"est\": \"et\",\n    \"eus\": \"eu\",\n    \"ewe\": \"ee\",\n    \"fao\": \"fo\",\n    \"fas\": \"fa\",\n    \"fat\": \"ak\",\n    \"fij\": \"fj\",\n    \"fin\": \"fi\",\n    \"fra\": \"fr\",\n    \"fre\": \"fr\",\n    \"fry\": \"fy\",\n    \"fuc\": \"ff\",\n    \"ful\": \"ff\",\n    \"gav\": \"dev\",\n    \"gaz\": \"om\",\n    \"gbc\": \"wny\",\n    \"gbo\": \"grb\",\n    \"geo\": \"ka\",\n    \"ger\": \"de\",\n    \"gfx\": \"vaj\",\n    \"ggn\": \"gvr\",\n    \"ggo\": \"esg\",\n    \"ggr\": \"gtu\",\n    \"gio\": \"aou\",\n    \"gla\": \"gd\",\n    \"gle\": \"ga\",\n    \"glg\": \"gl\",\n    \"gli\": \"kzk\",\n    \"glv\": \"gv\",\n    \"gno\": \"gon\",\n    \"gre\": \"el\",\n    \"grn\": \"gn\",\n    \"gti\": \"nyc\",\n    \"gug\": \"gn\",\n    \"guj\": \"gu\",\n    \"guv\": \"duz\",\n    \"gya\": \"gba\",\n    \"hat\": \"ht\",\n    \"hau\": \"ha\",\n    \"hbs\": \"sr-Latn\",\n    \"hdn\": \"hai\",\n    \"hea\": \"hmn\",\n    \"heb\": \"he\",\n    \"her\": \"hz\",\n    \"him\": \"srx\",\n    \"hin\": \"hi\",\n    \"hmo\": \"ho\",\n    \"hrr\": \"jal\",\n    \"hrv\": \"hr\",\n    \"hun\": \"hu\",\n    \"hy-arevmda\": \"hyw\",\n    \"hye\": \"hy\",\n    \"i-ami\": \"ami\",\n    \"i-bnn\": \"bnn\",\n    \"i-default\": \"en-x-i-default\",\n    \"i-enochian\": \"und-x-i-enochian\",\n    \"i-hak\": \"hak\",\n    \"i-klingon\": \"tlh\",\n    \"i-lux\": \"lb\",\n    \"i-mingo\": \"see-x-i-mingo\",\n    \"i-navajo\": \"nv\",\n    \"i-pwn\": \"pwn\",\n    \"i-tao\": \"tao\",\n    \"i-tay\": \"tay\",\n    \"i-tsu\": \"tsu\",\n    \"ibi\": \"opa\",\n    \"ibo\": \"ig\",\n    \"ice\": \"is\",\n    \"ido\": \"io\",\n    \"iii\": \"ii\",\n    \"ike\": \"iu\",\n    \"iku\": \"iu\",\n    \"ile\": \"ie\",\n    \"ill\": \"ilm\",\n    \"ilw\": \"gal\",\n    \"in\": \"id\",\n    \"ina\": \"ia\",\n    \"ind\": \"id\",\n    \"ipk\": \"ik\",\n    \"isl\": \"is\",\n    \"ita\": \"it\",\n    \"iw\": \"he\",\n    \"izi\": \"eza\",\n    \"jar\": \"jgk\",\n    \"jav\": \"jv\",\n    \"jeg\": \"oyb\",\n    \"ji\": \"yi\",\n    \"jpn\": \"ja\",\n    \"jw\": \"jv\",\n    \"kal\": \"kl\",\n    \"kan\": \"kn\",\n    \"kas\": \"ks\",\n    \"kat\": \"ka\",\n    \"kau\": \"kr\",\n    \"kaz\": \"kk\",\n    \"kdv\": \"zkd\",\n    \"kgc\": \"tdf\",\n    \"kgd\": \"ncq\",\n    \"kgh\": \"kml\",\n    \"khk\": \"mn\",\n    \"khm\": \"km\",\n    \"kik\": \"ki\",\n    \"kin\": \"rw\",\n    \"kir\": \"ky\",\n    \"kmr\": \"ku\",\n    \"knc\": \"kr\",\n    \"kng\": \"kg\",\n    \"knn\": \"kok\",\n    \"koj\": \"kwv\",\n    \"kom\": \"kv\",\n    \"kon\": \"kg\",\n    \"kor\": \"ko\",\n    \"kpp\": \"jkm\",\n    \"kpv\": \"kv\",\n    \"krm\": \"bmf\",\n    \"ktr\": \"dtp\",\n    \"kua\": \"kj\",\n    \"kur\": \"ku\",\n    \"kvs\": \"gdj\",\n    \"kwq\": \"yam\",\n    \"kxe\": \"tvd\",\n    \"kxl\": \"kru\",\n    \"kzh\": \"dgl\",\n    \"kzj\": \"dtp\",\n    \"kzt\": \"dtp\",\n    \"lao\": \"lo\",\n    \"lat\": \"la\",\n    \"lav\": \"lv\",\n    \"lbk\": \"bnc\",\n    \"leg\": \"enl\",\n    \"lii\": \"raq\",\n    \"lim\": \"li\",\n    \"lin\": \"ln\",\n    \"lit\": \"lt\",\n    \"llo\": \"ngt\",\n    \"lmm\": \"rmx\",\n    \"ltz\": \"lb\",\n    \"lub\": \"lu\",\n    \"lug\": \"lg\",\n    \"lvs\": \"lv\",\n    \"mac\": \"mk\",\n    \"mah\": \"mh\",\n    \"mal\": \"ml\",\n    \"mao\": \"mi\",\n    \"mar\": \"mr\",\n    \"may\": \"ms\",\n    \"meg\": \"cir\",\n    \"mgx\": \"jbk\",\n    \"mhr\": \"chm\",\n    \"mkd\": \"mk\",\n    \"mlg\": \"mg\",\n    \"mlt\": \"mt\",\n    \"mnk\": \"man\",\n    \"mnt\": \"wnn\",\n    \"mo\": \"ro\",\n    \"mof\": \"xnt\",\n    \"mol\": \"ro\",\n    \"mon\": \"mn\",\n    \"mri\": \"mi\",\n    \"msa\": \"ms\",\n    \"mst\": \"mry\",\n    \"mup\": \"raj\",\n    \"mwd\": \"dmw\",\n    \"mwj\": \"vaj\",\n    \"mya\": \"my\",\n    \"myd\": \"aog\",\n    \"myt\": \"mry\",\n    \"nad\": \"xny\",\n    \"nau\": \"na\",\n    \"nav\": \"nv\",\n    \"nbf\": \"nru\",\n    \"nbl\": \"nr\",\n    \"nbx\": \"ekc\",\n    \"ncp\": \"kdz\",\n    \"nde\": \"nd\",\n    \"ndo\": \"ng\",\n    \"nep\": \"ne\",\n    \"nld\": \"nl\",\n    \"nln\": \"azd\",\n    \"nlr\": \"nrk\",\n    \"nno\": \"nn\",\n    \"nns\": \"nbr\",\n    \"nnx\": \"ngv\",\n    \"no\": \"nb\",\n    \"no-bok\": \"nb\",\n    \"no-bokmal\": \"nb\",\n    \"no-nyn\": \"nn\",\n    \"no-nynorsk\": \"nn\",\n    \"nob\": \"nb\",\n    \"noo\": \"dtd\",\n    \"nor\": \"nb\",\n    \"npi\": \"ne\",\n    \"nts\": \"pij\",\n    \"nxu\": \"bpp\",\n    \"nya\": \"ny\",\n    \"oci\": \"oc\",\n    \"ojg\": \"oj\",\n    \"oji\": \"oj\",\n    \"ori\": \"or\",\n    \"orm\": \"om\",\n    \"ory\": \"or\",\n    \"oss\": \"os\",\n    \"oun\": \"vaj\",\n    \"pan\": \"pa\",\n    \"pbu\": \"ps\",\n    \"pcr\": \"adx\",\n    \"per\": \"fa\",\n    \"pes\": \"fa\",\n    \"pli\": \"pi\",\n    \"plt\": \"mg\",\n    \"pmc\": \"huw\",\n    \"pmu\": \"phr\",\n    \"pnb\": \"lah\",\n    \"pol\": \"pl\",\n    \"por\": \"pt\",\n    \"ppa\": \"bfy\",\n    \"ppr\": \"lcq\",\n    \"prs\": \"fa-AF\",\n    \"pry\": \"prt\",\n    \"pus\": \"ps\",\n    \"puz\": \"pub\",\n    \"que\": \"qu\",\n    \"quz\": \"qu\",\n    \"rmr\": \"emx\",\n    \"rmy\": \"rom\",\n    \"roh\": \"rm\",\n    \"ron\": \"ro\",\n    \"rum\": \"ro\",\n    \"run\": \"rn\",\n    \"rus\": \"ru\",\n    \"sag\": \"sg\",\n    \"san\": \"sa\",\n    \"sap\": \"aqt\",\n    \"sca\": \"hle\",\n    \"scc\": \"sr\",\n    \"scr\": \"hr\",\n    \"sgl\": \"isk\",\n    \"sgn-BE-FR\": \"sfb\",\n    \"sgn-BE-NL\": \"vgt\",\n    \"sgn-BR\": \"bzs\",\n    \"sgn-CH-DE\": \"sgg\",\n    \"sgn-CO\": \"csn\",\n    \"sgn-DE\": \"gsg\",\n    \"sgn-DK\": \"dsl\",\n    \"sgn-ES\": \"ssp\",\n    \"sgn-FR\": \"fsl\",\n    \"sgn-GB\": \"bfi\",\n    \"sgn-GR\": \"gss\",\n    \"sgn-IE\": \"isg\",\n    \"sgn-IT\": \"ise\",\n    \"sgn-JP\": \"jsl\",\n    \"sgn-MX\": \"mfs\",\n    \"sgn-NI\": \"ncs\",\n    \"sgn-NL\": \"dse\",\n    \"sgn-NO\": \"nsi\",\n    \"sgn-PT\": \"psr\",\n    \"sgn-SE\": \"swl\",\n    \"sgn-US\": \"ase\",\n    \"sgn-ZA\": \"sfs\",\n    \"sh\": \"sr-Latn\",\n    \"sin\": \"si\",\n    \"skk\": \"oyb\",\n    \"slk\": \"sk\",\n    \"slo\": \"sk\",\n    \"slv\": \"sl\",\n    \"sme\": \"se\",\n    \"smo\": \"sm\",\n    \"sna\": \"sn\",\n    \"snd\": \"sd\",\n    \"som\": \"so\",\n    \"sot\": \"st\",\n    \"spa\": \"es\",\n    \"spy\": \"kln\",\n    \"sqi\": \"sq\",\n    \"src\": \"sc\",\n    \"srd\": \"sc\",\n    \"srp\": \"sr\",\n    \"ssw\": \"ss\",\n    \"sul\": \"sgd\",\n    \"sum\": \"ulw\",\n    \"sun\": \"su\",\n    \"swa\": \"sw\",\n    \"swc\": \"sw-CD\",\n    \"swe\": \"sv\",\n    \"swh\": \"sw\",\n    \"tah\": \"ty\",\n    \"tam\": \"ta\",\n    \"tat\": \"tt\",\n    \"tdu\": \"dtp\",\n    \"tel\": \"te\",\n    \"tgg\": \"bjp\",\n    \"tgk\": \"tg\",\n    \"tgl\": \"fil\",\n    \"tha\": \"th\",\n    \"thc\": \"tpo\",\n    \"thw\": \"ola\",\n    \"thx\": \"oyb\",\n    \"tib\": \"bo\",\n    \"tid\": \"itd\",\n    \"tie\": \"ras\",\n    \"tir\": \"ti\",\n    \"tkk\": \"twm\",\n    \"tl\": \"fil\",\n    \"tlw\": \"weo\",\n    \"tmp\": \"tyj\",\n    \"tne\": \"kak\",\n    \"tnf\": \"fa-AF\",\n    \"ton\": \"to\",\n    \"tsf\": \"taj\",\n    \"tsn\": \"tn\",\n    \"tso\": \"ts\",\n    \"ttq\": \"tmh\",\n    \"tuk\": \"tk\",\n    \"tur\": \"tr\",\n    \"tw\": \"ak\",\n    \"twi\": \"ak\",\n    \"uig\": \"ug\",\n    \"ukr\": \"uk\",\n    \"umu\": \"del\",\n    \"und-aaland\": \"und-AX\",\n    \"und-arevela\": \"und\",\n    \"und-arevmda\": \"und\",\n    \"und-bokmal\": \"und\",\n    \"und-hakka\": \"und\",\n    \"und-hepburn-heploc\": \"und-alalc97\",\n    \"und-lojban\": \"und\",\n    \"und-nynorsk\": \"und\",\n    \"und-saaho\": \"und\",\n    \"und-xiang\": \"und\",\n    \"unp\": \"wro\",\n    \"uok\": \"ema\",\n    \"urd\": \"ur\",\n    \"uzb\": \"uz\",\n    \"uzn\": \"uz\",\n    \"ven\": \"ve\",\n    \"vie\": \"vi\",\n    \"vol\": \"vo\",\n    \"wel\": \"cy\",\n    \"wgw\": \"wgb\",\n    \"wit\": \"nol\",\n    \"wiw\": \"nwo\",\n    \"wln\": \"wa\",\n    \"wol\": \"wo\",\n    \"xba\": \"cax\",\n    \"xho\": \"xh\",\n    \"xia\": \"acn\",\n    \"xkh\": \"waw\",\n    \"xpe\": \"kpe\",\n    \"xrq\": \"dmw\",\n    \"xsj\": \"suj\",\n    \"xsl\": \"den\",\n    \"ybd\": \"rki\",\n    \"ydd\": \"yi\",\n    \"yen\": \"ynq\",\n    \"yid\": \"yi\",\n    \"yiy\": \"yrm\",\n    \"yma\": \"lrr\",\n    \"ymt\": \"mtm\",\n    \"yor\": \"yo\",\n    \"yos\": \"zom\",\n    \"yuu\": \"yug\",\n    \"zai\": \"zap\",\n    \"zh-cmn\": \"zh\",\n    \"zh-cmn-Hans\": \"zh-Hans\",\n    \"zh-cmn-Hant\": \"zh-Hant\",\n    \"zh-gan\": \"gan\",\n    \"zh-guoyu\": \"zh\",\n    \"zh-hakka\": \"hak\",\n    \"zh-min\": \"nan-x-zh-min\",\n    \"zh-min-nan\": \"nan\",\n    \"zh-wuu\": \"wuu\",\n    \"zh-xiang\": \"hsn\",\n    \"zh-yue\": \"yue\",\n    \"zha\": \"za\",\n    \"zho\": \"zh\",\n    \"zir\": \"scv\",\n    \"zsm\": \"ms\",\n    \"zul\": \"zu\",\n    \"zyb\": \"za\"\n};\nexports.territoryAlias = {\n    \"100\": \"BG\",\n    \"104\": \"MM\",\n    \"108\": \"BI\",\n    \"112\": \"BY\",\n    \"116\": \"KH\",\n    \"120\": \"CM\",\n    \"124\": \"CA\",\n    \"132\": \"CV\",\n    \"136\": \"KY\",\n    \"140\": \"CF\",\n    \"144\": \"LK\",\n    \"148\": \"TD\",\n    \"152\": \"CL\",\n    \"156\": \"CN\",\n    \"158\": \"TW\",\n    \"162\": \"CX\",\n    \"166\": \"CC\",\n    \"170\": \"CO\",\n    \"172\": \"RU AM AZ BY GE KG KZ MD TJ TM UA UZ\",\n    \"174\": \"KM\",\n    \"175\": \"YT\",\n    \"178\": \"CG\",\n    \"180\": \"CD\",\n    \"184\": \"CK\",\n    \"188\": \"CR\",\n    \"191\": \"HR\",\n    \"192\": \"CU\",\n    \"196\": \"CY\",\n    \"200\": \"CZ SK\",\n    \"203\": \"CZ\",\n    \"204\": \"BJ\",\n    \"208\": \"DK\",\n    \"212\": \"DM\",\n    \"214\": \"DO\",\n    \"218\": \"EC\",\n    \"222\": \"SV\",\n    \"226\": \"GQ\",\n    \"230\": \"ET\",\n    \"231\": \"ET\",\n    \"232\": \"ER\",\n    \"233\": \"EE\",\n    \"234\": \"FO\",\n    \"238\": \"FK\",\n    \"239\": \"GS\",\n    \"242\": \"FJ\",\n    \"246\": \"FI\",\n    \"248\": \"AX\",\n    \"249\": \"FR\",\n    \"250\": \"FR\",\n    \"254\": \"GF\",\n    \"258\": \"PF\",\n    \"260\": \"TF\",\n    \"262\": \"DJ\",\n    \"266\": \"GA\",\n    \"268\": \"GE\",\n    \"270\": \"GM\",\n    \"275\": \"PS\",\n    \"276\": \"DE\",\n    \"278\": \"DE\",\n    \"280\": \"DE\",\n    \"288\": \"GH\",\n    \"292\": \"GI\",\n    \"296\": \"KI\",\n    \"300\": \"GR\",\n    \"304\": \"GL\",\n    \"308\": \"GD\",\n    \"312\": \"GP\",\n    \"316\": \"GU\",\n    \"320\": \"GT\",\n    \"324\": \"GN\",\n    \"328\": \"GY\",\n    \"332\": \"HT\",\n    \"334\": \"HM\",\n    \"336\": \"VA\",\n    \"340\": \"HN\",\n    \"344\": \"HK\",\n    \"348\": \"HU\",\n    \"352\": \"IS\",\n    \"356\": \"IN\",\n    \"360\": \"ID\",\n    \"364\": \"IR\",\n    \"368\": \"IQ\",\n    \"372\": \"IE\",\n    \"376\": \"IL\",\n    \"380\": \"IT\",\n    \"384\": \"CI\",\n    \"388\": \"JM\",\n    \"392\": \"JP\",\n    \"398\": \"KZ\",\n    \"400\": \"JO\",\n    \"404\": \"KE\",\n    \"408\": \"KP\",\n    \"410\": \"KR\",\n    \"414\": \"KW\",\n    \"417\": \"KG\",\n    \"418\": \"LA\",\n    \"422\": \"LB\",\n    \"426\": \"LS\",\n    \"428\": \"LV\",\n    \"430\": \"LR\",\n    \"434\": \"LY\",\n    \"438\": \"LI\",\n    \"440\": \"LT\",\n    \"442\": \"LU\",\n    \"446\": \"MO\",\n    \"450\": \"MG\",\n    \"454\": \"MW\",\n    \"458\": \"MY\",\n    \"462\": \"MV\",\n    \"466\": \"ML\",\n    \"470\": \"MT\",\n    \"474\": \"MQ\",\n    \"478\": \"MR\",\n    \"480\": \"MU\",\n    \"484\": \"MX\",\n    \"492\": \"MC\",\n    \"496\": \"MN\",\n    \"498\": \"MD\",\n    \"499\": \"ME\",\n    \"500\": \"MS\",\n    \"504\": \"MA\",\n    \"508\": \"MZ\",\n    \"512\": \"OM\",\n    \"516\": \"NA\",\n    \"520\": \"NR\",\n    \"524\": \"NP\",\n    \"528\": \"NL\",\n    \"530\": \"CW SX BQ\",\n    \"531\": \"CW\",\n    \"532\": \"CW SX BQ\",\n    \"533\": \"AW\",\n    \"534\": \"SX\",\n    \"535\": \"BQ\",\n    \"536\": \"SA IQ\",\n    \"540\": \"NC\",\n    \"548\": \"VU\",\n    \"554\": \"NZ\",\n    \"558\": \"NI\",\n    \"562\": \"NE\",\n    \"566\": \"NG\",\n    \"570\": \"NU\",\n    \"574\": \"NF\",\n    \"578\": \"NO\",\n    \"580\": \"MP\",\n    \"581\": \"UM\",\n    \"582\": \"FM MH MP PW\",\n    \"583\": \"FM\",\n    \"584\": \"MH\",\n    \"585\": \"PW\",\n    \"586\": \"PK\",\n    \"591\": \"PA\",\n    \"598\": \"PG\",\n    \"600\": \"PY\",\n    \"604\": \"PE\",\n    \"608\": \"PH\",\n    \"612\": \"PN\",\n    \"616\": \"PL\",\n    \"620\": \"PT\",\n    \"624\": \"GW\",\n    \"626\": \"TL\",\n    \"630\": \"PR\",\n    \"634\": \"QA\",\n    \"638\": \"RE\",\n    \"642\": \"RO\",\n    \"643\": \"RU\",\n    \"646\": \"RW\",\n    \"652\": \"BL\",\n    \"654\": \"SH\",\n    \"659\": \"KN\",\n    \"660\": \"AI\",\n    \"662\": \"LC\",\n    \"663\": \"MF\",\n    \"666\": \"PM\",\n    \"670\": \"VC\",\n    \"674\": \"SM\",\n    \"678\": \"ST\",\n    \"682\": \"SA\",\n    \"686\": \"SN\",\n    \"688\": \"RS\",\n    \"690\": \"SC\",\n    \"694\": \"SL\",\n    \"702\": \"SG\",\n    \"703\": \"SK\",\n    \"704\": \"VN\",\n    \"705\": \"SI\",\n    \"706\": \"SO\",\n    \"710\": \"ZA\",\n    \"716\": \"ZW\",\n    \"720\": \"YE\",\n    \"724\": \"ES\",\n    \"728\": \"SS\",\n    \"729\": \"SD\",\n    \"732\": \"EH\",\n    \"736\": \"SD\",\n    \"740\": \"SR\",\n    \"744\": \"SJ\",\n    \"748\": \"SZ\",\n    \"752\": \"SE\",\n    \"756\": \"CH\",\n    \"760\": \"SY\",\n    \"762\": \"TJ\",\n    \"764\": \"TH\",\n    \"768\": \"TG\",\n    \"772\": \"TK\",\n    \"776\": \"TO\",\n    \"780\": \"TT\",\n    \"784\": \"AE\",\n    \"788\": \"TN\",\n    \"792\": \"TR\",\n    \"795\": \"TM\",\n    \"796\": \"TC\",\n    \"798\": \"TV\",\n    \"800\": \"UG\",\n    \"804\": \"UA\",\n    \"807\": \"MK\",\n    \"810\": \"RU AM AZ BY EE GE KZ KG LV LT MD TJ TM UA UZ\",\n    \"818\": \"EG\",\n    \"826\": \"GB\",\n    \"830\": \"JE GG\",\n    \"831\": \"GG\",\n    \"832\": \"JE\",\n    \"833\": \"IM\",\n    \"834\": \"TZ\",\n    \"840\": \"US\",\n    \"850\": \"VI\",\n    \"854\": \"BF\",\n    \"858\": \"UY\",\n    \"860\": \"UZ\",\n    \"862\": \"VE\",\n    \"876\": \"WF\",\n    \"882\": \"WS\",\n    \"886\": \"YE\",\n    \"887\": \"YE\",\n    \"890\": \"RS ME SI HR MK BA\",\n    \"891\": \"RS ME\",\n    \"894\": \"ZM\",\n    \"958\": \"AA\",\n    \"959\": \"QM\",\n    \"960\": \"QN\",\n    \"962\": \"QP\",\n    \"963\": \"QQ\",\n    \"964\": \"QR\",\n    \"965\": \"QS\",\n    \"966\": \"QT\",\n    \"967\": \"EU\",\n    \"968\": \"QV\",\n    \"969\": \"QW\",\n    \"970\": \"QX\",\n    \"971\": \"QY\",\n    \"972\": \"QZ\",\n    \"973\": \"XA\",\n    \"974\": \"XB\",\n    \"975\": \"XC\",\n    \"976\": \"XD\",\n    \"977\": \"XE\",\n    \"978\": \"XF\",\n    \"979\": \"XG\",\n    \"980\": \"XH\",\n    \"981\": \"XI\",\n    \"982\": \"XJ\",\n    \"983\": \"XK\",\n    \"984\": \"XL\",\n    \"985\": \"XM\",\n    \"986\": \"XN\",\n    \"987\": \"XO\",\n    \"988\": \"XP\",\n    \"989\": \"XQ\",\n    \"990\": \"XR\",\n    \"991\": \"XS\",\n    \"992\": \"XT\",\n    \"993\": \"XU\",\n    \"994\": \"XV\",\n    \"995\": \"XW\",\n    \"996\": \"XX\",\n    \"997\": \"XY\",\n    \"998\": \"XZ\",\n    \"999\": \"ZZ\",\n    \"004\": \"AF\",\n    \"008\": \"AL\",\n    \"010\": \"AQ\",\n    \"012\": \"DZ\",\n    \"016\": \"AS\",\n    \"020\": \"AD\",\n    \"024\": \"AO\",\n    \"028\": \"AG\",\n    \"031\": \"AZ\",\n    \"032\": \"AR\",\n    \"036\": \"AU\",\n    \"040\": \"AT\",\n    \"044\": \"BS\",\n    \"048\": \"BH\",\n    \"050\": \"BD\",\n    \"051\": \"AM\",\n    \"052\": \"BB\",\n    \"056\": \"BE\",\n    \"060\": \"BM\",\n    \"062\": \"034 143\",\n    \"064\": \"BT\",\n    \"068\": \"BO\",\n    \"070\": \"BA\",\n    \"072\": \"BW\",\n    \"074\": \"BV\",\n    \"076\": \"BR\",\n    \"084\": \"BZ\",\n    \"086\": \"IO\",\n    \"090\": \"SB\",\n    \"092\": \"VG\",\n    \"096\": \"BN\",\n    \"AAA\": \"AA\",\n    \"ABW\": \"AW\",\n    \"AFG\": \"AF\",\n    \"AGO\": \"AO\",\n    \"AIA\": \"AI\",\n    \"ALA\": \"AX\",\n    \"ALB\": \"AL\",\n    \"AN\": \"CW SX BQ\",\n    \"AND\": \"AD\",\n    \"ANT\": \"CW SX BQ\",\n    \"ARE\": \"AE\",\n    \"ARG\": \"AR\",\n    \"ARM\": \"AM\",\n    \"ASC\": \"AC\",\n    \"ASM\": \"AS\",\n    \"ATA\": \"AQ\",\n    \"ATF\": \"TF\",\n    \"ATG\": \"AG\",\n    \"AUS\": \"AU\",\n    \"AUT\": \"AT\",\n    \"AZE\": \"AZ\",\n    \"BDI\": \"BI\",\n    \"BEL\": \"BE\",\n    \"BEN\": \"BJ\",\n    \"BES\": \"BQ\",\n    \"BFA\": \"BF\",\n    \"BGD\": \"BD\",\n    \"BGR\": \"BG\",\n    \"BHR\": \"BH\",\n    \"BHS\": \"BS\",\n    \"BIH\": \"BA\",\n    \"BLM\": \"BL\",\n    \"BLR\": \"BY\",\n    \"BLZ\": \"BZ\",\n    \"BMU\": \"BM\",\n    \"BOL\": \"BO\",\n    \"BRA\": \"BR\",\n    \"BRB\": \"BB\",\n    \"BRN\": \"BN\",\n    \"BTN\": \"BT\",\n    \"BU\": \"MM\",\n    \"BUR\": \"MM\",\n    \"BVT\": \"BV\",\n    \"BWA\": \"BW\",\n    \"CAF\": \"CF\",\n    \"CAN\": \"CA\",\n    \"CCK\": \"CC\",\n    \"CHE\": \"CH\",\n    \"CHL\": \"CL\",\n    \"CHN\": \"CN\",\n    \"CIV\": \"CI\",\n    \"CMR\": \"CM\",\n    \"COD\": \"CD\",\n    \"COG\": \"CG\",\n    \"COK\": \"CK\",\n    \"COL\": \"CO\",\n    \"COM\": \"KM\",\n    \"CPT\": \"CP\",\n    \"CPV\": \"CV\",\n    \"CRI\": \"CR\",\n    \"CS\": \"RS ME\",\n    \"CT\": \"KI\",\n    \"CUB\": \"CU\",\n    \"CUW\": \"CW\",\n    \"CXR\": \"CX\",\n    \"CYM\": \"KY\",\n    \"CYP\": \"CY\",\n    \"CZE\": \"CZ\",\n    \"DD\": \"DE\",\n    \"DDR\": \"DE\",\n    \"DEU\": \"DE\",\n    \"DGA\": \"DG\",\n    \"DJI\": \"DJ\",\n    \"DMA\": \"DM\",\n    \"DNK\": \"DK\",\n    \"DOM\": \"DO\",\n    \"DY\": \"BJ\",\n    \"DZA\": \"DZ\",\n    \"ECU\": \"EC\",\n    \"EGY\": \"EG\",\n    \"ERI\": \"ER\",\n    \"ESH\": \"EH\",\n    \"ESP\": \"ES\",\n    \"EST\": \"EE\",\n    \"ETH\": \"ET\",\n    \"FIN\": \"FI\",\n    \"FJI\": \"FJ\",\n    \"FLK\": \"FK\",\n    \"FQ\": \"AQ TF\",\n    \"FRA\": \"FR\",\n    \"FRO\": \"FO\",\n    \"FSM\": \"FM\",\n    \"FX\": \"FR\",\n    \"FXX\": \"FR\",\n    \"GAB\": \"GA\",\n    \"GBR\": \"GB\",\n    \"GEO\": \"GE\",\n    \"GGY\": \"GG\",\n    \"GHA\": \"GH\",\n    \"GIB\": \"GI\",\n    \"GIN\": \"GN\",\n    \"GLP\": \"GP\",\n    \"GMB\": \"GM\",\n    \"GNB\": \"GW\",\n    \"GNQ\": \"GQ\",\n    \"GRC\": \"GR\",\n    \"GRD\": \"GD\",\n    \"GRL\": \"GL\",\n    \"GTM\": \"GT\",\n    \"GUF\": \"GF\",\n    \"GUM\": \"GU\",\n    \"GUY\": \"GY\",\n    \"HKG\": \"HK\",\n    \"HMD\": \"HM\",\n    \"HND\": \"HN\",\n    \"HRV\": \"HR\",\n    \"HTI\": \"HT\",\n    \"HUN\": \"HU\",\n    \"HV\": \"BF\",\n    \"IDN\": \"ID\",\n    \"IMN\": \"IM\",\n    \"IND\": \"IN\",\n    \"IOT\": \"IO\",\n    \"IRL\": \"IE\",\n    \"IRN\": \"IR\",\n    \"IRQ\": \"IQ\",\n    \"ISL\": \"IS\",\n    \"ISR\": \"IL\",\n    \"ITA\": \"IT\",\n    \"JAM\": \"JM\",\n    \"JEY\": \"JE\",\n    \"JOR\": \"JO\",\n    \"JPN\": \"JP\",\n    \"JT\": \"UM\",\n    \"KAZ\": \"KZ\",\n    \"KEN\": \"KE\",\n    \"KGZ\": \"KG\",\n    \"KHM\": \"KH\",\n    \"KIR\": \"KI\",\n    \"KNA\": \"KN\",\n    \"KOR\": \"KR\",\n    \"KWT\": \"KW\",\n    \"LAO\": \"LA\",\n    \"LBN\": \"LB\",\n    \"LBR\": \"LR\",\n    \"LBY\": \"LY\",\n    \"LCA\": \"LC\",\n    \"LIE\": \"LI\",\n    \"LKA\": \"LK\",\n    \"LSO\": \"LS\",\n    \"LTU\": \"LT\",\n    \"LUX\": \"LU\",\n    \"LVA\": \"LV\",\n    \"MAC\": \"MO\",\n    \"MAF\": \"MF\",\n    \"MAR\": \"MA\",\n    \"MCO\": \"MC\",\n    \"MDA\": \"MD\",\n    \"MDG\": \"MG\",\n    \"MDV\": \"MV\",\n    \"MEX\": \"MX\",\n    \"MHL\": \"MH\",\n    \"MI\": \"UM\",\n    \"MKD\": \"MK\",\n    \"MLI\": \"ML\",\n    \"MLT\": \"MT\",\n    \"MMR\": \"MM\",\n    \"MNE\": \"ME\",\n    \"MNG\": \"MN\",\n    \"MNP\": \"MP\",\n    \"MOZ\": \"MZ\",\n    \"MRT\": \"MR\",\n    \"MSR\": \"MS\",\n    \"MTQ\": \"MQ\",\n    \"MUS\": \"MU\",\n    \"MWI\": \"MW\",\n    \"MYS\": \"MY\",\n    \"MYT\": \"YT\",\n    \"NAM\": \"NA\",\n    \"NCL\": \"NC\",\n    \"NER\": \"NE\",\n    \"NFK\": \"NF\",\n    \"NGA\": \"NG\",\n    \"NH\": \"VU\",\n    \"NIC\": \"NI\",\n    \"NIU\": \"NU\",\n    \"NLD\": \"NL\",\n    \"NOR\": \"NO\",\n    \"NPL\": \"NP\",\n    \"NQ\": \"AQ\",\n    \"NRU\": \"NR\",\n    \"NT\": \"SA IQ\",\n    \"NTZ\": \"SA IQ\",\n    \"NZL\": \"NZ\",\n    \"OMN\": \"OM\",\n    \"PAK\": \"PK\",\n    \"PAN\": \"PA\",\n    \"PC\": \"FM MH MP PW\",\n    \"PCN\": \"PN\",\n    \"PER\": \"PE\",\n    \"PHL\": \"PH\",\n    \"PLW\": \"PW\",\n    \"PNG\": \"PG\",\n    \"POL\": \"PL\",\n    \"PRI\": \"PR\",\n    \"PRK\": \"KP\",\n    \"PRT\": \"PT\",\n    \"PRY\": \"PY\",\n    \"PSE\": \"PS\",\n    \"PU\": \"UM\",\n    \"PYF\": \"PF\",\n    \"PZ\": \"PA\",\n    \"QAT\": \"QA\",\n    \"QMM\": \"QM\",\n    \"QNN\": \"QN\",\n    \"QPP\": \"QP\",\n    \"QQQ\": \"QQ\",\n    \"QRR\": \"QR\",\n    \"QSS\": \"QS\",\n    \"QTT\": \"QT\",\n    \"QU\": \"EU\",\n    \"QUU\": \"EU\",\n    \"QVV\": \"QV\",\n    \"QWW\": \"QW\",\n    \"QXX\": \"QX\",\n    \"QYY\": \"QY\",\n    \"QZZ\": \"QZ\",\n    \"REU\": \"RE\",\n    \"RH\": \"ZW\",\n    \"ROU\": \"RO\",\n    \"RUS\": \"RU\",\n    \"RWA\": \"RW\",\n    \"SAU\": \"SA\",\n    \"SCG\": \"RS ME\",\n    \"SDN\": \"SD\",\n    \"SEN\": \"SN\",\n    \"SGP\": \"SG\",\n    \"SGS\": \"GS\",\n    \"SHN\": \"SH\",\n    \"SJM\": \"SJ\",\n    \"SLB\": \"SB\",\n    \"SLE\": \"SL\",\n    \"SLV\": \"SV\",\n    \"SMR\": \"SM\",\n    \"SOM\": \"SO\",\n    \"SPM\": \"PM\",\n    \"SRB\": \"RS\",\n    \"SSD\": \"SS\",\n    \"STP\": \"ST\",\n    \"SU\": \"RU AM AZ BY EE GE KZ KG LV LT MD TJ TM UA UZ\",\n    \"SUN\": \"RU AM AZ BY EE GE KZ KG LV LT MD TJ TM UA UZ\",\n    \"SUR\": \"SR\",\n    \"SVK\": \"SK\",\n    \"SVN\": \"SI\",\n    \"SWE\": \"SE\",\n    \"SWZ\": \"SZ\",\n    \"SXM\": \"SX\",\n    \"SYC\": \"SC\",\n    \"SYR\": \"SY\",\n    \"TAA\": \"TA\",\n    \"TCA\": \"TC\",\n    \"TCD\": \"TD\",\n    \"TGO\": \"TG\",\n    \"THA\": \"TH\",\n    \"TJK\": \"TJ\",\n    \"TKL\": \"TK\",\n    \"TKM\": \"TM\",\n    \"TLS\": \"TL\",\n    \"TMP\": \"TL\",\n    \"TON\": \"TO\",\n    \"TP\": \"TL\",\n    \"TTO\": \"TT\",\n    \"TUN\": \"TN\",\n    \"TUR\": \"TR\",\n    \"TUV\": \"TV\",\n    \"TWN\": \"TW\",\n    \"TZA\": \"TZ\",\n    \"UGA\": \"UG\",\n    \"UK\": \"GB\",\n    \"UKR\": \"UA\",\n    \"UMI\": \"UM\",\n    \"URY\": \"UY\",\n    \"USA\": \"US\",\n    \"UZB\": \"UZ\",\n    \"VAT\": \"VA\",\n    \"VCT\": \"VC\",\n    \"VD\": \"VN\",\n    \"VEN\": \"VE\",\n    \"VGB\": \"VG\",\n    \"VIR\": \"VI\",\n    \"VNM\": \"VN\",\n    \"VUT\": \"VU\",\n    \"WK\": \"UM\",\n    \"WLF\": \"WF\",\n    \"WSM\": \"WS\",\n    \"XAA\": \"XA\",\n    \"XBB\": \"XB\",\n    \"XCC\": \"XC\",\n    \"XDD\": \"XD\",\n    \"XEE\": \"XE\",\n    \"XFF\": \"XF\",\n    \"XGG\": \"XG\",\n    \"XHH\": \"XH\",\n    \"XII\": \"XI\",\n    \"XJJ\": \"XJ\",\n    \"XKK\": \"XK\",\n    \"XLL\": \"XL\",\n    \"XMM\": \"XM\",\n    \"XNN\": \"XN\",\n    \"XOO\": \"XO\",\n    \"XPP\": \"XP\",\n    \"XQQ\": \"XQ\",\n    \"XRR\": \"XR\",\n    \"XSS\": \"XS\",\n    \"XTT\": \"XT\",\n    \"XUU\": \"XU\",\n    \"XVV\": \"XV\",\n    \"XWW\": \"XW\",\n    \"XXX\": \"XX\",\n    \"XYY\": \"XY\",\n    \"XZZ\": \"XZ\",\n    \"YD\": \"YE\",\n    \"YEM\": \"YE\",\n    \"YMD\": \"YE\",\n    \"YU\": \"RS ME\",\n    \"YUG\": \"RS ME\",\n    \"ZAF\": \"ZA\",\n    \"ZAR\": \"CD\",\n    \"ZMB\": \"ZM\",\n    \"ZR\": \"CD\",\n    \"ZWE\": \"ZW\",\n    \"ZZZ\": \"ZZ\"\n};\nexports.scriptAlias = {\n    \"Qaai\": \"Zinh\"\n};\nexports.variantAlias = {\n    \"heploc\": \"alalc97\",\n    \"polytoni\": \"polyton\"\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.emitUnicodeLocaleId = exports.emitUnicodeLanguageId = void 0;\nvar tslib_1 = require(\"tslib\");\nfunction emitUnicodeLanguageId(lang) {\n    if (!lang) {\n        return '';\n    }\n    return tslib_1.__spreadArrays([lang.lang, lang.script, lang.region], (lang.variants || [])).filter(Boolean)\n        .join('-');\n}\nexports.emitUnicodeLanguageId = emitUnicodeLanguageId;\nfunction emitUnicodeLocaleId(_a) {\n    var lang = _a.lang, extensions = _a.extensions;\n    var chunks = [emitUnicodeLanguageId(lang)];\n    for (var _i = 0, extensions_1 = extensions; _i < extensions_1.length; _i++) {\n        var ext = extensions_1[_i];\n        chunks.push(ext.type);\n        switch (ext.type) {\n            case 'u':\n                chunks.push.apply(chunks, tslib_1.__spreadArrays(ext.attributes, ext.keywords.reduce(function (all, kv) { return all.concat(kv); }, [])));\n                break;\n            case 't':\n                chunks.push.apply(chunks, tslib_1.__spreadArrays([emitUnicodeLanguageId(ext.lang)], ext.fields.reduce(function (all, kv) { return all.concat(kv); }, [])));\n                break;\n            default:\n                chunks.push(ext.value);\n                break;\n        }\n    }\n    return chunks.filter(Boolean).join('-');\n}\nexports.emitUnicodeLocaleId = emitUnicodeLocaleId;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseUnicodeLocaleId = exports.parseUnicodeLanguageId = exports.isUnicodeVariantSubtag = exports.isUnicodeScriptSubtag = exports.isUnicodeRegionSubtag = exports.isStructurallyValidLanguageTag = exports.isUnicodeLanguageSubtag = exports.SEPARATOR = void 0;\nvar tslib_1 = require(\"tslib\");\nvar ALPHANUM_1_8 = /^[a-z0-9]{1,8}$/i;\nvar ALPHANUM_2_8 = /^[a-z0-9]{2,8}$/i;\nvar ALPHANUM_3_8 = /^[a-z0-9]{3,8}$/i;\nvar KEY_REGEX = /^[a-z0-9][a-z]$/i;\nvar TYPE_REGEX = /^[a-z0-9]{3,8}$/i;\nvar ALPHA_4 = /^[a-z]{4}$/i;\n// alphanum-[tTuUxX]\nvar OTHER_EXTENSION_TYPE = /^[0-9a-svwyz]$/i;\nvar UNICODE_REGION_SUBTAG_REGEX = /^([a-z]{2}|[0-9]{3})$/i;\nvar UNICODE_VARIANT_SUBTAG_REGEX = /^([a-z0-9]{5,8}|[0-9][a-z0-9]{3})$/i;\nvar UNICODE_LANGUAGE_SUBTAG_REGEX = /^([a-z]{2,3}|[a-z]{5,8})$/i;\nvar TKEY_REGEX = /^[a-z][0-9]$/i;\nexports.SEPARATOR = '-';\nfunction isUnicodeLanguageSubtag(lang) {\n    return UNICODE_LANGUAGE_SUBTAG_REGEX.test(lang);\n}\nexports.isUnicodeLanguageSubtag = isUnicodeLanguageSubtag;\nfunction isStructurallyValidLanguageTag(tag) {\n    try {\n        parseUnicodeLanguageId(tag.split(exports.SEPARATOR));\n    }\n    catch (e) {\n        return false;\n    }\n    return true;\n}\nexports.isStructurallyValidLanguageTag = isStructurallyValidLanguageTag;\nfunction isUnicodeRegionSubtag(region) {\n    return UNICODE_REGION_SUBTAG_REGEX.test(region);\n}\nexports.isUnicodeRegionSubtag = isUnicodeRegionSubtag;\nfunction isUnicodeScriptSubtag(script) {\n    return ALPHA_4.test(script);\n}\nexports.isUnicodeScriptSubtag = isUnicodeScriptSubtag;\nfunction isUnicodeVariantSubtag(variant) {\n    return UNICODE_VARIANT_SUBTAG_REGEX.test(variant);\n}\nexports.isUnicodeVariantSubtag = isUnicodeVariantSubtag;\nfunction parseUnicodeLanguageId(chunks) {\n    if (typeof chunks === 'string') {\n        chunks = chunks.split(exports.SEPARATOR);\n    }\n    var lang = chunks.shift();\n    if (!lang) {\n        throw new RangeError('Missing unicode_language_subtag');\n    }\n    if (lang === 'root') {\n        return { lang: 'root', variants: [] };\n    }\n    // unicode_language_subtag\n    if (!isUnicodeLanguageSubtag(lang)) {\n        throw new RangeError('Malformed unicode_language_subtag');\n    }\n    var script;\n    // unicode_script_subtag\n    if (isUnicodeScriptSubtag(chunks[0])) {\n        script = chunks.shift();\n    }\n    var region;\n    // unicode_region_subtag\n    if (isUnicodeRegionSubtag(chunks[0])) {\n        region = chunks.shift();\n    }\n    var variants = {};\n    while (chunks.length && isUnicodeVariantSubtag(chunks[0])) {\n        var variant = chunks.shift();\n        if (variant in variants) {\n            throw new RangeError(\"Duplicate variant \\\"\" + variant + \"\\\"\");\n        }\n        variants[variant] = 1;\n    }\n    return {\n        lang: lang,\n        script: script,\n        region: region,\n        variants: Object.keys(variants),\n    };\n}\nexports.parseUnicodeLanguageId = parseUnicodeLanguageId;\nfunction parseUnicodeExtension(chunks) {\n    var keywords = [];\n    var keyword;\n    while (chunks.length && (keyword = parseKeyword(chunks))) {\n        keywords.push(keyword);\n    }\n    if (keywords.length) {\n        return {\n            type: 'u',\n            keywords: keywords,\n            attributes: [],\n        };\n    }\n    // Mix of attributes & keywords\n    // Check for attributes first\n    var attributes = [];\n    while (chunks.length && ALPHANUM_3_8.test(chunks[0])) {\n        attributes.push(chunks.shift());\n    }\n    while (chunks.length && (keyword = parseKeyword(chunks))) {\n        keywords.push(keyword);\n    }\n    if (keywords.length || attributes.length) {\n        return {\n            type: 'u',\n            attributes: attributes,\n            keywords: keywords,\n        };\n    }\n    throw new RangeError('Malformed unicode_extension');\n}\nfunction parseKeyword(chunks) {\n    var key;\n    if (!KEY_REGEX.test(chunks[0])) {\n        return;\n    }\n    key = chunks.shift();\n    var type = [];\n    while (chunks.length && TYPE_REGEX.test(chunks[0])) {\n        type.push(chunks.shift());\n    }\n    var value = '';\n    if (type.length) {\n        value = type.join(exports.SEPARATOR);\n    }\n    return [key, value];\n}\nfunction parseTransformedExtension(chunks) {\n    var lang;\n    try {\n        lang = parseUnicodeLanguageId(chunks);\n    }\n    catch (e) {\n        // Try just parsing tfield\n    }\n    var fields = [];\n    while (chunks.length && TKEY_REGEX.test(chunks[0])) {\n        var key = chunks.shift();\n        var value = [];\n        while (chunks.length && ALPHANUM_3_8.test(chunks[0])) {\n            value.push(chunks.shift());\n        }\n        if (!value.length) {\n            throw new RangeError(\"Missing tvalue for tkey \\\"\" + key + \"\\\"\");\n        }\n        fields.push([key, value.join(exports.SEPARATOR)]);\n    }\n    if (fields.length) {\n        return {\n            type: 't',\n            fields: fields,\n            lang: lang,\n        };\n    }\n    throw new RangeError('Malformed transformed_extension');\n}\nfunction parsePuExtension(chunks) {\n    var exts = [];\n    while (chunks.length && ALPHANUM_1_8.test(chunks[0])) {\n        exts.push(chunks.shift());\n    }\n    if (exts.length) {\n        return {\n            type: 'x',\n            value: exts.join(exports.SEPARATOR),\n        };\n    }\n    throw new RangeError('Malformed private_use_extension');\n}\nfunction parseOtherExtensionValue(chunks) {\n    var exts = [];\n    while (chunks.length && ALPHANUM_2_8.test(chunks[0])) {\n        exts.push(chunks.shift());\n    }\n    if (exts.length) {\n        return exts.join(exports.SEPARATOR);\n    }\n    return '';\n}\nfunction parseExtensions(chunks) {\n    if (!chunks.length) {\n        return { extensions: [] };\n    }\n    var extensions = [];\n    var unicodeExtension;\n    var transformedExtension;\n    var puExtension;\n    var otherExtensionMap = {};\n    do {\n        var type = chunks.shift();\n        switch (type) {\n            case 'u':\n            case 'U':\n                if (unicodeExtension) {\n                    throw new RangeError('There can only be 1 -u- extension');\n                }\n                unicodeExtension = parseUnicodeExtension(chunks);\n                extensions.push(unicodeExtension);\n                break;\n            case 't':\n            case 'T':\n                if (transformedExtension) {\n                    throw new RangeError('There can only be 1 -t- extension');\n                }\n                transformedExtension = parseTransformedExtension(chunks);\n                extensions.push(transformedExtension);\n                break;\n            case 'x':\n            case 'X':\n                if (puExtension) {\n                    throw new RangeError('There can only be 1 -x- extension');\n                }\n                puExtension = parsePuExtension(chunks);\n                extensions.push(puExtension);\n                break;\n            default:\n                if (!OTHER_EXTENSION_TYPE.test(type)) {\n                    throw new RangeError('Malformed extension type');\n                }\n                if (type in otherExtensionMap) {\n                    throw new RangeError(\"There can only be 1 -\" + type + \"- extension\");\n                }\n                var extension = {\n                    type: type,\n                    value: parseOtherExtensionValue(chunks),\n                };\n                otherExtensionMap[extension.type] = extension;\n                extensions.push(extension);\n                break;\n        }\n    } while (chunks.length);\n    return { extensions: extensions };\n}\nfunction parseUnicodeLocaleId(locale) {\n    var chunks = locale.split(exports.SEPARATOR);\n    var lang = parseUnicodeLanguageId(chunks);\n    return tslib_1.__assign({ lang: lang }, parseExtensions(chunks));\n}\nexports.parseUnicodeLocaleId = parseUnicodeLocaleId;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\nfunction validateInstance(instance, method) {\n    if (!(instance instanceof ListFormat)) {\n        throw new TypeError(\"Method Intl.ListFormat.prototype.\" + method + \" called on incompatible receiver \" + String(instance));\n    }\n}\n/**\n * https://tc39.es/proposal-intl-list-format/#sec-createstringlistfromiterable\n * @param list list\n */\nfunction stringListFromIterable(list) {\n    if (list === undefined) {\n        return [];\n    }\n    var result = [];\n    for (var _i = 0, list_1 = list; _i < list_1.length; _i++) {\n        var el = list_1[_i];\n        if (typeof el !== 'string') {\n            throw new TypeError(\"array list[\" + list.indexOf(el) + \"] is not type String\");\n        }\n        result.push(el);\n    }\n    return result;\n}\nfunction createPartsFromList(internalSlotMap, lf, list) {\n    var size = list.length;\n    if (size === 0) {\n        return [];\n    }\n    if (size === 2) {\n        var pattern = ecma402_abstract_1.getInternalSlot(internalSlotMap, lf, 'templatePair');\n        var first = { type: 'element', value: list[0] };\n        var second = { type: 'element', value: list[1] };\n        return deconstructPattern(pattern, { '0': first, '1': second });\n    }\n    var last = {\n        type: 'element',\n        value: list[size - 1],\n    };\n    var parts = last;\n    var i = size - 2;\n    while (i >= 0) {\n        var pattern = void 0;\n        if (i === 0) {\n            pattern = ecma402_abstract_1.getInternalSlot(internalSlotMap, lf, 'templateStart');\n        }\n        else if (i < size - 2) {\n            pattern = ecma402_abstract_1.getInternalSlot(internalSlotMap, lf, 'templateMiddle');\n        }\n        else {\n            pattern = ecma402_abstract_1.getInternalSlot(internalSlotMap, lf, 'templateEnd');\n        }\n        var head = { type: 'element', value: list[i] };\n        parts = deconstructPattern(pattern, { '0': head, '1': parts });\n        i--;\n    }\n    return parts;\n}\nfunction deconstructPattern(pattern, placeables) {\n    var patternParts = ecma402_abstract_1.PartitionPattern(pattern);\n    var result = [];\n    for (var _i = 0, patternParts_1 = patternParts; _i < patternParts_1.length; _i++) {\n        var patternPart = patternParts_1[_i];\n        var part = patternPart.type;\n        if (ecma402_abstract_1.isLiteralPart(patternPart)) {\n            result.push({\n                type: 'literal',\n                value: patternPart.value,\n            });\n        }\n        else {\n            ecma402_abstract_1.invariant(part in placeables, part + \" is missing from placables\");\n            var subst = placeables[part];\n            if (Array.isArray(subst)) {\n                result.push.apply(result, subst);\n            }\n            else {\n                result.push(subst);\n            }\n        }\n    }\n    return result;\n}\nvar ListFormat = /** @class */ (function () {\n    function ListFormat(locales, options) {\n        // test262/test/intl402/ListFormat/constructor/constructor/newtarget-undefined.js\n        // Cannot use `new.target` bc of IE11 & TS transpiles it to something else\n        var newTarget = this && this instanceof ListFormat ? this.constructor : void 0;\n        if (!newTarget) {\n            throw new TypeError(\"Intl.ListFormat must be called with 'new'\");\n        }\n        ecma402_abstract_1.setInternalSlot(ListFormat.__INTERNAL_SLOT_MAP__, this, 'initializedListFormat', true);\n        var requestedLocales = ecma402_abstract_1.CanonicalizeLocaleList(locales);\n        var opt = Object.create(null);\n        var opts = options === undefined ? Object.create(null) : ecma402_abstract_1.ToObject(options);\n        var matcher = ecma402_abstract_1.GetOption(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n        opt.localeMatcher = matcher;\n        var localeData = ListFormat.localeData;\n        var r = ecma402_abstract_1.ResolveLocale(ListFormat.availableLocales, requestedLocales, opt, ListFormat.relevantExtensionKeys, localeData, ListFormat.getDefaultLocale);\n        ecma402_abstract_1.setInternalSlot(ListFormat.__INTERNAL_SLOT_MAP__, this, 'locale', r.locale);\n        var type = ecma402_abstract_1.GetOption(opts, 'type', 'string', ['conjunction', 'disjunction', 'unit'], 'conjunction');\n        ecma402_abstract_1.setInternalSlot(ListFormat.__INTERNAL_SLOT_MAP__, this, 'type', type);\n        var style = ecma402_abstract_1.GetOption(opts, 'style', 'string', ['long', 'short', 'narrow'], 'long');\n        ecma402_abstract_1.setInternalSlot(ListFormat.__INTERNAL_SLOT_MAP__, this, 'style', style);\n        var dataLocale = r.dataLocale;\n        var dataLocaleData = localeData[dataLocale];\n        ecma402_abstract_1.invariant(!!dataLocaleData, \"Missing locale data for \" + dataLocale);\n        var dataLocaleTypes = dataLocaleData[type];\n        var templates = dataLocaleTypes[style];\n        ecma402_abstract_1.setInternalSlot(ListFormat.__INTERNAL_SLOT_MAP__, this, 'templatePair', templates.pair);\n        ecma402_abstract_1.setInternalSlot(ListFormat.__INTERNAL_SLOT_MAP__, this, 'templateStart', templates.start);\n        ecma402_abstract_1.setInternalSlot(ListFormat.__INTERNAL_SLOT_MAP__, this, 'templateMiddle', templates.middle);\n        ecma402_abstract_1.setInternalSlot(ListFormat.__INTERNAL_SLOT_MAP__, this, 'templateEnd', templates.end);\n    }\n    ListFormat.prototype.format = function (elements) {\n        validateInstance(this, 'format');\n        var result = '';\n        var parts = createPartsFromList(ListFormat.__INTERNAL_SLOT_MAP__, this, stringListFromIterable(elements));\n        if (!Array.isArray(parts)) {\n            return parts.value;\n        }\n        for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n            var p = parts_1[_i];\n            result += p.value;\n        }\n        return result;\n    };\n    ListFormat.prototype.formatToParts = function (elements) {\n        validateInstance(this, 'format');\n        var parts = createPartsFromList(ListFormat.__INTERNAL_SLOT_MAP__, this, stringListFromIterable(elements));\n        if (!Array.isArray(parts)) {\n            return [parts];\n        }\n        var result = [];\n        for (var _i = 0, parts_2 = parts; _i < parts_2.length; _i++) {\n            var part = parts_2[_i];\n            result.push(tslib_1.__assign({}, part));\n        }\n        return result;\n    };\n    ListFormat.prototype.resolvedOptions = function () {\n        validateInstance(this, 'resolvedOptions');\n        return {\n            locale: ecma402_abstract_1.getInternalSlot(ListFormat.__INTERNAL_SLOT_MAP__, this, 'locale'),\n            type: ecma402_abstract_1.getInternalSlot(ListFormat.__INTERNAL_SLOT_MAP__, this, 'type'),\n            style: ecma402_abstract_1.getInternalSlot(ListFormat.__INTERNAL_SLOT_MAP__, this, 'style'),\n        };\n    };\n    ListFormat.supportedLocalesOf = function (locales, options) {\n        // test262/test/intl402/ListFormat/constructor/supportedLocalesOf/result-type.js\n        return ecma402_abstract_1.SupportedLocales(ListFormat.availableLocales, ecma402_abstract_1.CanonicalizeLocaleList(locales), options);\n    };\n    ListFormat.__addLocaleData = function () {\n        var data = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            data[_i] = arguments[_i];\n        }\n        for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n            var _b = data_1[_a], d = _b.data, locale = _b.locale;\n            var minimizedLocale = new Intl.Locale(locale)\n                .minimize()\n                .toString();\n            ListFormat.localeData[locale] = ListFormat.localeData[minimizedLocale] = d;\n            ListFormat.availableLocales.add(minimizedLocale);\n            ListFormat.availableLocales.add(locale);\n            if (!ListFormat.__defaultLocale) {\n                ListFormat.__defaultLocale = minimizedLocale;\n            }\n        }\n    };\n    ListFormat.getDefaultLocale = function () {\n        return ListFormat.__defaultLocale;\n    };\n    ListFormat.localeData = {};\n    ListFormat.availableLocales = new Set();\n    ListFormat.__defaultLocale = '';\n    ListFormat.relevantExtensionKeys = [];\n    ListFormat.polyfilled = true;\n    ListFormat.__INTERNAL_SLOT_MAP__ = new WeakMap();\n    return ListFormat;\n}());\nexports.default = ListFormat;\ntry {\n    // IE11 does not have Symbol\n    if (typeof Symbol !== 'undefined') {\n        Object.defineProperty(ListFormat.prototype, Symbol.toStringTag, {\n            value: 'Intl.ListFormat',\n            writable: false,\n            enumerable: false,\n            configurable: true,\n        });\n    }\n    // https://github.com/tc39/test262/blob/master/test/intl402/ListFormat/constructor/length.js\n    Object.defineProperty(ListFormat.prototype.constructor, 'length', {\n        value: 0,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n    // https://github.com/tc39/test262/blob/master/test/intl402/ListFormat/constructor/supportedLocalesOf/length.js\n    Object.defineProperty(ListFormat.supportedLocalesOf, 'length', {\n        value: 1,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n}\ncatch (e) {\n    // Meta fix so we're test262-compliant, not important\n}\n","/* @generated */\t\n// prettier-ignore\nif (Intl.ListFormat && typeof Intl.ListFormat.__addLocaleData === 'function') {\n  Intl.ListFormat.__addLocaleData({\"data\":{\"conjunction\":{\"long\":{\"start\":\"{0}, {1}\",\"middle\":\"{0}, {1}\",\"end\":\"{0}, and {1}\",\"pair\":\"{0} and {1}\"},\"short\":{\"start\":\"{0}, {1}\",\"middle\":\"{0}, {1}\",\"end\":\"{0}, & {1}\",\"pair\":\"{0} & {1}\"},\"narrow\":{\"start\":\"{0}, {1}\",\"middle\":\"{0}, {1}\",\"end\":\"{0}, {1}\",\"pair\":\"{0}, {1}\"}},\"disjunction\":{\"long\":{\"start\":\"{0}, {1}\",\"middle\":\"{0}, {1}\",\"end\":\"{0}, or {1}\",\"pair\":\"{0} or {1}\"},\"short\":{\"start\":\"{0}, {1}\",\"middle\":\"{0}, {1}\",\"end\":\"{0}, or {1}\",\"pair\":\"{0} or {1}\"},\"narrow\":{\"start\":\"{0}, {1}\",\"middle\":\"{0}, {1}\",\"end\":\"{0}, or {1}\",\"pair\":\"{0} or {1}\"}},\"unit\":{\"long\":{\"start\":\"{0}, {1}\",\"middle\":\"{0}, {1}\",\"end\":\"{0}, {1}\",\"pair\":\"{0}, {1}\"},\"short\":{\"start\":\"{0}, {1}\",\"middle\":\"{0}, {1}\",\"end\":\"{0}, {1}\",\"pair\":\"{0}, {1}\"},\"narrow\":{\"start\":\"{0} {1}\",\"middle\":\"{0} {1}\",\"end\":\"{0} {1}\",\"pair\":\"{0} {1}\"}}},\"locale\":\"en\"}\n)\n}","/**\n * Cannot do Math.log(x) / Math.log(10) bc if IEEE floating point issue\n * @param x number\n */\nexport function getMagnitude(x) {\n    // Cannot count string length via Number.toString because it may use scientific notation\n    // for very small or very large numbers.\n    return Math.floor(Math.log(x) * Math.LOG10E);\n}\nexport function repeat(s, times) {\n    if (typeof s.repeat === 'function') {\n        return s.repeat(times);\n    }\n    var arr = new Array(times);\n    for (var i = 0; i < arr.length; i++) {\n        arr[i] = s;\n    }\n    return arr.join('');\n}\nexport function setInternalSlot(map, pl, field, value) {\n    if (!map.get(pl)) {\n        map.set(pl, Object.create(null));\n    }\n    var slots = map.get(pl);\n    slots[field] = value;\n}\nexport function setMultiInternalSlots(map, pl, props) {\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n        var k = _a[_i];\n        setInternalSlot(map, pl, k, props[k]);\n    }\n}\nexport function getInternalSlot(map, pl, field) {\n    return getMultiInternalSlots(map, pl, field)[field];\n}\nexport function getMultiInternalSlots(map, pl) {\n    var fields = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        fields[_i - 2] = arguments[_i];\n    }\n    var slots = map.get(pl);\n    if (!slots) {\n        throw new TypeError(pl + \" InternalSlot has not been initialized\");\n    }\n    return fields.reduce(function (all, f) {\n        all[f] = slots[f];\n        return all;\n    }, Object.create(null));\n}\nexport function isLiteralPart(patternPart) {\n    return patternPart.type === 'literal';\n}\n/*\n  17 ECMAScript Standard Built-in Objects:\n    Every built-in Function object, including constructors, that is not\n    identified as an anonymous function has a name property whose value\n    is a String.\n\n    Unless otherwise specified, the name property of a built-in Function\n    object, if it exists, has the attributes { [[Writable]]: false,\n    [[Enumerable]]: false, [[Configurable]]: true }.\n*/\nexport function defineProperty(target, name, _a) {\n    var value = _a.value;\n    Object.defineProperty(target, name, {\n        configurable: true,\n        enumerable: false,\n        writable: true,\n        value: value,\n    });\n}\nexport var UNICODE_EXTENSION_SEQUENCE_REGEX = /-u(?:-[0-9a-z]{2,8})+/gi;\nexport function invariant(condition, message, Err) {\n    if (Err === void 0) { Err = Error; }\n    if (!condition) {\n        throw new Err(message);\n    }\n}\n","export var DATE_TIME_PROPS = [\n    'weekday',\n    'era',\n    'year',\n    'month',\n    'day',\n    'hour',\n    'minute',\n    'second',\n    'timeZoneName',\n];\nexport var removalPenalty = 120;\nexport var additionPenalty = 20;\nexport var differentNumericTypePenalty = 15;\nexport var longLessPenalty = 8;\nexport var longMorePenalty = 6;\nexport var shortLessPenalty = 6;\nexport var shortMorePenalty = 3;\n","export var RangePatternType;\n(function (RangePatternType) {\n    RangePatternType[\"startRange\"] = \"startRange\";\n    RangePatternType[\"shared\"] = \"shared\";\n    RangePatternType[\"endRange\"] = \"endRange\";\n})(RangePatternType || (RangePatternType = {}));\n","import { __assign } from \"tslib\";\nimport { RangePatternType, } from '../types/date-time';\n/**\n * https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * Credit: https://github.com/caridy/intl-datetimeformat-pattern/blob/master/index.js\n * with some tweaks\n */\nvar DATE_TIME_REGEX = /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;\n// trim patterns after transformations\nvar expPatternTrimmer = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\nfunction matchSkeletonPattern(match, result) {\n    var len = match.length;\n    switch (match[0]) {\n        // Era\n        case 'G':\n            result.era = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n            return '{era}';\n        // Year\n        case 'y':\n        case 'Y':\n        case 'u':\n        case 'U':\n        case 'r':\n            result.year = len === 2 ? '2-digit' : 'numeric';\n            return '{year}';\n        // Quarter\n        case 'q':\n        case 'Q':\n            throw new RangeError('`w/Q` (quarter) patterns are not supported');\n        // Month\n        case 'M':\n        case 'L':\n            result.month = ['numeric', '2-digit', 'short', 'long', 'narrow'][len - 1];\n            return '{month}';\n        // Week\n        case 'w':\n        case 'W':\n            throw new RangeError('`w/W` (week of year) patterns are not supported');\n        case 'd':\n            result.day = ['numeric', '2-digit'][len - 1];\n            return '{day}';\n        case 'D':\n        case 'F':\n        case 'g':\n            result.day = 'numeric';\n            return '{day}';\n        // Weekday\n        case 'E':\n            result.weekday = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n            return '{weekday}';\n        case 'e':\n            result.weekday = [\n                undefined,\n                undefined,\n                'short',\n                'long',\n                'narrow',\n                'short',\n            ][len - 1];\n            return '{weekday}';\n        case 'c':\n            result.weekday = [\n                undefined,\n                undefined,\n                'short',\n                'long',\n                'narrow',\n                'short',\n            ][len - 1];\n            return '{weekday}';\n        // Period\n        case 'a': // AM, PM\n        case 'b': // am, pm, noon, midnight\n        case 'B': // flexible day periods\n            result.hour12 = true;\n            return '{ampm}';\n        // Hour\n        case 'h':\n            result.hour = ['numeric', '2-digit'][len - 1];\n            result.hour12 = true;\n            return '{hour}';\n        case 'H':\n            result.hour = ['numeric', '2-digit'][len - 1];\n            return '{hour}';\n        case 'K':\n            result.hour = ['numeric', '2-digit'][len - 1];\n            result.hour12 = true;\n            return '{hour}';\n        case 'k':\n            result.hour = ['numeric', '2-digit'][len - 1];\n            return '{hour}';\n        case 'j':\n        case 'J':\n        case 'C':\n            throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');\n        // Minute\n        case 'm':\n            result.minute = ['numeric', '2-digit'][len - 1];\n            return '{minute}';\n        // Second\n        case 's':\n            result.second = ['numeric', '2-digit'][len - 1];\n            return '{second}';\n        case 'S':\n        case 'A':\n            result.second = 'numeric';\n            return '{second}';\n        // Zone\n        case 'z': // 1..3, 4: specific non-location format\n        case 'Z': // 1..3, 4, 5: The ISO8601 varios formats\n        case 'O': // 1, 4: miliseconds in day short, long\n        case 'v': // 1, 4: generic non-location format\n        case 'V': // 1, 2, 3, 4: time zone ID or city\n        case 'X': // 1, 2, 3, 4: The ISO8601 varios formats\n        case 'x': // 1, 2, 3, 4: The ISO8601 varios formats\n            result.timeZoneName = len < 4 ? 'short' : 'long';\n            return '{timeZoneName}';\n    }\n    return '';\n}\nfunction skeletonTokenToTable2(c) {\n    switch (c) {\n        // Era\n        case 'G':\n            return 'era';\n        // Year\n        case 'y':\n        case 'Y':\n        case 'u':\n        case 'U':\n        case 'r':\n            return 'year';\n        // Month\n        case 'M':\n        case 'L':\n            return 'month';\n        // Day\n        case 'd':\n        case 'D':\n        case 'F':\n        case 'g':\n            return 'day';\n        // Period\n        case 'a': // AM, PM\n        case 'b': // am, pm, noon, midnight\n        case 'B': // flexible day periods\n            return 'ampm';\n        // Hour\n        case 'h':\n        case 'H':\n        case 'K':\n        case 'k':\n            return 'hour';\n        // Minute\n        case 'm':\n            return 'minute';\n        // Second\n        case 's':\n        case 'S':\n        case 'A':\n            return 'second';\n        default:\n            throw new RangeError('Invalid range pattern token');\n    }\n}\nexport function processDateTimePattern(pattern, result) {\n    var literals = [];\n    // Use skeleton to populate result, but use mapped pattern to populate pattern\n    var pattern12 = pattern\n        // Double apostrophe\n        .replace(/'{2}/g, '{apostrophe}')\n        // Apostrophe-escaped\n        .replace(/'(.*?)'/g, function (_, literal) {\n        literals.push(literal);\n        return \"$$\" + (literals.length - 1) + \"$$\";\n    })\n        .replace(DATE_TIME_REGEX, function (m) { return matchSkeletonPattern(m, result || {}); });\n    //Restore literals\n    if (literals.length) {\n        pattern12 = pattern12\n            .replace(/\\$\\$(\\d+)\\$\\$/g, function (_, i) {\n            return literals[+i];\n        })\n            .replace(/\\{apostrophe\\}/g, \"'\");\n    }\n    // Handle apostrophe-escaped things\n    return [\n        pattern12\n            .replace(/([\\s\\uFEFF\\xA0])\\{ampm\\}([\\s\\uFEFF\\xA0])/, '$1')\n            .replace('{ampm}', '')\n            .replace(expPatternTrimmer, ''),\n        pattern12,\n    ];\n}\n/**\n * Parse Date time skeleton into Intl.DateTimeFormatOptions\n * Ref: https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * @public\n * @param skeleton skeleton string\n */\nexport function parseDateTimeSkeleton(skeleton, rawPattern, rangePatterns, intervalFormatFallback) {\n    if (rawPattern === void 0) { rawPattern = skeleton; }\n    var result = {\n        pattern: '',\n        pattern12: '',\n        skeleton: skeleton,\n        rawPattern: rawPattern,\n        rangePatterns: {},\n        rangePatterns12: {},\n    };\n    if (rangePatterns) {\n        for (var k in rangePatterns) {\n            var key = skeletonTokenToTable2(k);\n            var rawPattern_1 = rangePatterns[k];\n            var intervalResult = {\n                patternParts: [],\n            };\n            var _a = processDateTimePattern(rawPattern_1, intervalResult), pattern_1 = _a[0], pattern12_1 = _a[1];\n            result.rangePatterns[key] = __assign(__assign({}, intervalResult), { patternParts: splitRangePattern(pattern_1) });\n            result.rangePatterns12[key] = __assign(__assign({}, intervalResult), { patternParts: splitRangePattern(pattern12_1) });\n        }\n    }\n    else if (intervalFormatFallback) {\n        var patternParts = splitFallbackRangePattern(intervalFormatFallback);\n        result.rangePatterns.default = {\n            patternParts: patternParts,\n        };\n        result.rangePatterns12.default = {\n            patternParts: patternParts,\n        };\n    }\n    // Process skeleton\n    skeleton.replace(DATE_TIME_REGEX, function (m) { return matchSkeletonPattern(m, result); });\n    var _b = processDateTimePattern(rawPattern), pattern = _b[0], pattern12 = _b[1];\n    result.pattern = pattern;\n    result.pattern12 = pattern12;\n    return result;\n}\nexport function splitFallbackRangePattern(pattern) {\n    var parts = pattern.split(/(\\{[0|1]\\})/g).filter(Boolean);\n    return parts.map(function (pattern) {\n        switch (pattern) {\n            case '{0}':\n                return {\n                    source: RangePatternType.startRange,\n                    pattern: pattern,\n                };\n            case '{1}':\n                return {\n                    source: RangePatternType.endRange,\n                    pattern: pattern,\n                };\n            default:\n                return {\n                    source: RangePatternType.shared,\n                    pattern: pattern,\n                };\n        }\n    });\n}\nexport function splitRangePattern(pattern) {\n    var PART_REGEX = /\\{(.*?)\\}/g;\n    // Map of part and index within the string\n    var parts = {};\n    var match;\n    var splitIndex = 0;\n    while ((match = PART_REGEX.exec(pattern))) {\n        if (!(match[0] in parts)) {\n            parts[match[0]] = match.index;\n        }\n        else {\n            splitIndex = match.index;\n            break;\n        }\n    }\n    if (!splitIndex) {\n        return [\n            {\n                source: RangePatternType.startRange,\n                pattern: pattern,\n            },\n        ];\n    }\n    return [\n        {\n            source: RangePatternType.startRange,\n            pattern: pattern.slice(0, splitIndex),\n        },\n        {\n            source: RangePatternType.endRange,\n            pattern: pattern.slice(splitIndex),\n        },\n    ];\n}\n","import { __assign } from \"tslib\";\nimport { invariant } from '../utils';\nimport { DATE_TIME_PROPS, removalPenalty, additionPenalty, differentNumericTypePenalty, longMorePenalty, shortMorePenalty, shortLessPenalty, longLessPenalty, } from './utils';\nimport { processDateTimePattern } from './skeleton';\nfunction isNumericType(t) {\n    return t === 'numeric' || t === '2-digit';\n}\n/**\n * Credit: https://github.com/andyearnshaw/Intl.js/blob/0958dc1ad8153f1056653ea22b8208f0df289a4e/src/12.datetimeformat.js#L611\n * with some modifications\n * @param options\n * @param format\n */\nexport function bestFitFormatMatcherScore(options, format) {\n    var score = 0;\n    if (options.hour12 && !format.hour12) {\n        score -= removalPenalty;\n    }\n    else if (!options.hour12 && format.hour12) {\n        score -= additionPenalty;\n    }\n    for (var _i = 0, DATE_TIME_PROPS_1 = DATE_TIME_PROPS; _i < DATE_TIME_PROPS_1.length; _i++) {\n        var prop = DATE_TIME_PROPS_1[_i];\n        var optionsProp = options[prop];\n        var formatProp = format[prop];\n        if (optionsProp === undefined && formatProp !== undefined) {\n            score -= additionPenalty;\n        }\n        else if (optionsProp !== undefined && formatProp === undefined) {\n            score -= removalPenalty;\n        }\n        else if (optionsProp !== formatProp) {\n            // extra penalty for numeric vs non-numeric\n            if (isNumericType(optionsProp) !==\n                isNumericType(formatProp)) {\n                score -= differentNumericTypePenalty;\n            }\n            else {\n                var values = ['2-digit', 'numeric', 'narrow', 'short', 'long'];\n                var optionsPropIndex = values.indexOf(optionsProp);\n                var formatPropIndex = values.indexOf(formatProp);\n                var delta = Math.max(-2, Math.min(formatPropIndex - optionsPropIndex, 2));\n                if (delta === 2) {\n                    score -= longMorePenalty;\n                }\n                else if (delta === 1) {\n                    score -= shortMorePenalty;\n                }\n                else if (delta === -1) {\n                    score -= shortLessPenalty;\n                }\n                else if (delta === -2) {\n                    score -= longLessPenalty;\n                }\n            }\n        }\n    }\n    return score;\n}\n/**\n * https://tc39.es/ecma402/#sec-bestfitformatmatcher\n * Just alias to basic for now\n * @param options\n * @param formats\n * @param implDetails Implementation details\n */\nexport function BestFitFormatMatcher(options, formats) {\n    var bestScore = -Infinity;\n    var bestFormat = formats[0];\n    invariant(Array.isArray(formats), 'formats should be a list of things');\n    for (var _i = 0, formats_1 = formats; _i < formats_1.length; _i++) {\n        var format = formats_1[_i];\n        var score = bestFitFormatMatcherScore(options, format);\n        if (score > bestScore) {\n            bestScore = score;\n            bestFormat = format;\n        }\n    }\n    var skeletonFormat = __assign({}, bestFormat);\n    var patternFormat = { rawPattern: bestFormat.rawPattern };\n    processDateTimePattern(bestFormat.rawPattern, patternFormat);\n    // Kinda following https://github.com/unicode-org/icu/blob/dd50e38f459d84e9bf1b0c618be8483d318458ad/icu4j/main/classes/core/src/com/ibm/icu/text/DateTimePatternGenerator.java\n    // Method adjustFieldTypes\n    for (var prop in skeletonFormat) {\n        var skeletonValue = skeletonFormat[prop];\n        var patternValue = patternFormat[prop];\n        var requestedValue = options[prop];\n        // Don't mess with minute/second or we can get in the situation of\n        // 7:0:0 which is weird\n        if (prop === 'minute' || prop === 'second') {\n            continue;\n        }\n        // Nothing to do here\n        if (!requestedValue) {\n            continue;\n        }\n        // https://unicode.org/reports/tr35/tr35-dates.html#Matching_Skeletons\n        // Looks like we should not convert numeric to alphabetic but the other way\n        // around is ok\n        if (isNumericType(patternValue) &&\n            !isNumericType(requestedValue)) {\n            continue;\n        }\n        if (skeletonValue === requestedValue) {\n            continue;\n        }\n        patternFormat[prop] = requestedValue;\n    }\n    // Copy those over\n    patternFormat.pattern = skeletonFormat.pattern;\n    patternFormat.pattern12 = skeletonFormat.pattern12;\n    patternFormat.skeleton = skeletonFormat.skeleton;\n    patternFormat.rangePatterns = skeletonFormat.rangePatterns;\n    patternFormat.rangePatterns12 = skeletonFormat.rangePatterns12;\n    return patternFormat;\n}\n","/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-canonicalizelocalelist\n * @param locales\n */\nexport function CanonicalizeLocaleList(locales) {\n    // TODO\n    return Intl.getCanonicalLocales(locales);\n}\n","/**\n * https://tc39.es/ecma402/#sec-canonicalizetimezonename\n * @param tz\n */\nexport function CanonicalizeTimeZoneName(tz, _a) {\n    var tzData = _a.tzData, uppercaseLinks = _a.uppercaseLinks;\n    var uppercasedTz = tz.toUpperCase();\n    var uppercasedZones = Object.keys(tzData).reduce(function (all, z) {\n        all[z.toUpperCase()] = z;\n        return all;\n    }, {});\n    var ianaTimeZone = uppercaseLinks[uppercasedTz] || uppercasedZones[uppercasedTz];\n    if (ianaTimeZone === 'Etc/UTC' || ianaTimeZone === 'Etc/GMT') {\n        return 'UTC';\n    }\n    return ianaTimeZone;\n}\n","import { __assign } from \"tslib\";\nimport { invariant } from '../utils';\nimport { DATE_TIME_PROPS, additionPenalty, removalPenalty, longMorePenalty, shortMorePenalty, shortLessPenalty, longLessPenalty, } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-basicformatmatcher\n * @param options\n * @param formats\n */\nexport function BasicFormatMatcher(options, formats) {\n    var bestScore = -Infinity;\n    var bestFormat = formats[0];\n    invariant(Array.isArray(formats), 'formats should be a list of things');\n    for (var _i = 0, formats_1 = formats; _i < formats_1.length; _i++) {\n        var format = formats_1[_i];\n        var score = 0;\n        for (var _a = 0, DATE_TIME_PROPS_1 = DATE_TIME_PROPS; _a < DATE_TIME_PROPS_1.length; _a++) {\n            var prop = DATE_TIME_PROPS_1[_a];\n            var optionsProp = options[prop];\n            var formatProp = format[prop];\n            if (optionsProp === undefined && formatProp !== undefined) {\n                score -= additionPenalty;\n            }\n            else if (optionsProp !== undefined && formatProp === undefined) {\n                score -= removalPenalty;\n            }\n            else if (optionsProp !== formatProp) {\n                var values = ['2-digit', 'numeric', 'narrow', 'short', 'long'];\n                var optionsPropIndex = values.indexOf(optionsProp);\n                var formatPropIndex = values.indexOf(formatProp);\n                var delta = Math.max(-2, Math.min(formatPropIndex - optionsPropIndex, 2));\n                if (delta === 2) {\n                    score -= longMorePenalty;\n                }\n                else if (delta === 1) {\n                    score -= shortMorePenalty;\n                }\n                else if (delta === -1) {\n                    score -= shortLessPenalty;\n                }\n                else if (delta === -2) {\n                    score -= longLessPenalty;\n                }\n            }\n        }\n        if (score > bestScore) {\n            bestScore = score;\n            bestFormat = format;\n        }\n    }\n    return __assign({}, bestFormat);\n}\n","import { invariant } from '../utils';\nexport function DateTimeStyleFormat(dateStyle, timeStyle, dataLocaleData) {\n    var dateFormat, timeFormat;\n    if (timeStyle !== undefined) {\n        invariant(timeStyle === 'full' ||\n            timeStyle === 'long' ||\n            timeStyle === 'medium' ||\n            timeStyle === 'short', 'invalid timeStyle');\n        timeFormat = dataLocaleData.timeFormat[timeStyle];\n    }\n    if (dateStyle !== undefined) {\n        invariant(dateStyle === 'full' ||\n            dateStyle === 'long' ||\n            dateStyle === 'medium' ||\n            dateStyle === 'short', 'invalid dateStyle');\n        dateFormat = dataLocaleData.dateFormat[dateStyle];\n    }\n    if (dateStyle !== undefined && timeStyle !== undefined) {\n        var format = {};\n        for (var field in dateFormat) {\n            if (field !== 'pattern') {\n                // @ts-ignore\n                format[field] = dateFormat[field];\n            }\n        }\n        for (var field in timeFormat) {\n            if (field !== 'pattern' && field !== 'pattern12') {\n                // @ts-ignore\n                format[field] = timeFormat[field];\n            }\n        }\n        var connector = dataLocaleData.dateTimeFormat[dateStyle];\n        var pattern = connector\n            .replace('{0}', timeFormat.pattern)\n            .replace('{1}', dateFormat.pattern);\n        format.pattern = pattern;\n        if ('pattern12' in timeFormat) {\n            var pattern12 = connector\n                .replace('{0}', timeFormat.pattern12)\n                .replace('{1}', dateFormat.pattern);\n            format.pattern12 = pattern12;\n        }\n        return format;\n    }\n    if (timeStyle !== undefined) {\n        return timeFormat;\n    }\n    invariant(dateStyle !== undefined, 'dateStyle should not be undefined');\n    return dateFormat;\n}\n","/**\n * https://tc39.es/ecma262/#sec-tostring\n */\nexport function ToString(o) {\n    // Only symbol is irregular...\n    if (typeof o === 'symbol') {\n        throw TypeError('Cannot convert a Symbol value to a string');\n    }\n    return String(o);\n}\n/**\n * https://tc39.es/ecma262/#sec-tonumber\n * @param val\n */\nexport function ToNumber(val) {\n    if (val === undefined) {\n        return NaN;\n    }\n    if (val === null) {\n        return +0;\n    }\n    if (typeof val === 'boolean') {\n        return val ? 1 : +0;\n    }\n    if (typeof val === 'number') {\n        return val;\n    }\n    if (typeof val === 'symbol' || typeof val === 'bigint') {\n        throw new TypeError('Cannot convert symbol/bigint to number');\n    }\n    return Number(val);\n}\n/**\n * https://tc39.es/ecma262/#sec-tointeger\n * @param n\n */\nfunction ToInteger(n) {\n    var number = ToNumber(n);\n    if (isNaN(number) || SameValue(number, -0)) {\n        return 0;\n    }\n    if (isFinite(number)) {\n        return number;\n    }\n    var integer = Math.floor(Math.abs(number));\n    if (number < 0) {\n        integer = -integer;\n    }\n    if (SameValue(integer, -0)) {\n        return 0;\n    }\n    return integer;\n}\n/**\n * https://tc39.es/ecma262/#sec-timeclip\n * @param time\n */\nexport function TimeClip(time) {\n    if (!isFinite(time)) {\n        return NaN;\n    }\n    if (Math.abs(time) > 8.64 * 1e16) {\n        return NaN;\n    }\n    return ToInteger(time);\n}\n/**\n * https://tc39.es/ecma262/#sec-toobject\n * @param arg\n */\nexport function ToObject(arg) {\n    if (arg == null) {\n        throw new TypeError('undefined/null cannot be converted to object');\n    }\n    return Object(arg);\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-samevalue\n * @param x\n * @param y\n */\nexport function SameValue(x, y) {\n    if (Object.is) {\n        return Object.is(x, y);\n    }\n    // SameValue algorithm\n    if (x === y) {\n        // Steps 1-5, 7-10\n        // Steps 6.b-6.e: +0 != -0\n        return x !== 0 || 1 / x === 1 / y;\n    }\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-arraycreate\n * @param len\n */\nexport function ArrayCreate(len) {\n    return new Array(len);\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-hasownproperty\n * @param o\n * @param prop\n */\nexport function HasOwnProperty(o, prop) {\n    return Object.prototype.hasOwnProperty.call(o, prop);\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-type\n * @param x\n */\nexport function Type(x) {\n    if (x === null) {\n        return 'Null';\n    }\n    if (typeof x === 'undefined') {\n        return 'Undefined';\n    }\n    if (typeof x === 'function' || typeof x === 'object') {\n        return 'Object';\n    }\n    if (typeof x === 'number') {\n        return 'Number';\n    }\n    if (typeof x === 'boolean') {\n        return 'Boolean';\n    }\n    if (typeof x === 'string') {\n        return 'String';\n    }\n    if (typeof x === 'symbol') {\n        return 'Symbol';\n    }\n    if (typeof x === 'bigint') {\n        return 'BigInt';\n    }\n}\nvar MS_PER_DAY = 86400000;\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#eqn-modulo\n * @param x\n * @param y\n * @return k of the same sign as y\n */\nfunction mod(x, y) {\n    return x - Math.floor(x / y) * y;\n}\n/**\n * https://tc39.es/ecma262/#eqn-Day\n * @param t\n */\nexport function Day(t) {\n    return Math.floor(t / MS_PER_DAY);\n}\n/**\n * https://tc39.es/ecma262/#sec-week-day\n * @param t\n */\nexport function WeekDay(t) {\n    return mod(Day(t) + 4, 7);\n}\n/**\n * https://tc39.es/ecma262/#sec-year-number\n * @param y\n */\nexport function DayFromYear(y) {\n    return (365 * (y - 1970) +\n        Math.floor((y - 1969) / 4) -\n        Math.floor((y - 1901) / 100) +\n        Math.floor((y - 1601) / 400));\n}\n/**\n * https://tc39.es/ecma262/#sec-year-number\n * @param y\n */\nexport function TimeFromYear(y) {\n    return MS_PER_DAY * DayFromYear(y);\n}\n/**\n * https://tc39.es/ecma262/#sec-year-number\n * @param t\n */\nexport function YearFromTime(t) {\n    var min = Math.ceil(t / MS_PER_DAY / 366);\n    var y = min;\n    while (TimeFromYear(y) <= t) {\n        y++;\n    }\n    return y - 1;\n}\nexport function DaysInYear(y) {\n    if (y % 4 !== 0) {\n        return 365;\n    }\n    if (y % 100 !== 0) {\n        return 366;\n    }\n    if (y % 400 !== 0) {\n        return 365;\n    }\n    return 366;\n}\nexport function DayWithinYear(t) {\n    return Day(t) - DayFromYear(YearFromTime(t));\n}\nexport function InLeapYear(t) {\n    return DaysInYear(YearFromTime(t)) === 365 ? 0 : 1;\n}\n/**\n * https://tc39.es/ecma262/#sec-month-number\n * @param t\n */\nexport function MonthFromTime(t) {\n    var dwy = DayWithinYear(t);\n    var leap = InLeapYear(t);\n    if (dwy >= 0 && dwy < 31) {\n        return 0;\n    }\n    if (dwy < 59 + leap) {\n        return 1;\n    }\n    if (dwy < 90 + leap) {\n        return 2;\n    }\n    if (dwy < 120 + leap) {\n        return 3;\n    }\n    if (dwy < 151 + leap) {\n        return 4;\n    }\n    if (dwy < 181 + leap) {\n        return 5;\n    }\n    if (dwy < 212 + leap) {\n        return 6;\n    }\n    if (dwy < 243 + leap) {\n        return 7;\n    }\n    if (dwy < 273 + leap) {\n        return 8;\n    }\n    if (dwy < 304 + leap) {\n        return 9;\n    }\n    if (dwy < 334 + leap) {\n        return 10;\n    }\n    if (dwy < 365 + leap) {\n        return 11;\n    }\n    throw new Error('Invalid time');\n}\nexport function DateFromTime(t) {\n    var dwy = DayWithinYear(t);\n    var mft = MonthFromTime(t);\n    var leap = InLeapYear(t);\n    if (mft === 0) {\n        return dwy + 1;\n    }\n    if (mft === 1) {\n        return dwy - 30;\n    }\n    if (mft === 2) {\n        return dwy - 58 - leap;\n    }\n    if (mft === 3) {\n        return dwy - 89 - leap;\n    }\n    if (mft === 4) {\n        return dwy - 119 - leap;\n    }\n    if (mft === 5) {\n        return dwy - 150 - leap;\n    }\n    if (mft === 6) {\n        return dwy - 180 - leap;\n    }\n    if (mft === 7) {\n        return dwy - 211 - leap;\n    }\n    if (mft === 8) {\n        return dwy - 242 - leap;\n    }\n    if (mft === 9) {\n        return dwy - 272 - leap;\n    }\n    if (mft === 10) {\n        return dwy - 303 - leap;\n    }\n    if (mft === 11) {\n        return dwy - 333 - leap;\n    }\n    throw new Error('Invalid time');\n}\nvar HOURS_PER_DAY = 24;\nvar MINUTES_PER_HOUR = 60;\nvar SECONDS_PER_MINUTE = 60;\nvar MS_PER_SECOND = 1e3;\nvar MS_PER_MINUTE = MS_PER_SECOND * SECONDS_PER_MINUTE;\nvar MS_PER_HOUR = MS_PER_MINUTE * MINUTES_PER_HOUR;\nexport function HourFromTime(t) {\n    return mod(Math.floor(t / MS_PER_HOUR), HOURS_PER_DAY);\n}\nexport function MinFromTime(t) {\n    return mod(Math.floor(t / MS_PER_MINUTE), MINUTES_PER_HOUR);\n}\nexport function SecFromTime(t) {\n    return mod(Math.floor(t / MS_PER_SECOND), SECONDS_PER_MINUTE);\n}\nfunction IsCallable(fn) {\n    return typeof fn === 'function';\n}\n/**\n * The abstract operation OrdinaryHasInstance implements\n * the default algorithm for determining if an object O\n * inherits from the instance object inheritance path\n * provided by constructor C.\n * @param C class\n * @param O object\n * @param internalSlots internalSlots\n */\nexport function OrdinaryHasInstance(C, O, internalSlots) {\n    if (!IsCallable(C)) {\n        return false;\n    }\n    if (internalSlots === null || internalSlots === void 0 ? void 0 : internalSlots.boundTargetFunction) {\n        var BC = internalSlots === null || internalSlots === void 0 ? void 0 : internalSlots.boundTargetFunction;\n        return O instanceof BC;\n    }\n    if (typeof O !== 'object') {\n        return false;\n    }\n    var P = C.prototype;\n    if (typeof P !== 'object') {\n        throw new TypeError('OrdinaryHasInstance called on an object with an invalid prototype property.');\n    }\n    return Object.prototype.isPrototypeOf.call(P, O);\n}\n","import { invariant } from '../utils';\nimport { Type, YearFromTime, WeekDay, MonthFromTime, DateFromTime, HourFromTime, MinFromTime, SecFromTime, } from '../262';\nfunction getApplicableZoneData(t, timeZone, tzData) {\n    var _a;\n    var zoneData = tzData[timeZone];\n    // We don't have data for this so just say it's UTC\n    if (!zoneData) {\n        return [0, false];\n    }\n    var i = 0;\n    var offset = 0;\n    var dst = false;\n    for (; i <= zoneData.length; i++) {\n        if (i === zoneData.length || zoneData[i][0] * 1e3 > t) {\n            _a = zoneData[i - 1], offset = _a[2], dst = _a[3];\n            break;\n        }\n    }\n    return [offset * 1e3, dst];\n}\n/**\n * https://tc39.es/ecma402/#sec-tolocaltime\n * @param t\n * @param calendar\n * @param timeZone\n */\nexport function ToLocalTime(t, calendar, timeZone, _a) {\n    var tzData = _a.tzData;\n    invariant(Type(t) === 'Number', 'invalid time');\n    invariant(calendar === 'gregory', 'We only support Gregory calendar right now');\n    var _b = getApplicableZoneData(t, timeZone, tzData), timeZoneOffset = _b[0], inDST = _b[1];\n    var tz = t + timeZoneOffset;\n    var year = YearFromTime(tz);\n    return {\n        weekday: WeekDay(tz),\n        era: year < 0 ? 'BC' : 'AD',\n        year: year,\n        relatedYear: undefined,\n        yearName: undefined,\n        month: MonthFromTime(tz),\n        day: DateFromTime(tz),\n        hour: HourFromTime(tz),\n        minute: MinFromTime(tz),\n        second: SecFromTime(tz),\n        inDST: inDST,\n        // IMPORTANT: Not in spec\n        timeZoneOffset: timeZoneOffset,\n    };\n}\n","import { DATE_TIME_PROPS } from './utils';\nimport { ToLocalTime } from './ToLocalTime';\nimport { TimeClip } from '../262';\nfunction pad(n) {\n    if (n < 10) {\n        return \"0\" + n;\n    }\n    return String(n);\n}\nfunction offsetToGmtString(gmtFormat, hourFormat, offsetInMs, style) {\n    var offsetInMinutes = Math.floor(offsetInMs / 60000);\n    var mins = Math.abs(offsetInMinutes) % 60;\n    var hours = Math.floor(Math.abs(offsetInMinutes) / 60);\n    var _a = hourFormat.split(';'), positivePattern = _a[0], negativePattern = _a[1];\n    var offsetStr = '';\n    var pattern = offsetInMs < 0 ? negativePattern : positivePattern;\n    if (style === 'long') {\n        offsetStr = pattern\n            .replace('HH', pad(hours))\n            .replace('H', String(hours))\n            .replace('mm', pad(mins))\n            .replace('m', String(mins));\n    }\n    else if (mins || hours) {\n        if (!mins) {\n            pattern = pattern.replace(/:?m+/, '');\n        }\n        offsetStr = pattern\n            .replace(/H+/, String(hours))\n            .replace(/m+/, String(mins));\n    }\n    return gmtFormat.replace('{0}', offsetStr);\n}\n/**\n * https://tc39.es/ecma402/#sec-partitiondatetimepattern\n * @param dtf\n * @param x\n */\nexport function FormatDateTimePattern(dtf, patternParts, x, _a) {\n    var getInternalSlots = _a.getInternalSlots, localeData = _a.localeData, getDefaultTimeZone = _a.getDefaultTimeZone, tzData = _a.tzData;\n    x = TimeClip(x);\n    /** IMPL START */\n    var internalSlots = getInternalSlots(dtf);\n    var dataLocale = internalSlots.dataLocale;\n    var dataLocaleData = localeData[dataLocale];\n    /** IMPL END */\n    var locale = internalSlots.locale;\n    var nfOptions = Object.create(null);\n    nfOptions.useGrouping = false;\n    var nf = new Intl.NumberFormat(locale, nfOptions);\n    var nf2Options = Object.create(null);\n    nf2Options.minimumIntegerDigits = 2;\n    nf2Options.useGrouping = false;\n    var nf2 = new Intl.NumberFormat(locale, nf2Options);\n    var tm = ToLocalTime(x, \n    // @ts-ignore\n    internalSlots.calendar, internalSlots.timeZone, { tzData: tzData });\n    var result = [];\n    for (var _i = 0, patternParts_1 = patternParts; _i < patternParts_1.length; _i++) {\n        var patternPart = patternParts_1[_i];\n        var p = patternPart.type;\n        if (p === 'literal') {\n            result.push({\n                type: 'literal',\n                value: patternPart.value,\n            });\n        }\n        else if (DATE_TIME_PROPS.indexOf(p) > -1) {\n            var fv = '';\n            var f = internalSlots[p];\n            // @ts-ignore\n            var v = tm[p];\n            if (p === 'year' && v <= 0) {\n                v = 1 - v;\n            }\n            if (p === 'month') {\n                v++;\n            }\n            var hourCycle = internalSlots.hourCycle;\n            if (p === 'hour' && (hourCycle === 'h11' || hourCycle === 'h12')) {\n                v = v % 12;\n                if (v === 0 && hourCycle === 'h12') {\n                    v = 12;\n                }\n            }\n            if (p === 'hour' && hourCycle === 'h24') {\n                if (v === 0) {\n                    v = 24;\n                }\n            }\n            if (f === 'numeric') {\n                fv = nf.format(v);\n            }\n            else if (f === '2-digit') {\n                fv = nf2.format(v);\n                if (fv.length > 2) {\n                    fv = fv.slice(fv.length - 2, fv.length);\n                }\n            }\n            else if (f === 'narrow' || f === 'short' || f === 'long') {\n                if (p === 'era') {\n                    fv = dataLocaleData[p][f][v];\n                }\n                else if (p === 'timeZoneName') {\n                    var timeZoneName = dataLocaleData.timeZoneName, gmtFormat = dataLocaleData.gmtFormat, hourFormat = dataLocaleData.hourFormat;\n                    var timeZone = internalSlots.timeZone || getDefaultTimeZone();\n                    var timeZoneData = timeZoneName[timeZone];\n                    if (timeZoneData && timeZoneData[f]) {\n                        fv = timeZoneData[f][+tm.inDST];\n                    }\n                    else {\n                        // Fallback to gmtFormat\n                        fv = offsetToGmtString(gmtFormat, hourFormat, tm.timeZoneOffset, f);\n                    }\n                }\n                else if (p === 'month') {\n                    fv = dataLocaleData.month[f][v - 1];\n                }\n                else {\n                    fv = dataLocaleData[p][f][v];\n                }\n            }\n            result.push({\n                type: p,\n                value: fv,\n            });\n        }\n        else if (p === 'ampm') {\n            var v = tm.hour;\n            var fv = void 0;\n            if (v > 11) {\n                fv = dataLocaleData.pm;\n            }\n            else {\n                fv = dataLocaleData.am;\n            }\n            result.push({\n                type: 'dayPeriod',\n                value: fv,\n            });\n        }\n        else if (p === 'relatedYear') {\n            var v = tm.relatedYear;\n            // @ts-ignore\n            var fv = nf.format(v);\n            result.push({\n                // @ts-ignore TODO: Fix TS type\n                type: 'relatedYear',\n                value: fv,\n            });\n        }\n        else if (p === 'yearName') {\n            var v = tm.yearName;\n            // @ts-ignore\n            var fv = nf.format(v);\n            result.push({\n                // @ts-ignore TODO: Fix TS type\n                type: 'yearName',\n                value: fv,\n            });\n        }\n    }\n    return result;\n}\n","import { invariant } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-partitionpattern\n * @param pattern\n */\nexport function PartitionPattern(pattern) {\n    var result = [];\n    var beginIndex = pattern.indexOf('{');\n    var endIndex = 0;\n    var nextIndex = 0;\n    var length = pattern.length;\n    while (beginIndex < pattern.length && beginIndex > -1) {\n        endIndex = pattern.indexOf('}', beginIndex);\n        invariant(endIndex > beginIndex, \"Invalid pattern \" + pattern);\n        if (beginIndex > nextIndex) {\n            result.push({\n                type: 'literal',\n                value: pattern.substring(nextIndex, beginIndex),\n            });\n        }\n        result.push({\n            type: pattern.substring(beginIndex + 1, endIndex),\n            value: undefined,\n        });\n        nextIndex = endIndex + 1;\n        beginIndex = pattern.indexOf('{', nextIndex);\n    }\n    if (nextIndex < length) {\n        result.push({\n            type: 'literal',\n            value: pattern.substring(nextIndex, length),\n        });\n    }\n    return result;\n}\n","import { TimeClip } from '../262';\nimport { FormatDateTimePattern, } from './FormatDateTimePattern';\nimport { PartitionPattern } from '../PartitionPattern';\n/**\n * https://tc39.es/ecma402/#sec-partitiondatetimepattern\n * @param dtf\n * @param x\n */\nexport function PartitionDateTimePattern(dtf, x, implDetails) {\n    x = TimeClip(x);\n    if (isNaN(x)) {\n        throw new RangeError('invalid time');\n    }\n    /** IMPL START */\n    var getInternalSlots = implDetails.getInternalSlots;\n    var internalSlots = getInternalSlots(dtf);\n    /** IMPL END */\n    var pattern = internalSlots.pattern;\n    return FormatDateTimePattern(dtf, PartitionPattern(pattern), x, implDetails);\n}\n","import { PartitionDateTimePattern } from './PartitionDateTimePattern';\n/**\n * https://tc39.es/ecma402/#sec-formatdatetime\n * @param dtf DateTimeFormat\n * @param x\n */\nexport function FormatDateTime(dtf, x, implDetails) {\n    var parts = PartitionDateTimePattern(dtf, x, implDetails);\n    var result = '';\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result += part.value;\n    }\n    return result;\n}\n","import { RangePatternType, } from '../types/date-time';\nimport { SameValue, TimeClip } from '../262';\nimport { ToLocalTime } from './ToLocalTime';\nimport { FormatDateTimePattern, } from './FormatDateTimePattern';\nimport { PartitionPattern } from '../PartitionPattern';\nvar TABLE_2_FIELDS = [\n    'era',\n    'year',\n    'month',\n    'day',\n    'ampm',\n    'hour',\n    'minute',\n    'second',\n];\nexport function PartitionDateTimeRangePattern(dtf, x, y, implDetails) {\n    x = TimeClip(x);\n    if (isNaN(x)) {\n        throw new RangeError('Invalid start time');\n    }\n    y = TimeClip(y);\n    if (isNaN(y)) {\n        throw new RangeError('Invalid end time');\n    }\n    /** IMPL START */\n    var getInternalSlots = implDetails.getInternalSlots, tzData = implDetails.tzData;\n    var internalSlots = getInternalSlots(dtf);\n    /** IMPL END */\n    var tm1 = ToLocalTime(x, \n    // @ts-ignore\n    internalSlots.calendar, internalSlots.timeZone, { tzData: tzData });\n    var tm2 = ToLocalTime(y, \n    // @ts-ignore\n    internalSlots.calendar, internalSlots.timeZone, { tzData: tzData });\n    var pattern = internalSlots.pattern, rangePatterns = internalSlots.rangePatterns;\n    var rangePattern;\n    var dateFieldsPracticallyEqual = true;\n    var patternContainsLargerDateField = false;\n    for (var _i = 0, TABLE_2_FIELDS_1 = TABLE_2_FIELDS; _i < TABLE_2_FIELDS_1.length; _i++) {\n        var fieldName = TABLE_2_FIELDS_1[_i];\n        if (dateFieldsPracticallyEqual && !patternContainsLargerDateField) {\n            if (fieldName === 'ampm') {\n                var rp = rangePatterns.ampm;\n                if (rangePattern !== undefined && rp === undefined) {\n                    patternContainsLargerDateField = true;\n                }\n                else {\n                    var v1 = tm1.hour;\n                    var v2 = tm2.hour;\n                    if ((v1 > 11 && v2 < 11) || (v1 < 11 && v2 > 11)) {\n                        dateFieldsPracticallyEqual = false;\n                    }\n                    rangePattern = rp;\n                }\n            }\n            else {\n                var rp = rangePatterns[fieldName];\n                if (rangePattern !== undefined && rp === undefined) {\n                    patternContainsLargerDateField = true;\n                }\n                else {\n                    var v1 = tm1[fieldName];\n                    var v2 = tm2[fieldName];\n                    if (!SameValue(v1, v2)) {\n                        dateFieldsPracticallyEqual = false;\n                    }\n                    rangePattern = rp;\n                }\n            }\n        }\n    }\n    if (dateFieldsPracticallyEqual) {\n        var result_2 = FormatDateTimePattern(dtf, PartitionPattern(pattern), x, implDetails);\n        for (var _a = 0, result_1 = result_2; _a < result_1.length; _a++) {\n            var r = result_1[_a];\n            r.source = RangePatternType.shared;\n        }\n        return result_2;\n    }\n    var result = [];\n    if (rangePattern === undefined) {\n        rangePattern = rangePatterns.default;\n        /** IMPL DETAILS */\n        // Now we have to replace {0} & {1} with actual pattern\n        for (var _b = 0, _c = rangePattern.patternParts; _b < _c.length; _b++) {\n            var patternPart = _c[_b];\n            if (patternPart.pattern === '{0}' || patternPart.pattern === '{1}') {\n                patternPart.pattern = pattern;\n            }\n        }\n    }\n    for (var _d = 0, _e = rangePattern.patternParts; _d < _e.length; _d++) {\n        var rangePatternPart = _e[_d];\n        var source = rangePatternPart.source, pattern_1 = rangePatternPart.pattern;\n        var z = void 0;\n        if (source === RangePatternType.startRange ||\n            source === RangePatternType.shared) {\n            z = x;\n        }\n        else {\n            z = y;\n        }\n        var patternParts = PartitionPattern(pattern_1);\n        var partResult = FormatDateTimePattern(dtf, patternParts, z, implDetails);\n        for (var _f = 0, partResult_1 = partResult; _f < partResult_1.length; _f++) {\n            var r = partResult_1[_f];\n            r.source = source;\n        }\n        result = result.concat(partResult);\n    }\n    return result;\n}\n","import { PartitionDateTimeRangePattern } from './PartitionDateTimeRangePattern';\nexport function FormatDateTimeRange(dtf, x, y, implDetails) {\n    var parts = PartitionDateTimeRangePattern(dtf, x, y, implDetails);\n    var result = '';\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result += part.value;\n    }\n    return result;\n}\n","import { PartitionDateTimeRangePattern } from './PartitionDateTimeRangePattern';\nexport function FormatDateTimeRangeToParts(dtf, x, y, implDetails) {\n    var parts = PartitionDateTimeRangePattern(dtf, x, y, implDetails);\n    var result = new Array(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result.push({\n            type: part.type,\n            value: part.value,\n            source: part.source,\n        });\n    }\n    return result;\n}\n","import { PartitionDateTimePattern } from './PartitionDateTimePattern';\nimport { ArrayCreate } from '../262';\n/**\n * https://tc39.es/ecma402/#sec-formatdatetimetoparts\n *\n * @param dtf\n * @param x\n * @param implDetails\n */\nexport function FormatDateTimeToParts(dtf, x, implDetails) {\n    var parts = PartitionDateTimePattern(dtf, x, implDetails);\n    var result = ArrayCreate(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result.push({\n            type: part.type,\n            value: part.value,\n        });\n    }\n    return result;\n}\n","import { ToObject } from '../262';\n/**\n * https://tc39.es/ecma402/#sec-todatetimeoptions\n * @param options\n * @param required\n * @param defaults\n */\nexport function ToDateTimeOptions(options, required, defaults) {\n    if (options === undefined) {\n        options = null;\n    }\n    else {\n        options = ToObject(options);\n    }\n    options = Object.create(options);\n    var needDefaults = true;\n    if (required === 'date' || required === 'any') {\n        for (var _i = 0, _a = ['weekday', 'year', 'month', 'day']; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var value = options[prop];\n            if (value !== undefined) {\n                needDefaults = false;\n            }\n        }\n    }\n    if (required === 'time' || required === 'any') {\n        for (var _b = 0, _c = ['hour', 'minute', 'second']; _b < _c.length; _b++) {\n            var prop = _c[_b];\n            var value = options[prop];\n            if (value !== undefined) {\n                needDefaults = false;\n            }\n        }\n    }\n    if (options.dateStyle !== undefined || options.timeStyle !== undefined) {\n        needDefaults = false;\n    }\n    if (required === 'date' && options.timeStyle) {\n        throw new TypeError('Intl.DateTimeFormat date was required but timeStyle was included');\n    }\n    if (required === 'time' && options.dateStyle) {\n        throw new TypeError('Intl.DateTimeFormat time was required but dateStyle was included');\n    }\n    if (needDefaults && (defaults === 'date' || defaults === 'all')) {\n        for (var _d = 0, _e = ['year', 'month', 'day']; _d < _e.length; _d++) {\n            var prop = _e[_d];\n            options[prop] = 'numeric';\n        }\n    }\n    if (needDefaults && (defaults === 'time' || defaults === 'all')) {\n        for (var _f = 0, _g = ['hour', 'minute', 'second']; _f < _g.length; _f++) {\n            var prop = _g[_f];\n            options[prop] = 'numeric';\n        }\n    }\n    return options;\n}\n","import { ToString } from './262';\n/**\n * https://tc39.es/ecma402/#sec-getoption\n * @param opts\n * @param prop\n * @param type\n * @param values\n * @param fallback\n */\nexport function GetOption(opts, prop, type, values, fallback) {\n    // const descriptor = Object.getOwnPropertyDescriptor(opts, prop);\n    var value = opts[prop];\n    if (value !== undefined) {\n        if (type !== 'boolean' && type !== 'string') {\n            throw new TypeError('invalid type');\n        }\n        if (type === 'boolean') {\n            value = Boolean(value);\n        }\n        if (type === 'string') {\n            value = ToString(value);\n        }\n        if (values !== undefined && !values.filter(function (val) { return val == value; }).length) {\n            throw new RangeError(value + \" is not within \" + values.join(', '));\n        }\n        return value;\n    }\n    return fallback;\n}\n","/**\n * https://tc39.es/ecma402/#sec-bestavailablelocale\n * @param availableLocales\n * @param locale\n */\nexport function BestAvailableLocale(availableLocales, locale) {\n    var candidate = locale;\n    while (true) {\n        if (availableLocales.has(candidate)) {\n            return candidate;\n        }\n        var pos = candidate.lastIndexOf('-');\n        if (!~pos) {\n            return undefined;\n        }\n        if (pos >= 2 && candidate[pos - 2] === '-') {\n            pos -= 2;\n        }\n        candidate = candidate.slice(0, pos);\n    }\n}\n","import { invariant } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-unicodeextensionvalue\n * @param extension\n * @param key\n */\nexport function UnicodeExtensionValue(extension, key) {\n    invariant(key.length === 2, 'key must have 2 elements');\n    var size = extension.length;\n    var searchValue = \"-\" + key + \"-\";\n    var pos = extension.indexOf(searchValue);\n    if (pos !== -1) {\n        var start = pos + 4;\n        var end = start;\n        var k = start;\n        var done = false;\n        while (!done) {\n            var e = extension.indexOf('-', k);\n            var len = void 0;\n            if (e === -1) {\n                len = size - k;\n            }\n            else {\n                len = e - k;\n            }\n            if (len === 2) {\n                done = true;\n            }\n            else if (e === -1) {\n                end = size;\n                done = true;\n            }\n            else {\n                end = e;\n                k = e + 1;\n            }\n        }\n        return extension.slice(start, end);\n    }\n    searchValue = \"-\" + key;\n    pos = extension.indexOf(searchValue);\n    if (pos !== -1 && pos + 3 === size) {\n        return '';\n    }\n    return undefined;\n}\n","import { LookupMatcher } from './LookupMatcher';\nimport { BestFitMatcher } from './BestFitMatcher';\nimport { invariant } from './utils';\nimport { UnicodeExtensionValue } from './UnicodeExtensionValue';\n/**\n * https://tc39.es/ecma402/#sec-resolvelocale\n */\nexport function ResolveLocale(availableLocales, requestedLocales, options, relevantExtensionKeys, localeData, getDefaultLocale) {\n    var matcher = options.localeMatcher;\n    var r;\n    if (matcher === 'lookup') {\n        r = LookupMatcher(availableLocales, requestedLocales, getDefaultLocale);\n    }\n    else {\n        r = BestFitMatcher(availableLocales, requestedLocales, getDefaultLocale);\n    }\n    var foundLocale = r.locale;\n    var result = { locale: '', dataLocale: foundLocale };\n    var supportedExtension = '-u';\n    for (var _i = 0, relevantExtensionKeys_1 = relevantExtensionKeys; _i < relevantExtensionKeys_1.length; _i++) {\n        var key = relevantExtensionKeys_1[_i];\n        invariant(foundLocale in localeData, \"Missing locale data for \" + foundLocale);\n        var foundLocaleData = localeData[foundLocale];\n        invariant(typeof foundLocaleData === 'object' && foundLocaleData !== null, \"locale data \" + key + \" must be an object\");\n        var keyLocaleData = foundLocaleData[key];\n        invariant(Array.isArray(keyLocaleData), \"keyLocaleData for \" + key + \" must be an array\");\n        var value = keyLocaleData[0];\n        invariant(typeof value === 'string' || value === null, \"value must be string or null but got \" + typeof value + \" in key \" + key);\n        var supportedExtensionAddition = '';\n        if (r.extension) {\n            var requestedValue = UnicodeExtensionValue(r.extension, key);\n            if (requestedValue !== undefined) {\n                if (requestedValue !== '') {\n                    if (~keyLocaleData.indexOf(requestedValue)) {\n                        value = requestedValue;\n                        supportedExtensionAddition = \"-\" + key + \"-\" + value;\n                    }\n                }\n                else if (~requestedValue.indexOf('true')) {\n                    value = 'true';\n                    supportedExtensionAddition = \"-\" + key;\n                }\n            }\n        }\n        if (key in options) {\n            var optionsValue = options[key];\n            invariant(typeof optionsValue === 'string' ||\n                typeof optionsValue === 'undefined' ||\n                optionsValue === null, 'optionsValue must be String, Undefined or Null');\n            if (~keyLocaleData.indexOf(optionsValue)) {\n                if (optionsValue !== value) {\n                    value = optionsValue;\n                    supportedExtensionAddition = '';\n                }\n            }\n        }\n        result[key] = value;\n        supportedExtension += supportedExtensionAddition;\n    }\n    if (supportedExtension.length > 2) {\n        var privateIndex = foundLocale.indexOf('-x-');\n        if (privateIndex === -1) {\n            foundLocale = foundLocale + supportedExtension;\n        }\n        else {\n            var preExtension = foundLocale.slice(0, privateIndex);\n            var postExtension = foundLocale.slice(privateIndex, foundLocale.length);\n            foundLocale = preExtension + supportedExtension + postExtension;\n        }\n        foundLocale = Intl.getCanonicalLocales(foundLocale)[0];\n    }\n    result.locale = foundLocale;\n    return result;\n}\n","import { UNICODE_EXTENSION_SEQUENCE_REGEX } from './utils';\nimport { BestAvailableLocale } from './BestAvailableLocale';\n/**\n * https://tc39.es/ecma402/#sec-lookupmatcher\n * @param availableLocales\n * @param requestedLocales\n * @param getDefaultLocale\n */\nexport function LookupMatcher(availableLocales, requestedLocales, getDefaultLocale) {\n    var result = { locale: '' };\n    for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n        var locale = requestedLocales_1[_i];\n        var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n        var availableLocale = BestAvailableLocale(availableLocales, noExtensionLocale);\n        if (availableLocale) {\n            result.locale = availableLocale;\n            if (locale !== noExtensionLocale) {\n                result.extension = locale.slice(noExtensionLocale.length + 1, locale.length);\n            }\n            return result;\n        }\n    }\n    result.locale = getDefaultLocale();\n    return result;\n}\n","import { BestAvailableLocale } from './BestAvailableLocale';\nimport { UNICODE_EXTENSION_SEQUENCE_REGEX } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-bestfitmatcher\n * @param availableLocales\n * @param requestedLocales\n * @param getDefaultLocale\n */\nexport function BestFitMatcher(availableLocales, requestedLocales, getDefaultLocale) {\n    var minimizedAvailableLocaleMap = {};\n    var minimizedAvailableLocales = new Set();\n    availableLocales.forEach(function (locale) {\n        var minimizedLocale = new Intl.Locale(locale)\n            .minimize()\n            .toString();\n        minimizedAvailableLocaleMap[minimizedLocale] = locale;\n        minimizedAvailableLocales.add(minimizedLocale);\n    });\n    var foundLocale;\n    for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n        var l = requestedLocales_1[_i];\n        if (foundLocale) {\n            break;\n        }\n        var noExtensionLocale = l.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n        if (availableLocales.has(noExtensionLocale)) {\n            foundLocale = noExtensionLocale;\n            break;\n        }\n        if (minimizedAvailableLocales.has(noExtensionLocale)) {\n            foundLocale = minimizedAvailableLocaleMap[noExtensionLocale];\n            break;\n        }\n        var locale = new Intl.Locale(noExtensionLocale);\n        var maximizedRequestedLocale = locale.maximize().toString();\n        var minimizedRequestedLocale = locale.minimize().toString();\n        // Check minimized locale\n        if (minimizedAvailableLocales.has(minimizedRequestedLocale)) {\n            foundLocale = minimizedAvailableLocaleMap[minimizedRequestedLocale];\n            break;\n        }\n        // Lookup algo on maximized locale\n        foundLocale = BestAvailableLocale(minimizedAvailableLocales, maximizedRequestedLocale);\n    }\n    return {\n        locale: foundLocale || getDefaultLocale(),\n    };\n}\n","/**\n * https://tc39.es/ecma402/#sec-isvalidtimezonename\n * @param tz\n * @param implDetails implementation details\n */\nexport function IsValidTimeZoneName(tz, _a) {\n    var tzData = _a.tzData, uppercaseLinks = _a.uppercaseLinks;\n    var uppercasedTz = tz.toUpperCase();\n    var zoneNames = new Set();\n    Object.keys(tzData)\n        .map(function (z) { return z.toUpperCase(); })\n        .forEach(function (z) { return zoneNames.add(z); });\n    return zoneNames.has(uppercasedTz) || uppercasedTz in uppercaseLinks;\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { ToDateTimeOptions } from './ToDateTimeOptions';\nimport { GetOption } from '../GetOption';\nimport { ResolveLocale } from '../ResolveLocale';\nimport { IsValidTimeZoneName } from '../IsValidTimeZoneName';\nimport { CanonicalizeTimeZoneName } from '../CanonicalizeTimeZoneName';\nimport { BasicFormatMatcher } from './BasicFormatMatcher';\nimport { BestFitFormatMatcher } from './BestFitFormatMatcher';\nimport { invariant } from '../utils';\nimport { DATE_TIME_PROPS } from './utils';\nimport { DateTimeStyleFormat } from './DateTimeStyleFormat';\nfunction isTimeRelated(opt) {\n    for (var _i = 0, _a = ['hour', 'minute', 'second']; _i < _a.length; _i++) {\n        var prop = _a[_i];\n        var value = opt[prop];\n        if (value !== undefined) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction resolveHourCycle(hc, hcDefault, hour12) {\n    if (hc == null) {\n        hc = hcDefault;\n    }\n    if (hour12 !== undefined) {\n        if (hour12) {\n            if (hcDefault === 'h11' || hcDefault === 'h23') {\n                hc = 'h11';\n            }\n            else {\n                hc = 'h12';\n            }\n        }\n        else {\n            invariant(!hour12, 'hour12 must not be set');\n            if (hcDefault === 'h11' || hcDefault === 'h23') {\n                hc = 'h23';\n            }\n            else {\n                hc = 'h24';\n            }\n        }\n    }\n    return hc;\n}\nvar TYPE_REGEX = /^[a-z0-9]{3,8}$/i;\n/**\n * https://tc39.es/ecma402/#sec-initializedatetimeformat\n * @param dtf DateTimeFormat\n * @param locales locales\n * @param opts options\n */\nexport function InitializeDateTimeFormat(dtf, locales, opts, _a) {\n    var getInternalSlots = _a.getInternalSlots, availableLocales = _a.availableLocales, localeData = _a.localeData, getDefaultLocale = _a.getDefaultLocale, getDefaultTimeZone = _a.getDefaultTimeZone, relevantExtensionKeys = _a.relevantExtensionKeys, tzData = _a.tzData, uppercaseLinks = _a.uppercaseLinks;\n    // @ts-ignore\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var options = ToDateTimeOptions(opts, 'any', 'date');\n    var opt = Object.create(null);\n    var matcher = GetOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');\n    opt.localeMatcher = matcher;\n    var calendar = GetOption(options, 'calendar', 'string', undefined, undefined);\n    if (calendar !== undefined && !TYPE_REGEX.test(calendar)) {\n        throw new RangeError('Malformed calendar');\n    }\n    var internalSlots = getInternalSlots(dtf);\n    opt.ca = calendar;\n    var numberingSystem = GetOption(options, 'numberingSystem', 'string', undefined, undefined);\n    if (numberingSystem !== undefined && !TYPE_REGEX.test(numberingSystem)) {\n        throw new RangeError('Malformed numbering system');\n    }\n    opt.nu = numberingSystem;\n    var hour12 = GetOption(options, 'hour12', 'boolean', undefined, undefined);\n    var hourCycle = GetOption(options, 'hourCycle', 'string', ['h11', 'h12', 'h23', 'h24'], undefined);\n    if (hour12 !== undefined) {\n        // @ts-ignore\n        hourCycle = null;\n    }\n    opt.hc = hourCycle;\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n    internalSlots.locale = r.locale;\n    calendar = r.ca;\n    internalSlots.calendar = calendar;\n    internalSlots.hourCycle = r.hc;\n    internalSlots.numberingSystem = r.nu;\n    var dataLocale = r.dataLocale;\n    internalSlots.dataLocale = dataLocale;\n    var timeZone = options.timeZone;\n    if (timeZone !== undefined) {\n        timeZone = String(timeZone);\n        if (!IsValidTimeZoneName(timeZone, { tzData: tzData, uppercaseLinks: uppercaseLinks })) {\n            throw new RangeError('Invalid timeZoneName');\n        }\n        timeZone = CanonicalizeTimeZoneName(timeZone, { tzData: tzData, uppercaseLinks: uppercaseLinks });\n    }\n    else {\n        timeZone = getDefaultTimeZone();\n    }\n    internalSlots.timeZone = timeZone;\n    opt = Object.create(null);\n    opt.weekday = GetOption(options, 'weekday', 'string', ['narrow', 'short', 'long'], undefined);\n    opt.era = GetOption(options, 'era', 'string', ['narrow', 'short', 'long'], undefined);\n    opt.year = GetOption(options, 'year', 'string', ['2-digit', 'numeric'], undefined);\n    opt.month = GetOption(options, 'month', 'string', ['2-digit', 'numeric', 'narrow', 'short', 'long'], undefined);\n    opt.day = GetOption(options, 'day', 'string', ['2-digit', 'numeric'], undefined);\n    opt.hour = GetOption(options, 'hour', 'string', ['2-digit', 'numeric'], undefined);\n    opt.minute = GetOption(options, 'minute', 'string', ['2-digit', 'numeric'], undefined);\n    opt.second = GetOption(options, 'second', 'string', ['2-digit', 'numeric'], undefined);\n    opt.timeZoneName = GetOption(options, 'timeZoneName', 'string', ['short', 'long'], undefined);\n    var dataLocaleData = localeData[dataLocale];\n    invariant(!!dataLocaleData, \"Missing locale data for \" + dataLocale);\n    var formats = dataLocaleData.formats[calendar];\n    // UNSPECCED: IMPLEMENTATION DETAILS\n    if (!formats) {\n        throw new RangeError(\"Calendar \\\"\" + calendar + \"\\\" is not supported. Try setting \\\"calendar\\\" to 1 of the following: \" + Object.keys(dataLocaleData.formats).join(', '));\n    }\n    var formatMatcher = GetOption(options, 'formatMatcher', 'string', ['basic', 'best fit'], 'best fit');\n    var dateStyle = GetOption(options, 'dateStyle', 'string', ['full', 'long', 'medium', 'short'], undefined);\n    internalSlots.dateStyle = dateStyle;\n    var timeStyle = GetOption(options, 'timeStyle', 'string', ['full', 'long', 'medium', 'short'], undefined);\n    internalSlots.timeStyle = timeStyle;\n    var bestFormat;\n    if (dateStyle === undefined && timeStyle === undefined) {\n        if (formatMatcher === 'basic') {\n            bestFormat = BasicFormatMatcher(opt, formats);\n        }\n        else {\n            // IMPL DETAILS START\n            if (isTimeRelated(opt)) {\n                var hc = resolveHourCycle(internalSlots.hourCycle, dataLocaleData.hourCycle, hour12);\n                opt.hour12 = hc === 'h11' || hc === 'h12';\n            }\n            // IMPL DETAILS END\n            bestFormat = BestFitFormatMatcher(opt, formats);\n        }\n    }\n    else {\n        for (var _i = 0, DATE_TIME_PROPS_1 = DATE_TIME_PROPS; _i < DATE_TIME_PROPS_1.length; _i++) {\n            var prop = DATE_TIME_PROPS_1[_i];\n            var p = opt[prop];\n            if (p !== undefined) {\n                throw new TypeError(\"Intl.DateTimeFormat can't set option \" + prop + \" when \" + (dateStyle ? 'dateStyle' : 'timeStyle') + \" is used\");\n            }\n        }\n        bestFormat = DateTimeStyleFormat(dateStyle, timeStyle, dataLocaleData);\n    }\n    // IMPL DETAIL START\n    // For debugging\n    internalSlots.format = bestFormat;\n    // IMPL DETAIL END\n    for (var prop in opt) {\n        var p = bestFormat[prop];\n        if (p !== undefined) {\n            internalSlots[prop] = p;\n        }\n    }\n    var pattern;\n    var rangePatterns;\n    if (internalSlots.hour !== undefined) {\n        var hc = resolveHourCycle(internalSlots.hourCycle, dataLocaleData.hourCycle, hour12);\n        internalSlots.hourCycle = hc;\n        if (hc === 'h11' || hc === 'h12') {\n            pattern = bestFormat.pattern12;\n            rangePatterns = bestFormat.rangePatterns12;\n        }\n        else {\n            pattern = bestFormat.pattern;\n            rangePatterns = bestFormat.rangePatterns;\n        }\n    }\n    else {\n        // @ts-ignore\n        internalSlots.hourCycle = undefined;\n        pattern = bestFormat.pattern;\n        rangePatterns = bestFormat.rangePatterns;\n    }\n    internalSlots.pattern = pattern;\n    internalSlots.rangePatterns = rangePatterns;\n    return dtf;\n}\n","/**\n * This follows https://tc39.es/ecma402/#sec-case-sensitivity-and-case-mapping\n * @param str string to convert\n */\nfunction toUpperCase(str) {\n    return str.replace(/([a-z])/g, function (_, c) { return c.toUpperCase(); });\n}\nvar NOT_A_Z_REGEX = /[^A-Z]/;\n/**\n * https://tc39.es/ecma402/#sec-iswellformedcurrencycode\n */\nexport function IsWellFormedCurrencyCode(currency) {\n    currency = toUpperCase(currency);\n    if (currency.length !== 3) {\n        return false;\n    }\n    if (NOT_A_Z_REGEX.test(currency)) {\n        return false;\n    }\n    return true;\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { invariant } from '../utils';\nimport { IsWellFormedCurrencyCode } from '../IsWellFormedCurrencyCode';\nvar UNICODE_REGION_SUBTAG_REGEX = /^([a-z]{2}|[0-9]{3})$/i;\nvar ALPHA_4 = /^[a-z]{4}$/i;\nfunction isUnicodeRegionSubtag(region) {\n    return UNICODE_REGION_SUBTAG_REGEX.test(region);\n}\nfunction isUnicodeScriptSubtag(script) {\n    return ALPHA_4.test(script);\n}\nexport function CanonicalCodeForDisplayNames(type, code) {\n    if (type === 'language') {\n        return CanonicalizeLocaleList([code])[0];\n    }\n    if (type === 'region') {\n        if (!isUnicodeRegionSubtag(code)) {\n            throw RangeError('invalid region');\n        }\n        return code.toUpperCase();\n    }\n    if (type === 'script') {\n        if (!isUnicodeScriptSubtag(code)) {\n            throw RangeError('invalid script');\n        }\n        return \"\" + code[0].toUpperCase() + code.slice(1).toLowerCase();\n    }\n    invariant(type === 'currency', 'invalid type');\n    if (!IsWellFormedCurrencyCode(code)) {\n        throw RangeError('invalid currency');\n    }\n    return code.toUpperCase();\n}\n","/**\n * https://tc39.es/ecma402/#sec-defaultnumberoption\n * @param val\n * @param min\n * @param max\n * @param fallback\n */\nexport function DefaultNumberOption(val, min, max, fallback) {\n    if (val !== undefined) {\n        val = Number(val);\n        if (isNaN(val) || val < min || val > max) {\n            throw new RangeError(val + \" is outside of range [\" + min + \", \" + max + \"]\");\n        }\n        return Math.floor(val);\n    }\n    return fallback;\n}\n","/**\n * https://tc39.es/ecma402/#sec-getnumberoption\n * @param options\n * @param property\n * @param min\n * @param max\n * @param fallback\n */\nimport { DefaultNumberOption } from './DefaultNumberOption';\nexport function GetNumberOption(options, property, minimum, maximum, fallback) {\n    var val = options[property];\n    return DefaultNumberOption(val, minimum, maximum, fallback);\n}\n","/**\n * https://tc39.es/ecma402/#table-sanctioned-simple-unit-identifiers\n */\nexport var SANCTIONED_UNITS = [\n    'angle-degree',\n    'area-acre',\n    'area-hectare',\n    'concentr-percent',\n    'digital-bit',\n    'digital-byte',\n    'digital-gigabit',\n    'digital-gigabyte',\n    'digital-kilobit',\n    'digital-kilobyte',\n    'digital-megabit',\n    'digital-megabyte',\n    'digital-petabyte',\n    'digital-terabit',\n    'digital-terabyte',\n    'duration-day',\n    'duration-hour',\n    'duration-millisecond',\n    'duration-minute',\n    'duration-month',\n    'duration-second',\n    'duration-week',\n    'duration-year',\n    'length-centimeter',\n    'length-foot',\n    'length-inch',\n    'length-kilometer',\n    'length-meter',\n    'length-mile-scandinavian',\n    'length-mile',\n    'length-millimeter',\n    'length-yard',\n    'mass-gram',\n    'mass-kilogram',\n    'mass-ounce',\n    'mass-pound',\n    'mass-stone',\n    'temperature-celsius',\n    'temperature-fahrenheit',\n    'volume-fluid-ounce',\n    'volume-gallon',\n    'volume-liter',\n    'volume-milliliter',\n];\n// In CLDR, the unit name always follows the form `namespace-unit` pattern.\n// For example: `digital-bit` instead of `bit`. This function removes the namespace prefix.\nexport function removeUnitNamespace(unit) {\n    return unit.slice(unit.indexOf('-') + 1);\n}\n/**\n * https://tc39.es/ecma402/#table-sanctioned-simple-unit-identifiers\n */\nexport var SIMPLE_UNITS = SANCTIONED_UNITS.map(removeUnitNamespace);\n/**\n * https://tc39.es/ecma402/#sec-issanctionedsimpleunitidentifier\n */\nexport function IsSanctionedSimpleUnitIdentifier(unitIdentifier) {\n    return SIMPLE_UNITS.indexOf(unitIdentifier) > -1;\n}\n","import { IsSanctionedSimpleUnitIdentifier } from './IsSanctionedSimpleUnitIdentifier';\n/**\n * This follows https://tc39.es/ecma402/#sec-case-sensitivity-and-case-mapping\n * @param str string to convert\n */\nfunction toLowerCase(str) {\n    return str.replace(/([A-Z])/g, function (_, c) { return c.toLowerCase(); });\n}\n/**\n * https://tc39.es/ecma402/#sec-iswellformedunitidentifier\n * @param unit\n */\nexport function IsWellFormedUnitIdentifier(unit) {\n    unit = toLowerCase(unit);\n    if (IsSanctionedSimpleUnitIdentifier(unit)) {\n        return true;\n    }\n    var units = unit.split('-per-');\n    if (units.length !== 2) {\n        return false;\n    }\n    var numerator = units[0], denominator = units[1];\n    if (!IsSanctionedSimpleUnitIdentifier(numerator) ||\n        !IsSanctionedSimpleUnitIdentifier(denominator)) {\n        return false;\n    }\n    return true;\n}\n","/**\n * The abstract operation ComputeExponentForMagnitude computes an exponent by which to scale a\n * number of the given magnitude (power of ten of the most significant digit) according to the\n * locale and the desired notation (scientific, engineering, or compact).\n */\nexport function ComputeExponentForMagnitude(numberFormat, magnitude, _a) {\n    var getInternalSlots = _a.getInternalSlots;\n    var internalSlots = getInternalSlots(numberFormat);\n    var notation = internalSlots.notation, dataLocaleData = internalSlots.dataLocaleData, numberingSystem = internalSlots.numberingSystem;\n    switch (notation) {\n        case 'standard':\n            return 0;\n        case 'scientific':\n            return magnitude;\n        case 'engineering':\n            return Math.floor(magnitude / 3) * 3;\n        default: {\n            // Let exponent be an implementation- and locale-dependent (ILD) integer by which to scale a\n            // number of the given magnitude in compact notation for the current locale.\n            var compactDisplay = internalSlots.compactDisplay, style = internalSlots.style, currencyDisplay = internalSlots.currencyDisplay;\n            var thresholdMap = void 0;\n            if (style === 'currency' && currencyDisplay !== 'name') {\n                var currency = dataLocaleData.numbers.currency[numberingSystem] ||\n                    dataLocaleData.numbers.currency[dataLocaleData.numbers.nu[0]];\n                thresholdMap = currency.short;\n            }\n            else {\n                var decimal = dataLocaleData.numbers.decimal[numberingSystem] ||\n                    dataLocaleData.numbers.decimal[dataLocaleData.numbers.nu[0]];\n                thresholdMap = compactDisplay === 'long' ? decimal.long : decimal.short;\n            }\n            if (!thresholdMap) {\n                return 0;\n            }\n            var num = String(Math.pow(10, magnitude));\n            var thresholds = Object.keys(thresholdMap); // TODO: this can be pre-processed\n            if (num < thresholds[0]) {\n                return 0;\n            }\n            if (num > thresholds[thresholds.length - 1]) {\n                return thresholds[thresholds.length - 1].length - 1;\n            }\n            var i = thresholds.indexOf(num);\n            if (i === -1) {\n                return 0;\n            }\n            // See https://unicode.org/reports/tr35/tr35-numbers.html#Compact_Number_Formats\n            // Special handling if the pattern is precisely `0`.\n            var magnitudeKey = thresholds[i];\n            // TODO: do we need to handle plural here?\n            var compactPattern = thresholdMap[magnitudeKey].other;\n            if (compactPattern === '0') {\n                return 0;\n            }\n            // Example: in zh-TW, `10000000` maps to `0000萬`. So we need to return 8 - 4 = 4 here.\n            return (magnitudeKey.length -\n                thresholdMap[magnitudeKey].other.match(/0+/)[0].length);\n        }\n    }\n}\n","import { repeat, getMagnitude } from '../utils';\nexport function ToRawPrecision(x, minPrecision, maxPrecision) {\n    var p = maxPrecision;\n    var m;\n    var e;\n    var xFinal;\n    if (x === 0) {\n        m = repeat('0', p);\n        e = 0;\n        xFinal = 0;\n    }\n    else {\n        var xToString = x.toString();\n        // If xToString is formatted as scientific notation, the number is either very small or very\n        // large. If the precision of the formatted string is lower that requested max precision, we\n        // should still infer them from the formatted string, otherwise the formatted result might have\n        // precision loss (e.g. 1e41 will not have 0 in every trailing digits).\n        var xToStringExponentIndex = xToString.indexOf('e');\n        var _a = xToString.split('e'), xToStringMantissa = _a[0], xToStringExponent = _a[1];\n        var xToStringMantissaWithoutDecimalPoint = xToStringMantissa.replace('.', '');\n        if (xToStringExponentIndex >= 0 &&\n            xToStringMantissaWithoutDecimalPoint.length <= p) {\n            e = +xToStringExponent;\n            m =\n                xToStringMantissaWithoutDecimalPoint +\n                    repeat('0', p - xToStringMantissaWithoutDecimalPoint.length);\n            xFinal = x;\n        }\n        else {\n            e = getMagnitude(x);\n            var decimalPlaceOffset = e - p + 1;\n            // n is the integer containing the required precision digits. To derive the formatted string,\n            // we will adjust its decimal place in the logic below.\n            var n = Math.round(adjustDecimalPlace(x, decimalPlaceOffset));\n            // The rounding caused the change of magnitude, so we should increment `e` by 1.\n            if (adjustDecimalPlace(n, p - 1) >= 10) {\n                e = e + 1;\n                // Divide n by 10 to swallow one precision.\n                n = Math.floor(n / 10);\n            }\n            m = n.toString();\n            // Equivalent of n * 10 ** (e - p + 1)\n            xFinal = adjustDecimalPlace(n, p - 1 - e);\n        }\n    }\n    var int;\n    if (e >= p - 1) {\n        m = m + repeat('0', e - p + 1);\n        int = e + 1;\n    }\n    else if (e >= 0) {\n        m = m.slice(0, e + 1) + \".\" + m.slice(e + 1);\n        int = e + 1;\n    }\n    else {\n        m = \"0.\" + repeat('0', -e - 1) + m;\n        int = 1;\n    }\n    if (m.indexOf('.') >= 0 && maxPrecision > minPrecision) {\n        var cut = maxPrecision - minPrecision;\n        while (cut > 0 && m[m.length - 1] === '0') {\n            m = m.slice(0, -1);\n            cut--;\n        }\n        if (m[m.length - 1] === '.') {\n            m = m.slice(0, -1);\n        }\n    }\n    return { formattedString: m, roundedNumber: xFinal, integerDigitsCount: int };\n    // x / (10 ** magnitude), but try to preserve as much floating point precision as possible.\n    function adjustDecimalPlace(x, magnitude) {\n        return magnitude < 0 ? x * Math.pow(10, -magnitude) : x / Math.pow(10, magnitude);\n    }\n}\n","import { repeat } from '../utils';\n/**\n * TODO: dedup with intl-pluralrules and support BigInt\n * https://tc39.es/ecma402/#sec-torawfixed\n * @param x a finite non-negative Number or BigInt\n * @param minFraction and integer between 0 and 20\n * @param maxFraction and integer between 0 and 20\n */\nexport function ToRawFixed(x, minFraction, maxFraction) {\n    var f = maxFraction;\n    var n = Math.round(x * Math.pow(10, f));\n    var xFinal = n / Math.pow(10, f);\n    // n is a positive integer, but it is possible to be greater than 1e21.\n    // In such case we will go the slow path.\n    // See also: https://tc39.es/ecma262/#sec-numeric-types-number-tostring\n    var m;\n    if (n < 1e21) {\n        m = n.toString();\n    }\n    else {\n        m = n.toString();\n        var _a = m.split('e'), mantissa = _a[0], exponent = _a[1];\n        m = mantissa.replace('.', '');\n        m = m + repeat('0', Math.max(+exponent - m.length + 1, 0));\n    }\n    var int;\n    if (f !== 0) {\n        var k = m.length;\n        if (k <= f) {\n            var z = repeat('0', f + 1 - k);\n            m = z + m;\n            k = f + 1;\n        }\n        var a = m.slice(0, k - f);\n        var b = m.slice(k - f);\n        m = a + \".\" + b;\n        int = a.length;\n    }\n    else {\n        int = m.length;\n    }\n    var cut = maxFraction - minFraction;\n    while (cut > 0 && m[m.length - 1] === '0') {\n        m = m.slice(0, -1);\n        cut--;\n    }\n    if (m[m.length - 1] === '.') {\n        m = m.slice(0, -1);\n    }\n    return { formattedString: m, roundedNumber: xFinal, integerDigitsCount: int };\n}\n","import { SameValue } from '../262';\nimport { ToRawPrecision } from './ToRawPrecision';\nimport { repeat } from '../utils';\nimport { ToRawFixed } from './ToRawFixed';\n/**\n * https://tc39.es/ecma402/#sec-formatnumberstring\n */\nexport function FormatNumericToString(intlObject, x) {\n    var isNegative = x < 0 || SameValue(x, -0);\n    if (isNegative) {\n        x = -x;\n    }\n    var result;\n    var rourndingType = intlObject.roundingType;\n    switch (rourndingType) {\n        case 'significantDigits':\n            result = ToRawPrecision(x, intlObject.minimumSignificantDigits, intlObject.maximumSignificantDigits);\n            break;\n        case 'fractionDigits':\n            result = ToRawFixed(x, intlObject.minimumFractionDigits, intlObject.maximumFractionDigits);\n            break;\n        default:\n            result = ToRawPrecision(x, 1, 2);\n            if (result.integerDigitsCount > 1) {\n                result = ToRawFixed(x, 0, 0);\n            }\n            break;\n    }\n    x = result.roundedNumber;\n    var string = result.formattedString;\n    var int = result.integerDigitsCount;\n    var minInteger = intlObject.minimumIntegerDigits;\n    if (int < minInteger) {\n        var forwardZeros = repeat('0', minInteger - int);\n        string = forwardZeros + string;\n    }\n    if (isNegative) {\n        x = -x;\n    }\n    return { roundedNumber: x, formattedString: string };\n}\n","import { getMagnitude } from '../utils';\nimport { ComputeExponentForMagnitude } from './ComputeExponentForMagnitude';\nimport { FormatNumericToString } from './FormatNumericToString';\n/**\n * The abstract operation ComputeExponent computes an exponent (power of ten) by which to scale x\n * according to the number formatting settings. It handles cases such as 999 rounding up to 1000,\n * requiring a different exponent.\n *\n * NOT IN SPEC: it returns [exponent, magnitude].\n */\nexport function ComputeExponent(numberFormat, x, _a) {\n    var getInternalSlots = _a.getInternalSlots;\n    if (x === 0) {\n        return [0, 0];\n    }\n    if (x < 0) {\n        x = -x;\n    }\n    var magnitude = getMagnitude(x);\n    var exponent = ComputeExponentForMagnitude(numberFormat, magnitude, {\n        getInternalSlots: getInternalSlots,\n    });\n    // Preserve more precision by doing multiplication when exponent is negative.\n    x = exponent < 0 ? x * Math.pow(10, -exponent) : x / Math.pow(10, exponent);\n    var formatNumberResult = FormatNumericToString(getInternalSlots(numberFormat), x);\n    if (formatNumberResult.roundedNumber === 0) {\n        return [exponent, magnitude];\n    }\n    var newMagnitude = getMagnitude(formatNumberResult.roundedNumber);\n    if (newMagnitude === magnitude - exponent) {\n        return [exponent, magnitude];\n    }\n    return [\n        ComputeExponentForMagnitude(numberFormat, magnitude + 1, {\n            getInternalSlots: getInternalSlots,\n        }),\n        magnitude + 1,\n    ];\n}\n","import { HasOwnProperty } from '../262';\n/**\n * https://tc39.es/ecma402/#sec-currencydigits\n */\nexport function CurrencyDigits(c, _a) {\n    var currencyDigitsData = _a.currencyDigitsData;\n    return HasOwnProperty(currencyDigitsData, c)\n        ? currencyDigitsData[c]\n        : 2;\n}\n","import { ToRawFixed } from './ToRawFixed';\nimport * as digitMapping from './digit-mapping.json';\n// This is from: unicode-12.1.0/General_Category/Symbol/regex.js\n// IE11 does not support unicode flag, otherwise this is just /\\p{S}/u.\nvar S_UNICODE_REGEX = /[\\$\\+<->\\^`\\|~\\xA2-\\xA6\\xA8\\xA9\\xAC\\xAE-\\xB1\\xB4\\xB8\\xD7\\xF7\\u02C2-\\u02C5\\u02D2-\\u02DF\\u02E5-\\u02EB\\u02ED\\u02EF-\\u02FF\\u0375\\u0384\\u0385\\u03F6\\u0482\\u058D-\\u058F\\u0606-\\u0608\\u060B\\u060E\\u060F\\u06DE\\u06E9\\u06FD\\u06FE\\u07F6\\u07FE\\u07FF\\u09F2\\u09F3\\u09FA\\u09FB\\u0AF1\\u0B70\\u0BF3-\\u0BFA\\u0C7F\\u0D4F\\u0D79\\u0E3F\\u0F01-\\u0F03\\u0F13\\u0F15-\\u0F17\\u0F1A-\\u0F1F\\u0F34\\u0F36\\u0F38\\u0FBE-\\u0FC5\\u0FC7-\\u0FCC\\u0FCE\\u0FCF\\u0FD5-\\u0FD8\\u109E\\u109F\\u1390-\\u1399\\u166D\\u17DB\\u1940\\u19DE-\\u19FF\\u1B61-\\u1B6A\\u1B74-\\u1B7C\\u1FBD\\u1FBF-\\u1FC1\\u1FCD-\\u1FCF\\u1FDD-\\u1FDF\\u1FED-\\u1FEF\\u1FFD\\u1FFE\\u2044\\u2052\\u207A-\\u207C\\u208A-\\u208C\\u20A0-\\u20BF\\u2100\\u2101\\u2103-\\u2106\\u2108\\u2109\\u2114\\u2116-\\u2118\\u211E-\\u2123\\u2125\\u2127\\u2129\\u212E\\u213A\\u213B\\u2140-\\u2144\\u214A-\\u214D\\u214F\\u218A\\u218B\\u2190-\\u2307\\u230C-\\u2328\\u232B-\\u2426\\u2440-\\u244A\\u249C-\\u24E9\\u2500-\\u2767\\u2794-\\u27C4\\u27C7-\\u27E5\\u27F0-\\u2982\\u2999-\\u29D7\\u29DC-\\u29FB\\u29FE-\\u2B73\\u2B76-\\u2B95\\u2B98-\\u2BFF\\u2CE5-\\u2CEA\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3004\\u3012\\u3013\\u3020\\u3036\\u3037\\u303E\\u303F\\u309B\\u309C\\u3190\\u3191\\u3196-\\u319F\\u31C0-\\u31E3\\u3200-\\u321E\\u322A-\\u3247\\u3250\\u3260-\\u327F\\u328A-\\u32B0\\u32C0-\\u33FF\\u4DC0-\\u4DFF\\uA490-\\uA4C6\\uA700-\\uA716\\uA720\\uA721\\uA789\\uA78A\\uA828-\\uA82B\\uA836-\\uA839\\uAA77-\\uAA79\\uAB5B\\uFB29\\uFBB2-\\uFBC1\\uFDFC\\uFDFD\\uFE62\\uFE64-\\uFE66\\uFE69\\uFF04\\uFF0B\\uFF1C-\\uFF1E\\uFF3E\\uFF40\\uFF5C\\uFF5E\\uFFE0-\\uFFE6\\uFFE8-\\uFFEE\\uFFFC\\uFFFD]|\\uD800[\\uDD37-\\uDD3F\\uDD79-\\uDD89\\uDD8C-\\uDD8E\\uDD90-\\uDD9B\\uDDA0\\uDDD0-\\uDDFC]|\\uD802[\\uDC77\\uDC78\\uDEC8]|\\uD805\\uDF3F|\\uD807[\\uDFD5-\\uDFF1]|\\uD81A[\\uDF3C-\\uDF3F\\uDF45]|\\uD82F\\uDC9C|\\uD834[\\uDC00-\\uDCF5\\uDD00-\\uDD26\\uDD29-\\uDD64\\uDD6A-\\uDD6C\\uDD83\\uDD84\\uDD8C-\\uDDA9\\uDDAE-\\uDDE8\\uDE00-\\uDE41\\uDE45\\uDF00-\\uDF56]|\\uD835[\\uDEC1\\uDEDB\\uDEFB\\uDF15\\uDF35\\uDF4F\\uDF6F\\uDF89\\uDFA9\\uDFC3]|\\uD836[\\uDC00-\\uDDFF\\uDE37-\\uDE3A\\uDE6D-\\uDE74\\uDE76-\\uDE83\\uDE85\\uDE86]|\\uD838[\\uDD4F\\uDEFF]|\\uD83B[\\uDCAC\\uDCB0\\uDD2E\\uDEF0\\uDEF1]|\\uD83C[\\uDC00-\\uDC2B\\uDC30-\\uDC93\\uDCA0-\\uDCAE\\uDCB1-\\uDCBF\\uDCC1-\\uDCCF\\uDCD1-\\uDCF5\\uDD10-\\uDD6C\\uDD70-\\uDDAC\\uDDE6-\\uDE02\\uDE10-\\uDE3B\\uDE40-\\uDE48\\uDE50\\uDE51\\uDE60-\\uDE65\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDED5\\uDEE0-\\uDEEC\\uDEF0-\\uDEFA\\uDF00-\\uDF73\\uDF80-\\uDFD8\\uDFE0-\\uDFEB]|\\uD83E[\\uDC00-\\uDC0B\\uDC10-\\uDC47\\uDC50-\\uDC59\\uDC60-\\uDC87\\uDC90-\\uDCAD\\uDD00-\\uDD0B\\uDD0D-\\uDD71\\uDD73-\\uDD76\\uDD7A-\\uDDA2\\uDDA5-\\uDDAA\\uDDAE-\\uDDCA\\uDDCD-\\uDE53\\uDE60-\\uDE6D\\uDE70-\\uDE73\\uDE78-\\uDE7A\\uDE80-\\uDE82\\uDE90-\\uDE95]/;\n// /^\\p{S}/u\nvar CARET_S_UNICODE_REGEX = new RegExp(\"^\" + S_UNICODE_REGEX.source);\n// /\\p{S}$/u\nvar S_DOLLAR_UNICODE_REGEX = new RegExp(S_UNICODE_REGEX.source + \"$\");\nvar CLDR_NUMBER_PATTERN = /[#0](?:[\\.,][#0]+)*/g;\nexport default function formatToParts(numberResult, data, pl, options) {\n    var sign = numberResult.sign, exponent = numberResult.exponent, magnitude = numberResult.magnitude;\n    var notation = options.notation, style = options.style, numberingSystem = options.numberingSystem;\n    var defaultNumberingSystem = data.numbers.nu[0];\n    // #region Part 1: partition and interpolate the CLDR number pattern.\n    // ----------------------------------------------------------\n    var compactNumberPattern = null;\n    if (notation === 'compact' && magnitude) {\n        compactNumberPattern = getCompactDisplayPattern(numberResult, pl, data, style, options.compactDisplay, options.currencyDisplay, numberingSystem);\n    }\n    // This is used multiple times\n    var nonNameCurrencyPart;\n    if (style === 'currency' && options.currencyDisplay !== 'name') {\n        var byCurrencyDisplay = data.currencies[options.currency];\n        if (byCurrencyDisplay) {\n            switch (options.currencyDisplay) {\n                case 'code':\n                    nonNameCurrencyPart = options.currency;\n                    break;\n                case 'symbol':\n                    nonNameCurrencyPart = byCurrencyDisplay.symbol;\n                    break;\n                default:\n                    nonNameCurrencyPart = byCurrencyDisplay.narrow;\n                    break;\n            }\n        }\n        else {\n            // Fallback for unknown currency\n            nonNameCurrencyPart = options.currency;\n        }\n    }\n    var numberPattern;\n    if (!compactNumberPattern) {\n        // Note: if the style is unit, or is currency and the currency display is name,\n        // its unit parts will be interpolated in part 2. So here we can fallback to decimal.\n        if (style === 'decimal' ||\n            style === 'unit' ||\n            (style === 'currency' && options.currencyDisplay === 'name')) {\n            // Shortcut for decimal\n            var decimalData = data.numbers.decimal[numberingSystem] ||\n                data.numbers.decimal[defaultNumberingSystem];\n            numberPattern = getPatternForSign(decimalData.standard, sign);\n        }\n        else if (style === 'currency') {\n            var currencyData = data.numbers.currency[numberingSystem] ||\n                data.numbers.currency[defaultNumberingSystem];\n            // We replace number pattern part with `0` for easier postprocessing.\n            numberPattern = getPatternForSign(currencyData[options.currencySign], sign);\n        }\n        else {\n            // percent\n            var percentPattern = data.numbers.percent[numberingSystem] ||\n                data.numbers.percent[defaultNumberingSystem];\n            numberPattern = getPatternForSign(percentPattern, sign);\n        }\n    }\n    else {\n        numberPattern = compactNumberPattern;\n    }\n    // Extract the decimal number pattern string. It looks like \"#,##0,00\", which will later be\n    // used to infer decimal group sizes.\n    var decimalNumberPattern = CLDR_NUMBER_PATTERN.exec(numberPattern)[0];\n    // Now we start to substitute patterns\n    // 1. replace strings like `0` and `#,##0.00` with `{0}`\n    // 2. unquote characters (invariant: the quoted characters does not contain the special tokens)\n    numberPattern = numberPattern\n        .replace(CLDR_NUMBER_PATTERN, '{0}')\n        .replace(/'(.)'/g, '$1');\n    // Handle currency spacing (both compact and non-compact).\n    if (style === 'currency' && options.currencyDisplay !== 'name') {\n        var currencyData = data.numbers.currency[numberingSystem] ||\n            data.numbers.currency[defaultNumberingSystem];\n        // See `currencySpacing` substitution rule in TR-35.\n        // Here we always assume the currencyMatch is \"[:^S:]\" and surroundingMatch is \"[:digit:]\".\n        //\n        // Example 1: for pattern \"#,##0.00¤\" with symbol \"US$\", we replace \"¤\" with the symbol,\n        // but insert an extra non-break space before the symbol, because \"[:^S:]\" matches \"U\" in\n        // \"US$\" and \"[:digit:]\" matches the latn numbering system digits.\n        //\n        // Example 2: for pattern \"¤#,##0.00\" with symbol \"US$\", there is no spacing between symbol\n        // and number, because `$` does not match \"[:^S:]\".\n        //\n        // Implementation note: here we do the best effort to infer the insertion.\n        // We also assume that `beforeInsertBetween` and `afterInsertBetween` will never be `;`.\n        var afterCurrency = currencyData.currencySpacing.afterInsertBetween;\n        if (afterCurrency && !S_DOLLAR_UNICODE_REGEX.test(nonNameCurrencyPart)) {\n            numberPattern = numberPattern.replace('¤{0}', \"\\u00A4\" + afterCurrency + \"{0}\");\n        }\n        var beforeCurrency = currencyData.currencySpacing.beforeInsertBetween;\n        if (beforeCurrency && !CARET_S_UNICODE_REGEX.test(nonNameCurrencyPart)) {\n            numberPattern = numberPattern.replace('{0}¤', \"{0}\" + beforeCurrency + \"\\u00A4\");\n        }\n    }\n    // The following tokens are special: `{0}`, `¤`, `%`, `-`, `+`, `{c:...}.\n    var numberPatternParts = numberPattern.split(/({c:[^}]+}|\\{0\\}|[¤%\\-\\+])/g);\n    var numberParts = [];\n    var symbols = data.numbers.symbols[numberingSystem] ||\n        data.numbers.symbols[defaultNumberingSystem];\n    for (var _i = 0, numberPatternParts_1 = numberPatternParts; _i < numberPatternParts_1.length; _i++) {\n        var part = numberPatternParts_1[_i];\n        if (!part) {\n            continue;\n        }\n        switch (part) {\n            case '{0}': {\n                // We only need to handle scientific and engineering notation here.\n                numberParts.push.apply(numberParts, paritionNumberIntoParts(symbols, numberResult, notation, exponent, numberingSystem, \n                // If compact number pattern exists, do not insert group separators.\n                !compactNumberPattern && options.useGrouping, decimalNumberPattern));\n                break;\n            }\n            case '-':\n                numberParts.push({ type: 'minusSign', value: symbols.minusSign });\n                break;\n            case '+':\n                numberParts.push({ type: 'plusSign', value: symbols.plusSign });\n                break;\n            case '%':\n                numberParts.push({ type: 'percentSign', value: symbols.percentSign });\n                break;\n            case '¤':\n                // Computed above when handling currency spacing.\n                numberParts.push({ type: 'currency', value: nonNameCurrencyPart });\n                break;\n            default:\n                if (/^\\{c:/.test(part)) {\n                    numberParts.push({\n                        type: 'compact',\n                        value: part.substring(3, part.length - 1),\n                    });\n                }\n                else {\n                    // literal\n                    numberParts.push({ type: 'literal', value: part });\n                }\n                break;\n        }\n    }\n    // #endregion\n    // #region Part 2: interpolate unit pattern if necessary.\n    // ----------------------------------------------\n    switch (style) {\n        case 'currency': {\n            // `currencyDisplay: 'name'` has similar pattern handling as units.\n            if (options.currencyDisplay === 'name') {\n                var unitPattern = (data.numbers.currency[numberingSystem] ||\n                    data.numbers.currency[defaultNumberingSystem]).unitPattern;\n                // Select plural\n                var unitName = void 0;\n                var currencyNameData = data.currencies[options.currency];\n                if (currencyNameData) {\n                    unitName = selectPlural(pl, numberResult.roundedNumber * Math.pow(10, exponent), currencyNameData.displayName);\n                }\n                else {\n                    // Fallback for unknown currency\n                    unitName = options.currency;\n                }\n                // Do {0} and {1} substitution\n                var unitPatternParts = unitPattern.split(/(\\{[01]\\})/g);\n                var result = [];\n                for (var _a = 0, unitPatternParts_1 = unitPatternParts; _a < unitPatternParts_1.length; _a++) {\n                    var part = unitPatternParts_1[_a];\n                    switch (part) {\n                        case '{0}':\n                            result.push.apply(result, numberParts);\n                            break;\n                        case '{1}':\n                            result.push({ type: 'currency', value: unitName });\n                            break;\n                        default:\n                            if (part) {\n                                result.push({ type: 'literal', value: part });\n                            }\n                            break;\n                    }\n                }\n                return result;\n            }\n            else {\n                return numberParts;\n            }\n        }\n        case 'unit': {\n            var unit = options.unit, unitDisplay = options.unitDisplay;\n            var unitData = data.units.simple[unit];\n            var unitPattern = void 0;\n            if (unitData) {\n                // Simple unit pattern\n                unitPattern = selectPlural(pl, numberResult.roundedNumber * Math.pow(10, exponent), data.units.simple[unit][unitDisplay]);\n            }\n            else {\n                // See: http://unicode.org/reports/tr35/tr35-general.html#perUnitPatterns\n                // If cannot find unit in the simple pattern, it must be \"per\" compound pattern.\n                // Implementation note: we are not following TR-35 here because we need to format to parts!\n                var _b = unit.split('-per-'), numeratorUnit = _b[0], denominatorUnit = _b[1];\n                unitData = data.units.simple[numeratorUnit];\n                var numeratorUnitPattern = selectPlural(pl, numberResult.roundedNumber * Math.pow(10, exponent), data.units.simple[numeratorUnit][unitDisplay]);\n                var perUnitPattern = data.units.simple[denominatorUnit].perUnit[unitDisplay];\n                if (perUnitPattern) {\n                    // perUnitPattern exists, combine it with numeratorUnitPattern\n                    unitPattern = perUnitPattern.replace('{0}', numeratorUnitPattern);\n                }\n                else {\n                    // get compoundUnit pattern (e.g. \"{0} per {1}\"), repalce {0} with numerator pattern and {1} with\n                    // the denominator pattern in singular form.\n                    var perPattern = data.units.compound.per[unitDisplay];\n                    var denominatorPattern = selectPlural(pl, 1, data.units.simple[denominatorUnit][unitDisplay]);\n                    unitPattern = unitPattern = perPattern\n                        .replace('{0}', numeratorUnitPattern)\n                        .replace('{1}', denominatorPattern.replace('{0}', ''));\n                }\n            }\n            var result = [];\n            // We need spacing around \"{0}\" because they are not treated as \"unit\" parts, but \"literal\".\n            for (var _c = 0, _d = unitPattern.split(/(\\s*\\{0\\}\\s*)/); _c < _d.length; _c++) {\n                var part = _d[_c];\n                var interpolateMatch = /^(\\s*)\\{0\\}(\\s*)$/.exec(part);\n                if (interpolateMatch) {\n                    // Space before \"{0}\"\n                    if (interpolateMatch[1]) {\n                        result.push({ type: 'literal', value: interpolateMatch[1] });\n                    }\n                    // \"{0}\" itself\n                    result.push.apply(result, numberParts);\n                    // Space after \"{0}\"\n                    if (interpolateMatch[2]) {\n                        result.push({ type: 'literal', value: interpolateMatch[2] });\n                    }\n                }\n                else if (part) {\n                    result.push({ type: 'unit', value: part });\n                }\n            }\n            return result;\n        }\n        default:\n            return numberParts;\n    }\n    // #endregion\n}\n// A subset of https://tc39.es/ecma402/#sec-partitionnotationsubpattern\n// Plus the exponent parts handling.\nfunction paritionNumberIntoParts(symbols, numberResult, notation, exponent, numberingSystem, useGrouping, \n/**\n * This is the decimal number pattern without signs or symbols.\n * It is used to infer the group size when `useGrouping` is true.\n *\n * A typical value looks like \"#,##0.00\" (primary group size is 3).\n * Some locales like Hindi has secondary group size of 2 (e.g. \"#,##,##0.00\").\n */\ndecimalNumberPattern) {\n    var result = [];\n    // eslint-disable-next-line prefer-const\n    var n = numberResult.formattedString, x = numberResult.roundedNumber;\n    if (isNaN(x)) {\n        return [{ type: 'nan', value: n }];\n    }\n    else if (!isFinite(x)) {\n        return [{ type: 'infinity', value: n }];\n    }\n    var digitReplacementTable = digitMapping[numberingSystem];\n    if (digitReplacementTable) {\n        n = n.replace(/\\d/g, function (digit) { return digitReplacementTable[+digit] || digit; });\n    }\n    // TODO: Else use an implementation dependent algorithm to map n to the appropriate\n    // representation of n in the given numbering system.\n    var decimalSepIndex = n.indexOf('.');\n    var integer;\n    var fraction;\n    if (decimalSepIndex > 0) {\n        integer = n.slice(0, decimalSepIndex);\n        fraction = n.slice(decimalSepIndex + 1);\n    }\n    else {\n        integer = n;\n    }\n    // #region Grouping integer digits\n    // The weird compact and x >= 10000 check is to ensure consistency with Node.js and Chrome.\n    // Note that `de` does not have compact form for thousands, but Node.js does not insert grouping separator\n    // unless the rounded number is greater than 10000:\n    //   NumberFormat('de', {notation: 'compact', compactDisplay: 'short'}).format(1234) //=> \"1234\"\n    //   NumberFormat('de').format(1234) //=> \"1.234\"\n    if (useGrouping && (notation !== 'compact' || x >= 10000)) {\n        var groupSepSymbol = symbols.group;\n        var groups = [];\n        // > There may be two different grouping sizes: The primary grouping size used for the least\n        // > significant integer group, and the secondary grouping size used for more significant groups.\n        // > If a pattern contains multiple grouping separators, the interval between the last one and the\n        // > end of the integer defines the primary grouping size, and the interval between the last two\n        // > defines the secondary grouping size. All others are ignored.\n        var integerNumberPattern = decimalNumberPattern.split('.')[0];\n        var patternGroups = integerNumberPattern.split(',');\n        var primaryGroupingSize = 3;\n        var secondaryGroupingSize = 3;\n        if (patternGroups.length > 1) {\n            primaryGroupingSize = patternGroups[patternGroups.length - 1].length;\n        }\n        if (patternGroups.length > 2) {\n            secondaryGroupingSize = patternGroups[patternGroups.length - 2].length;\n        }\n        var i = integer.length - primaryGroupingSize;\n        if (i > 0) {\n            // Slice the least significant integer group\n            groups.push(integer.slice(i, i + primaryGroupingSize));\n            // Then iteratively push the more signicant groups\n            // TODO: handle surrogate pairs in some numbering system digits\n            for (i -= secondaryGroupingSize; i > 0; i -= secondaryGroupingSize) {\n                groups.push(integer.slice(i, i + secondaryGroupingSize));\n            }\n            groups.push(integer.slice(0, i + secondaryGroupingSize));\n        }\n        else {\n            groups.push(integer);\n        }\n        while (groups.length > 0) {\n            var integerGroup = groups.pop();\n            result.push({ type: 'integer', value: integerGroup });\n            if (groups.length > 0) {\n                result.push({ type: 'group', value: groupSepSymbol });\n            }\n        }\n    }\n    else {\n        result.push({ type: 'integer', value: integer });\n    }\n    // #endregion\n    if (fraction !== undefined) {\n        result.push({ type: 'decimal', value: symbols.decimal }, { type: 'fraction', value: fraction });\n    }\n    if ((notation === 'scientific' || notation === 'engineering') &&\n        isFinite(x)) {\n        result.push({ type: 'exponentSeparator', value: symbols.exponential });\n        if (exponent < 0) {\n            result.push({ type: 'exponentMinusSign', value: symbols.minusSign });\n            exponent = -exponent;\n        }\n        var exponentResult = ToRawFixed(exponent, 0, 0);\n        result.push({\n            type: 'exponentInteger',\n            value: exponentResult.formattedString,\n        });\n    }\n    return result;\n}\nfunction getPatternForSign(pattern, sign) {\n    if (pattern.indexOf(';') < 0) {\n        pattern = pattern + \";-\" + pattern;\n    }\n    var _a = pattern.split(';'), zeroPattern = _a[0], negativePattern = _a[1];\n    switch (sign) {\n        case 0:\n            return zeroPattern;\n        case -1:\n            return negativePattern;\n        default:\n            return negativePattern.indexOf('-') >= 0\n                ? negativePattern.replace(/-/g, '+')\n                : \"+\" + zeroPattern;\n    }\n}\n// Find the CLDR pattern for compact notation based on the magnitude of data and style.\n//\n// Example return value: \"¤ {c:laki}000;¤{c:laki} -0\" (`sw` locale):\n// - Notice the `{c:...}` token that wraps the compact literal.\n// - The consecutive zeros are normalized to single zero to match CLDR_NUMBER_PATTERN.\n//\n// Returning null means the compact display pattern cannot be found.\nfunction getCompactDisplayPattern(numberResult, pl, data, style, compactDisplay, currencyDisplay, numberingSystem) {\n    var _a;\n    var roundedNumber = numberResult.roundedNumber, sign = numberResult.sign, magnitude = numberResult.magnitude;\n    var magnitudeKey = String(Math.pow(10, magnitude));\n    var defaultNumberingSystem = data.numbers.nu[0];\n    var pattern;\n    if (style === 'currency' && currencyDisplay !== 'name') {\n        var byNumberingSystem = data.numbers.currency;\n        var currencyData = byNumberingSystem[numberingSystem] ||\n            byNumberingSystem[defaultNumberingSystem];\n        // NOTE: compact notation ignores currencySign!\n        var compactPluralRules = (_a = currencyData.short) === null || _a === void 0 ? void 0 : _a[magnitudeKey];\n        if (!compactPluralRules) {\n            return null;\n        }\n        pattern = selectPlural(pl, roundedNumber, compactPluralRules);\n    }\n    else {\n        var byNumberingSystem = data.numbers.decimal;\n        var byCompactDisplay = byNumberingSystem[numberingSystem] ||\n            byNumberingSystem[defaultNumberingSystem];\n        var compactPlaralRule = byCompactDisplay[compactDisplay][magnitudeKey];\n        if (!compactPlaralRule) {\n            return null;\n        }\n        pattern = selectPlural(pl, roundedNumber, compactPlaralRule);\n    }\n    // See https://unicode.org/reports/tr35/tr35-numbers.html#Compact_Number_Formats\n    // > If the value is precisely “0”, either explicit or defaulted, then the normal number format\n    // > pattern for that sort of object is supplied.\n    if (pattern === '0') {\n        return null;\n    }\n    pattern = getPatternForSign(pattern, sign)\n        // Extract compact literal from the pattern\n        .replace(/([^\\s;\\-\\+\\d¤]+)/g, '{c:$1}')\n        // We replace one or more zeros with a single zero so it matches `CLDR_NUMBER_PATTERN`.\n        .replace(/0+/, '0');\n    return pattern;\n}\nfunction selectPlural(pl, x, rules) {\n    return rules[pl.select(x)] || rules.other;\n}\n","import { FormatNumericToString } from './FormatNumericToString';\nimport { SameValue } from '../262';\nimport { ComputeExponent } from './ComputeExponent';\nimport formatToParts from './format_to_parts';\n/**\n * https://tc39.es/ecma402/#sec-formatnumberstring\n */\nexport function PartitionNumberPattern(numberFormat, x, _a) {\n    var _b;\n    var getInternalSlots = _a.getInternalSlots;\n    var internalSlots = getInternalSlots(numberFormat);\n    var pl = internalSlots.pl, dataLocaleData = internalSlots.dataLocaleData, numberingSystem = internalSlots.numberingSystem;\n    var symbols = dataLocaleData.numbers.symbols[numberingSystem] ||\n        dataLocaleData.numbers.symbols[dataLocaleData.numbers.nu[0]];\n    var magnitude = 0;\n    var exponent = 0;\n    var n;\n    if (isNaN(x)) {\n        n = symbols.nan;\n    }\n    else if (!isFinite(x)) {\n        n = symbols.infinity;\n    }\n    else {\n        if (internalSlots.style === 'percent') {\n            x *= 100;\n        }\n        _b = ComputeExponent(numberFormat, x, {\n            getInternalSlots: getInternalSlots,\n        }), exponent = _b[0], magnitude = _b[1];\n        // Preserve more precision by doing multiplication when exponent is negative.\n        x = exponent < 0 ? x * Math.pow(10, -exponent) : x / Math.pow(10, exponent);\n        var formatNumberResult = FormatNumericToString(internalSlots, x);\n        n = formatNumberResult.formattedString;\n        x = formatNumberResult.roundedNumber;\n    }\n    // Based on https://tc39.es/ecma402/#sec-getnumberformatpattern\n    // We need to do this before `x` is rounded.\n    var sign;\n    var signDisplay = internalSlots.signDisplay;\n    switch (signDisplay) {\n        case 'never':\n            sign = 0;\n            break;\n        case 'auto':\n            if (SameValue(x, 0) || x > 0 || isNaN(x)) {\n                sign = 0;\n            }\n            else {\n                sign = -1;\n            }\n            break;\n        case 'always':\n            if (SameValue(x, 0) || x > 0 || isNaN(x)) {\n                sign = 1;\n            }\n            else {\n                sign = -1;\n            }\n            break;\n        default:\n            // x === 0 -> x is 0 or x is -0\n            if (x === 0 || isNaN(x)) {\n                sign = 0;\n            }\n            else if (x > 0) {\n                sign = 1;\n            }\n            else {\n                sign = -1;\n            }\n    }\n    return formatToParts({ roundedNumber: x, formattedString: n, exponent: exponent, magnitude: magnitude, sign: sign }, internalSlots.dataLocaleData, pl, internalSlots);\n}\n","import { PartitionNumberPattern } from './PartitionNumberPattern';\nimport { ArrayCreate } from '../262';\nexport function FormatNumericToParts(nf, x, implDetails) {\n    var parts = PartitionNumberPattern(nf, x, implDetails);\n    var result = ArrayCreate(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result.push({\n            type: part.type,\n            value: part.value,\n        });\n    }\n    return result;\n}\n","import { GetOption } from '../GetOption';\nimport { IsWellFormedCurrencyCode } from '../IsWellFormedCurrencyCode';\nimport { IsWellFormedUnitIdentifier } from '../IsWellFormedUnitIdentifier';\n/**\n * https://tc39.es/ecma402/#sec-setnumberformatunitoptions\n */\nexport function SetNumberFormatUnitOptions(nf, options, _a) {\n    if (options === void 0) { options = Object.create(null); }\n    var getInternalSlots = _a.getInternalSlots;\n    var internalSlots = getInternalSlots(nf);\n    var style = GetOption(options, 'style', 'string', ['decimal', 'percent', 'currency', 'unit'], 'decimal');\n    internalSlots.style = style;\n    var currency = GetOption(options, 'currency', 'string', undefined, undefined);\n    if (currency !== undefined && !IsWellFormedCurrencyCode(currency)) {\n        throw RangeError('Malformed currency code');\n    }\n    if (style === 'currency' && currency === undefined) {\n        throw TypeError('currency cannot be undefined');\n    }\n    var currencyDisplay = GetOption(options, 'currencyDisplay', 'string', ['code', 'symbol', 'narrowSymbol', 'name'], 'symbol');\n    var currencySign = GetOption(options, 'currencySign', 'string', ['standard', 'accounting'], 'standard');\n    var unit = GetOption(options, 'unit', 'string', undefined, undefined);\n    if (unit !== undefined && !IsWellFormedUnitIdentifier(unit)) {\n        throw RangeError('Invalid unit argument for Intl.NumberFormat()');\n    }\n    if (style === 'unit' && unit === undefined) {\n        throw TypeError('unit cannot be undefined');\n    }\n    var unitDisplay = GetOption(options, 'unitDisplay', 'string', ['short', 'narrow', 'long'], 'short');\n    if (style === 'currency') {\n        internalSlots.currency = currency.toUpperCase();\n        internalSlots.currencyDisplay = currencyDisplay;\n        internalSlots.currencySign = currencySign;\n    }\n    if (style === 'unit') {\n        internalSlots.unit = unit;\n        internalSlots.unitDisplay = unitDisplay;\n    }\n}\n","import { GetNumberOption } from '../GetNumberOption';\nimport { DefaultNumberOption } from '../DefaultNumberOption';\n/**\n * https://tc39.es/ecma402/#sec-setnfdigitoptions\n */\nexport function SetNumberFormatDigitOptions(internalSlots, opts, mnfdDefault, mxfdDefault, notation) {\n    var mnid = GetNumberOption(opts, 'minimumIntegerDigits', 1, 21, 1);\n    var mnfd = opts.minimumFractionDigits;\n    var mxfd = opts.maximumFractionDigits;\n    var mnsd = opts.minimumSignificantDigits;\n    var mxsd = opts.maximumSignificantDigits;\n    internalSlots.minimumIntegerDigits = mnid;\n    if (mnsd !== undefined || mxsd !== undefined) {\n        internalSlots.roundingType = 'significantDigits';\n        mnsd = DefaultNumberOption(mnsd, 1, 21, 1);\n        mxsd = DefaultNumberOption(mxsd, mnsd, 21, 21);\n        internalSlots.minimumSignificantDigits = mnsd;\n        internalSlots.maximumSignificantDigits = mxsd;\n    }\n    else if (mnfd !== undefined || mxfd !== undefined) {\n        internalSlots.roundingType = 'fractionDigits';\n        mnfd = DefaultNumberOption(mnfd, 0, 20, mnfdDefault);\n        var mxfdActualDefault = Math.max(mnfd, mxfdDefault);\n        mxfd = DefaultNumberOption(mxfd, mnfd, 20, mxfdActualDefault);\n        internalSlots.minimumFractionDigits = mnfd;\n        internalSlots.maximumFractionDigits = mxfd;\n    }\n    else if (notation === 'compact') {\n        internalSlots.roundingType = 'compactRounding';\n    }\n    else {\n        internalSlots.roundingType = 'fractionDigits';\n        internalSlots.minimumFractionDigits = mnfdDefault;\n        internalSlots.maximumFractionDigits = mxfdDefault;\n    }\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { ToObject } from '../262';\nimport { GetOption } from '../GetOption';\nimport { ResolveLocale } from '../ResolveLocale';\nimport { SetNumberFormatUnitOptions } from './SetNumberFormatUnitOptions';\nimport { CurrencyDigits } from './CurrencyDigits';\nimport { SetNumberFormatDigitOptions } from './SetNumberFormatDigitOptions';\nimport { invariant } from '../utils';\n/**\n * https://tc39.es/ecma402/#sec-initializenumberformat\n */\nexport function InitializeNumberFormat(nf, locales, opts, _a) {\n    var getInternalSlots = _a.getInternalSlots, localeData = _a.localeData, availableLocales = _a.availableLocales, numberingSystemNames = _a.numberingSystemNames, getDefaultLocale = _a.getDefaultLocale, currencyDigitsData = _a.currencyDigitsData;\n    // @ts-ignore\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var options = opts === undefined ? Object.create(null) : ToObject(opts);\n    var opt = Object.create(null);\n    var matcher = GetOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');\n    opt.localeMatcher = matcher;\n    var numberingSystem = GetOption(options, 'numberingSystem', 'string', undefined, undefined);\n    if (numberingSystem !== undefined &&\n        numberingSystemNames.indexOf(numberingSystem) < 0) {\n        // 8.a. If numberingSystem does not match the Unicode Locale Identifier type nonterminal,\n        // throw a RangeError exception.\n        throw RangeError(\"Invalid numberingSystems: \" + numberingSystem);\n    }\n    opt.nu = numberingSystem;\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, \n    // [[RelevantExtensionKeys]] slot, which is a constant\n    ['nu'], localeData, getDefaultLocale);\n    var dataLocaleData = localeData[r.dataLocale];\n    invariant(!!dataLocaleData, \"Missing locale data for \" + r.dataLocale);\n    var internalSlots = getInternalSlots(nf);\n    internalSlots.locale = r.locale;\n    internalSlots.dataLocale = r.dataLocale;\n    internalSlots.numberingSystem = r.nu;\n    internalSlots.dataLocaleData = dataLocaleData;\n    SetNumberFormatUnitOptions(nf, options, { getInternalSlots: getInternalSlots });\n    var style = internalSlots.style;\n    var mnfdDefault;\n    var mxfdDefault;\n    if (style === 'currency') {\n        var currency = internalSlots.currency;\n        var cDigits = CurrencyDigits(currency, { currencyDigitsData: currencyDigitsData });\n        mnfdDefault = cDigits;\n        mxfdDefault = cDigits;\n    }\n    else {\n        mnfdDefault = 0;\n        mxfdDefault = style === 'percent' ? 0 : 3;\n    }\n    var notation = GetOption(options, 'notation', 'string', ['standard', 'scientific', 'engineering', 'compact'], 'standard');\n    internalSlots.notation = notation;\n    SetNumberFormatDigitOptions(internalSlots, options, mnfdDefault, mxfdDefault, notation);\n    var compactDisplay = GetOption(options, 'compactDisplay', 'string', ['short', 'long'], 'short');\n    if (notation === 'compact') {\n        internalSlots.compactDisplay = compactDisplay;\n    }\n    var useGrouping = GetOption(options, 'useGrouping', 'boolean', undefined, true);\n    internalSlots.useGrouping = useGrouping;\n    var signDisplay = GetOption(options, 'signDisplay', 'string', ['auto', 'never', 'always', 'exceptZero'], 'auto');\n    internalSlots.signDisplay = signDisplay;\n    return nf;\n}\n","import { invariant } from '../utils';\nimport { ToNumber } from '../262';\n/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-getoperands\n * @param s\n */\nexport function GetOperands(s) {\n    invariant(typeof s === 'string', \"GetOperands should have been called with a string\");\n    var n = ToNumber(s);\n    invariant(isFinite(n), 'n should be finite');\n    var dp = s.indexOf('.');\n    var iv;\n    var f;\n    var v;\n    var fv = '';\n    if (dp === -1) {\n        iv = n;\n        f = 0;\n        v = 0;\n    }\n    else {\n        iv = s.slice(0, dp);\n        fv = s.slice(dp, s.length);\n        f = ToNumber(fv);\n        v = fv.length;\n    }\n    var i = Math.abs(ToNumber(iv));\n    var w;\n    var t;\n    if (f !== 0) {\n        var ft = fv.replace(/0+$/, '');\n        w = ft.length;\n        t = ToNumber(ft);\n    }\n    else {\n        w = 0;\n        t = 0;\n    }\n    return {\n        Number: n,\n        IntegerDigits: i,\n        NumberOfFractionDigits: v,\n        NumberOfFractionDigitsWithoutTrailing: w,\n        FractionDigits: f,\n        FractionDigitsWithoutTrailing: t,\n    };\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { ToObject } from '../262';\nimport { GetOption } from '../GetOption';\nimport { SetNumberFormatDigitOptions } from '../NumberFormat/SetNumberFormatDigitOptions';\nimport { ResolveLocale } from '../ResolveLocale';\nexport function InitializePluralRules(pl, locales, options, _a) {\n    var availableLocales = _a.availableLocales, relevantExtensionKeys = _a.relevantExtensionKeys, localeData = _a.localeData, getDefaultLocale = _a.getDefaultLocale, getInternalSlots = _a.getInternalSlots;\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var opt = Object.create(null);\n    var opts = options === undefined ? Object.create(null) : ToObject(options);\n    var internalSlots = getInternalSlots(pl);\n    internalSlots.initializedPluralRules = true;\n    var matcher = GetOption(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n    opt.localeMatcher = matcher;\n    internalSlots.type = GetOption(opts, 'type', 'string', ['cardinal', 'ordinal'], 'cardinal');\n    SetNumberFormatDigitOptions(internalSlots, opts, 0, 3, 'standard');\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n    internalSlots.locale = r.locale;\n    return pl;\n}\n","import { invariant } from '../utils';\nimport { Type } from '../262';\nimport { FormatNumericToString } from '../NumberFormat/FormatNumericToString';\nimport { GetOperands } from './GetOperands';\n/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-resolveplural\n * @param pl\n * @param n\n * @param PluralRuleSelect Has to pass in bc it's implementation-specific\n */\nexport function ResolvePlural(pl, n, _a) {\n    var getInternalSlots = _a.getInternalSlots, PluralRuleSelect = _a.PluralRuleSelect;\n    var internalSlots = getInternalSlots(pl);\n    invariant(Type(internalSlots) === 'Object', 'pl has to be an object');\n    invariant('initializedPluralRules' in internalSlots, 'pluralrules must be initialized');\n    invariant(Type(n) === 'Number', 'n must be a number');\n    if (!isFinite(n)) {\n        return 'other';\n    }\n    var locale = internalSlots.locale, type = internalSlots.type;\n    var res = FormatNumericToString(internalSlots, n);\n    var s = res.formattedString;\n    var operands = GetOperands(s);\n    return PluralRuleSelect(locale, type, n, operands);\n}\n","import { invariant } from '../utils';\nimport { Type } from '../262';\n/**\n * https://tc39.es/proposal-intl-relative-time/#sec-singularrelativetimeunit\n * @param unit\n */\nexport function SingularRelativeTimeUnit(unit) {\n    invariant(Type(unit) === 'String', 'unit must be a string');\n    if (unit === 'seconds')\n        return 'second';\n    if (unit === 'minutes')\n        return 'minute';\n    if (unit === 'hours')\n        return 'hour';\n    if (unit === 'days')\n        return 'day';\n    if (unit === 'weeks')\n        return 'week';\n    if (unit === 'months')\n        return 'month';\n    if (unit === 'quarters')\n        return 'quarter';\n    if (unit === 'years')\n        return 'year';\n    if (unit !== 'second' &&\n        unit !== 'minute' &&\n        unit !== 'hour' &&\n        unit !== 'day' &&\n        unit !== 'week' &&\n        unit !== 'month' &&\n        unit !== 'quarter' &&\n        unit !== 'year') {\n        throw new RangeError('invalid unit');\n    }\n    return unit;\n}\n","import { PartitionPattern } from '../PartitionPattern';\nimport { invariant } from '../utils';\nexport function MakePartsList(pattern, unit, parts) {\n    var patternParts = PartitionPattern(pattern);\n    var result = [];\n    for (var _i = 0, patternParts_1 = patternParts; _i < patternParts_1.length; _i++) {\n        var patternPart = patternParts_1[_i];\n        if (patternPart.type === 'literal') {\n            result.push({\n                type: 'literal',\n                value: patternPart.value,\n            });\n        }\n        else {\n            invariant(patternPart.type === '0', \"Malformed pattern \" + pattern);\n            for (var _a = 0, parts_1 = parts; _a < parts_1.length; _a++) {\n                var part = parts_1[_a];\n                result.push({\n                    type: part.type,\n                    value: part.value,\n                    unit: unit,\n                });\n            }\n        }\n    }\n    return result;\n}\n","import { invariant } from '../utils';\nimport { SingularRelativeTimeUnit } from './SingularRelativeTimeUnit';\nimport { MakePartsList } from './MakePartsList';\nimport { ToString, Type, SameValue } from '../262';\nexport function PartitionRelativeTimePattern(rtf, value, unit, _a) {\n    var getInternalSlots = _a.getInternalSlots;\n    invariant(Type(value) === 'Number', \"value must be number, instead got \" + typeof value, TypeError);\n    invariant(Type(unit) === 'String', \"unit must be number, instead got \" + typeof value, TypeError);\n    if (isNaN(value) || !isFinite(value)) {\n        throw new RangeError(\"Invalid value \" + value);\n    }\n    var resolvedUnit = SingularRelativeTimeUnit(unit);\n    var _b = getInternalSlots(rtf), fields = _b.fields, style = _b.style, numeric = _b.numeric, pluralRules = _b.pluralRules, numberFormat = _b.numberFormat;\n    var entry = resolvedUnit;\n    if (style === 'short') {\n        entry = resolvedUnit + \"-short\";\n    }\n    else if (style === 'narrow') {\n        entry = resolvedUnit + \"-narrow\";\n    }\n    if (!(entry in fields)) {\n        entry = resolvedUnit;\n    }\n    var patterns = fields[entry];\n    if (numeric === 'auto') {\n        if (ToString(value) in patterns) {\n            return [\n                {\n                    type: 'literal',\n                    value: patterns[ToString(value)],\n                },\n            ];\n        }\n    }\n    var tl = 'future';\n    if (SameValue(value, -0) || value < 0) {\n        tl = 'past';\n    }\n    var po = patterns[tl];\n    var fv = typeof numberFormat.formatToParts === 'function'\n        ? numberFormat.formatToParts(Math.abs(value))\n        : // TODO: If formatToParts is not supported, we assume the whole formatted\n            // number is a part\n            [\n                {\n                    type: 'literal',\n                    value: numberFormat.format(Math.abs(value)),\n                    unit: unit,\n                },\n            ];\n    var pr = pluralRules.select(value);\n    var pattern = po[pr];\n    return MakePartsList(pattern, resolvedUnit, fv);\n}\n","import { PartitionRelativeTimePattern } from './PartitionRelativeTimePattern';\nexport function FormatRelativeTime(rtf, value, unit, implDetails) {\n    var parts = PartitionRelativeTimePattern(rtf, value, unit, implDetails);\n    var result = '';\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result += part.value;\n    }\n    return result;\n}\n","import { PartitionRelativeTimePattern } from './PartitionRelativeTimePattern';\nimport { ArrayCreate } from '../262';\nexport function FormatRelativeTimeToParts(rtf, value, unit, implDetails) {\n    var parts = PartitionRelativeTimePattern(rtf, value, unit, implDetails);\n    var result = ArrayCreate(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        var o = {\n            type: part.type,\n            value: part.value,\n        };\n        if ('unit' in part) {\n            o.unit = part.unit;\n        }\n        result.push(o);\n    }\n    return result;\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { ToObject } from '../262';\nimport { GetOption } from '../GetOption';\nimport { ResolveLocale } from '../ResolveLocale';\nimport { invariant } from '../utils';\nvar NUMBERING_SYSTEM_REGEX = /^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;\nexport function InitializeRelativeTimeFormat(rtf, locales, options, _a) {\n    var getInternalSlots = _a.getInternalSlots, availableLocales = _a.availableLocales, relevantExtensionKeys = _a.relevantExtensionKeys, localeData = _a.localeData, getDefaultLocale = _a.getDefaultLocale;\n    var internalSlots = getInternalSlots(rtf);\n    internalSlots.initializedRelativeTimeFormat = true;\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var opt = Object.create(null);\n    var opts = options === undefined ? Object.create(null) : ToObject(options);\n    var matcher = GetOption(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n    opt.localeMatcher = matcher;\n    var numberingSystem = GetOption(opts, 'numberingSystem', 'string', undefined, undefined);\n    if (numberingSystem !== undefined) {\n        if (!NUMBERING_SYSTEM_REGEX.test(numberingSystem)) {\n            throw new RangeError(\"Invalid numbering system \" + numberingSystem);\n        }\n    }\n    opt.nu = numberingSystem;\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n    var locale = r.locale, nu = r.nu;\n    internalSlots.locale = locale;\n    internalSlots.style = GetOption(opts, 'style', 'string', ['long', 'narrow', 'short'], 'long');\n    internalSlots.numeric = GetOption(opts, 'numeric', 'string', ['always', 'auto'], 'always');\n    var fields = localeData[r.dataLocale];\n    invariant(!!fields, \"Missing locale data for \" + r.dataLocale);\n    internalSlots.fields = fields;\n    internalSlots.numberFormat = new Intl.NumberFormat(locales);\n    internalSlots.pluralRules = new Intl.PluralRules(locales);\n    internalSlots.numberingSystem = nu;\n    return rtf;\n}\n","import { UNICODE_EXTENSION_SEQUENCE_REGEX } from './utils';\nimport { BestAvailableLocale } from './BestAvailableLocale';\n/**\n * https://tc39.es/ecma402/#sec-lookupsupportedlocales\n * @param availableLocales\n * @param requestedLocales\n */\nexport function LookupSupportedLocales(availableLocales, requestedLocales) {\n    var subset = [];\n    for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n        var locale = requestedLocales_1[_i];\n        var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n        var availableLocale = BestAvailableLocale(availableLocales, noExtensionLocale);\n        if (availableLocale) {\n            subset.push(availableLocale);\n        }\n    }\n    return subset;\n}\n","import { ToObject } from './262';\nimport { GetOption } from './GetOption';\nimport { LookupSupportedLocales } from './LookupSupportedLocales';\n/**\n * https://tc39.es/ecma402/#sec-supportedlocales\n * @param availableLocales\n * @param requestedLocales\n * @param options\n */\nexport function SupportedLocales(availableLocales, requestedLocales, options) {\n    var matcher = 'best fit';\n    if (options !== undefined) {\n        options = ToObject(options);\n        matcher = GetOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');\n    }\n    if (matcher === 'best fit') {\n        return LookupSupportedLocales(availableLocales, requestedLocales);\n    }\n    return LookupSupportedLocales(availableLocales, requestedLocales);\n}\n","import { __extends } from \"tslib\";\nvar MissingLocaleDataError = /** @class */ (function (_super) {\n    __extends(MissingLocaleDataError, _super);\n    function MissingLocaleDataError() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'MISSING_LOCALE_DATA';\n        return _this;\n    }\n    return MissingLocaleDataError;\n}(Error));\nexport function isMissingLocaleDataError(e) {\n    return e.type === 'MISSING_LOCALE_DATA';\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar _1 = tslib_1.__importDefault(require(\"./\"));\nvar should_polyfill_1 = require(\"./should-polyfill\");\nif (should_polyfill_1.shouldPolyfill()) {\n    Object.defineProperty(Intl, 'ListFormat', {\n        value: _1.default,\n        writable: true,\n        enumerable: false,\n        configurable: true,\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldPolyfill = void 0;\nfunction shouldPolyfill() {\n    return typeof Intl === 'undefined' || !('ListFormat' in Intl);\n}\nexports.shouldPolyfill = shouldPolyfill;\n","\"use strict\";\n// Type-only circular import\n// eslint-disable-next-line import/no-cycle\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar internalSlotMap = new WeakMap();\nfunction getInternalSlots(x) {\n    var internalSlots = internalSlotMap.get(x);\n    if (!internalSlots) {\n        internalSlots = Object.create(null);\n        internalSlotMap.set(x, internalSlots);\n    }\n    return internalSlots;\n}\nexports.default = getInternalSlots;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Locale = void 0;\nvar tslib_1 = require(\"tslib\");\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\nvar intl_getcanonicallocales_1 = require(\"@formatjs/intl-getcanonicallocales\");\nvar likelySubtagsData = tslib_1.__importStar(require(\"cldr-core/supplemental/likelySubtags.json\"));\nvar get_internal_slots_1 = tslib_1.__importDefault(require(\"./get_internal_slots\"));\nvar likelySubtags = likelySubtagsData.supplemental.likelySubtags;\nvar RELEVANT_EXTENSION_KEYS = ['ca', 'co', 'hc', 'kf', 'kn', 'nu'];\nvar UNICODE_TYPE_REGEX = /^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;\nfunction applyOptionsToTag(tag, options) {\n    ecma402_abstract_1.invariant(typeof tag === 'string', 'language tag must be a string');\n    ecma402_abstract_1.invariant(intl_getcanonicallocales_1.isStructurallyValidLanguageTag(tag), 'malformed language tag', RangeError);\n    var language = ecma402_abstract_1.GetOption(options, 'language', 'string', undefined, undefined);\n    if (language !== undefined) {\n        ecma402_abstract_1.invariant(intl_getcanonicallocales_1.isUnicodeLanguageSubtag(language), 'Malformed unicode_language_subtag', RangeError);\n    }\n    var script = ecma402_abstract_1.GetOption(options, 'script', 'string', undefined, undefined);\n    if (script !== undefined) {\n        ecma402_abstract_1.invariant(intl_getcanonicallocales_1.isUnicodeScriptSubtag(script), 'Malformed unicode_script_subtag', RangeError);\n    }\n    var region = ecma402_abstract_1.GetOption(options, 'region', 'string', undefined, undefined);\n    if (region !== undefined) {\n        ecma402_abstract_1.invariant(intl_getcanonicallocales_1.isUnicodeRegionSubtag(region), 'Malformed unicode_region_subtag', RangeError);\n    }\n    var languageId = intl_getcanonicallocales_1.parseUnicodeLanguageId(tag);\n    if (language !== undefined) {\n        languageId.lang = language;\n    }\n    if (script !== undefined) {\n        languageId.script = script;\n    }\n    if (region !== undefined) {\n        languageId.region = region;\n    }\n    return Intl.getCanonicalLocales(intl_getcanonicallocales_1.emitUnicodeLocaleId(tslib_1.__assign(tslib_1.__assign({}, intl_getcanonicallocales_1.parseUnicodeLocaleId(tag)), { lang: languageId })))[0];\n}\nfunction applyUnicodeExtensionToTag(tag, options, relevantExtensionKeys) {\n    var unicodeExtension;\n    var keywords = [];\n    var ast = intl_getcanonicallocales_1.parseUnicodeLocaleId(tag);\n    for (var _i = 0, _a = ast.extensions; _i < _a.length; _i++) {\n        var ext = _a[_i];\n        if (ext.type === 'u') {\n            unicodeExtension = ext;\n            if (Array.isArray(ext.keywords))\n                keywords = ext.keywords;\n        }\n    }\n    var result = Object.create(null);\n    for (var _b = 0, relevantExtensionKeys_1 = relevantExtensionKeys; _b < relevantExtensionKeys_1.length; _b++) {\n        var key = relevantExtensionKeys_1[_b];\n        var value = void 0, entry = void 0;\n        for (var _c = 0, keywords_1 = keywords; _c < keywords_1.length; _c++) {\n            var keyword = keywords_1[_c];\n            if (keyword[0] === key) {\n                entry = keyword;\n                value = entry[1];\n            }\n        }\n        ecma402_abstract_1.invariant(key in options, key + \" must be in options\");\n        var optionsValue = options[key];\n        if (optionsValue !== undefined) {\n            ecma402_abstract_1.invariant(typeof optionsValue === 'string', \"Value for \" + key + \" must be a string\");\n            value = optionsValue;\n            if (entry) {\n                entry[1] = value;\n            }\n            else {\n                keywords.push([key, value]);\n            }\n        }\n        result[key] = value;\n    }\n    if (!unicodeExtension) {\n        if (keywords.length) {\n            ast.extensions.push({\n                type: 'u',\n                keywords: keywords,\n                attributes: [],\n            });\n        }\n    }\n    else {\n        unicodeExtension.keywords = keywords;\n    }\n    result.locale = Intl\n        .getCanonicalLocales(intl_getcanonicallocales_1.emitUnicodeLocaleId(ast))[0];\n    return result;\n}\nfunction mergeUnicodeLanguageId(lang, script, region, variants, replacement) {\n    if (variants === void 0) { variants = []; }\n    if (!replacement) {\n        return {\n            lang: lang || 'und',\n            script: script,\n            region: region,\n            variants: variants,\n        };\n    }\n    return {\n        lang: !lang || lang === 'und' ? replacement.lang : lang,\n        script: script || replacement.script,\n        region: region || replacement.region,\n        variants: tslib_1.__spreadArrays(variants, replacement.variants),\n    };\n}\nfunction addLikelySubtags(tag) {\n    var ast = intl_getcanonicallocales_1.parseUnicodeLocaleId(tag);\n    var unicodeLangId = ast.lang;\n    var lang = unicodeLangId.lang, script = unicodeLangId.script, region = unicodeLangId.region, variants = unicodeLangId.variants;\n    if (script && region) {\n        var match_1 = likelySubtags[intl_getcanonicallocales_1.emitUnicodeLanguageId({ lang: lang, script: script, region: region, variants: [] })];\n        if (match_1) {\n            var parts_1 = intl_getcanonicallocales_1.parseUnicodeLanguageId(match_1);\n            ast.lang = mergeUnicodeLanguageId(undefined, undefined, undefined, variants, parts_1);\n            return intl_getcanonicallocales_1.emitUnicodeLocaleId(ast);\n        }\n    }\n    if (script) {\n        var match_2 = likelySubtags[intl_getcanonicallocales_1.emitUnicodeLanguageId({ lang: lang, script: script, variants: [] })];\n        if (match_2) {\n            var parts_2 = intl_getcanonicallocales_1.parseUnicodeLanguageId(match_2);\n            ast.lang = mergeUnicodeLanguageId(undefined, undefined, region, variants, parts_2);\n            return intl_getcanonicallocales_1.emitUnicodeLocaleId(ast);\n        }\n    }\n    if (region) {\n        var match_3 = likelySubtags[intl_getcanonicallocales_1.emitUnicodeLanguageId({ lang: lang, region: region, variants: [] })];\n        if (match_3) {\n            var parts_3 = intl_getcanonicallocales_1.parseUnicodeLanguageId(match_3);\n            ast.lang = mergeUnicodeLanguageId(undefined, script, undefined, variants, parts_3);\n            return intl_getcanonicallocales_1.emitUnicodeLocaleId(ast);\n        }\n    }\n    var match = likelySubtags[lang] ||\n        likelySubtags[intl_getcanonicallocales_1.emitUnicodeLanguageId({ lang: 'und', script: script, variants: [] })];\n    if (!match) {\n        throw new Error(\"No match for addLikelySubtags\");\n    }\n    var parts = intl_getcanonicallocales_1.parseUnicodeLanguageId(match);\n    ast.lang = mergeUnicodeLanguageId(undefined, script, region, variants, parts);\n    return intl_getcanonicallocales_1.emitUnicodeLocaleId(ast);\n}\n/**\n * From: https://github.com/unicode-org/icu/blob/4231ca5be053a22a1be24eb891817458c97db709/icu4j/main/classes/core/src/com/ibm/icu/util/ULocale.java#L2395\n * @param tag\n */\nfunction removeLikelySubtags(tag) {\n    var maxLocale = addLikelySubtags(tag);\n    if (!maxLocale) {\n        return tag;\n    }\n    maxLocale = intl_getcanonicallocales_1.emitUnicodeLanguageId(tslib_1.__assign(tslib_1.__assign({}, intl_getcanonicallocales_1.parseUnicodeLanguageId(maxLocale)), { variants: [] }));\n    var ast = intl_getcanonicallocales_1.parseUnicodeLocaleId(tag);\n    var _a = ast.lang, lang = _a.lang, script = _a.script, region = _a.region, variants = _a.variants;\n    var trial = addLikelySubtags(intl_getcanonicallocales_1.emitUnicodeLanguageId({ lang: lang, variants: [] }));\n    if (trial === maxLocale) {\n        return intl_getcanonicallocales_1.emitUnicodeLocaleId(tslib_1.__assign(tslib_1.__assign({}, ast), { lang: mergeUnicodeLanguageId(lang, undefined, undefined, variants) }));\n    }\n    if (region) {\n        var trial_1 = addLikelySubtags(intl_getcanonicallocales_1.emitUnicodeLanguageId({ lang: lang, region: region, variants: [] }));\n        if (trial_1 === maxLocale) {\n            return intl_getcanonicallocales_1.emitUnicodeLocaleId(tslib_1.__assign(tslib_1.__assign({}, ast), { lang: mergeUnicodeLanguageId(lang, undefined, region, variants) }));\n        }\n    }\n    if (script) {\n        var trial_2 = addLikelySubtags(intl_getcanonicallocales_1.emitUnicodeLanguageId({ lang: lang, script: script, variants: [] }));\n        if (trial_2 === maxLocale) {\n            return intl_getcanonicallocales_1.emitUnicodeLocaleId(tslib_1.__assign(tslib_1.__assign({}, ast), { lang: mergeUnicodeLanguageId(lang, script, undefined, variants) }));\n        }\n    }\n    return tag;\n}\nvar Locale = /** @class */ (function () {\n    function Locale(tag, opts) {\n        // test262/test/intl402/RelativeTimeFormat/constructor/constructor/newtarget-undefined.js\n        // Cannot use `new.target` bc of IE11 & TS transpiles it to something else\n        var newTarget = this && this instanceof Locale ? this.constructor : void 0;\n        if (!newTarget) {\n            throw new TypeError(\"Intl.Locale must be called with 'new'\");\n        }\n        var relevantExtensionKeys = Locale.relevantExtensionKeys;\n        var internalSlotsList = [\n            'initializedLocale',\n            'locale',\n            'calendar',\n            'collation',\n            'hourCycle',\n            'numberingSystem',\n        ];\n        if (relevantExtensionKeys.indexOf('kf') > -1) {\n            internalSlotsList.push('caseFirst');\n        }\n        if (relevantExtensionKeys.indexOf('kn') > -1) {\n            internalSlotsList.push('numeric');\n        }\n        if (tag === undefined) {\n            throw new TypeError(\"First argument to Intl.Locale constructor can't be empty or missing\");\n        }\n        if (typeof tag !== 'string' && typeof tag !== 'object') {\n            throw new TypeError('tag must be a string or object');\n        }\n        var internalSlots;\n        if (typeof tag === 'object' &&\n            (internalSlots = get_internal_slots_1.default(tag)) &&\n            internalSlots.initializedLocale) {\n            tag = internalSlots.locale;\n        }\n        else {\n            tag = tag.toString();\n        }\n        internalSlots = get_internal_slots_1.default(this);\n        var options;\n        if (opts === undefined) {\n            options = Object.create(null);\n        }\n        else {\n            options = ecma402_abstract_1.ToObject(opts);\n        }\n        tag = applyOptionsToTag(tag, options);\n        var opt = Object.create(null);\n        var calendar = ecma402_abstract_1.GetOption(options, 'calendar', 'string', undefined, undefined);\n        if (calendar !== undefined) {\n            if (!UNICODE_TYPE_REGEX.test(calendar)) {\n                throw new RangeError('invalid calendar');\n            }\n        }\n        opt.ca = calendar;\n        var collation = ecma402_abstract_1.GetOption(options, 'collation', 'string', undefined, undefined);\n        if (collation !== undefined) {\n            if (!UNICODE_TYPE_REGEX.test(collation)) {\n                throw new RangeError('invalid collation');\n            }\n        }\n        opt.co = collation;\n        var hc = ecma402_abstract_1.GetOption(options, 'hourCycle', 'string', ['h11', 'h12', 'h23', 'h24'], undefined);\n        opt.hc = hc;\n        var kf = ecma402_abstract_1.GetOption(options, 'caseFirst', 'string', ['upper', 'lower', 'false'], undefined);\n        opt.kf = kf;\n        var _kn = ecma402_abstract_1.GetOption(options, 'numeric', 'boolean', undefined, undefined);\n        var kn;\n        if (_kn !== undefined) {\n            kn = String(_kn);\n        }\n        opt.kn = kn;\n        var numberingSystem = ecma402_abstract_1.GetOption(options, 'numberingSystem', 'string', undefined, undefined);\n        if (numberingSystem !== undefined) {\n            if (!UNICODE_TYPE_REGEX.test(numberingSystem)) {\n                throw new RangeError('Invalid numberingSystem');\n            }\n        }\n        opt.nu = numberingSystem;\n        var r = applyUnicodeExtensionToTag(tag, opt, relevantExtensionKeys);\n        internalSlots.locale = r.locale;\n        internalSlots.calendar = r.ca;\n        internalSlots.collation = r.co;\n        internalSlots.hourCycle = r.hc;\n        if (relevantExtensionKeys.indexOf('kf') > -1) {\n            internalSlots.caseFirst = r.kf;\n        }\n        if (relevantExtensionKeys.indexOf('kn') > -1) {\n            internalSlots.numeric = ecma402_abstract_1.SameValue(r.kn, 'true');\n        }\n        internalSlots.numberingSystem = r.nu;\n    }\n    /**\n     * https://www.unicode.org/reports/tr35/#Likely_Subtags\n     */\n    Locale.prototype.maximize = function () {\n        var locale = get_internal_slots_1.default(this).locale;\n        try {\n            var maximizedLocale = addLikelySubtags(locale);\n            return new Locale(maximizedLocale);\n        }\n        catch (e) {\n            return new Locale(locale);\n        }\n    };\n    /**\n     * https://www.unicode.org/reports/tr35/#Likely_Subtags\n     */\n    Locale.prototype.minimize = function () {\n        var locale = get_internal_slots_1.default(this).locale;\n        try {\n            var minimizedLocale = removeLikelySubtags(locale);\n            return new Locale(minimizedLocale);\n        }\n        catch (e) {\n            return new Locale(locale);\n        }\n    };\n    Locale.prototype.toString = function () {\n        return get_internal_slots_1.default(this).locale;\n    };\n    Object.defineProperty(Locale.prototype, \"baseName\", {\n        get: function () {\n            var locale = get_internal_slots_1.default(this).locale;\n            return intl_getcanonicallocales_1.emitUnicodeLanguageId(intl_getcanonicallocales_1.parseUnicodeLanguageId(locale));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"calendar\", {\n        get: function () {\n            return get_internal_slots_1.default(this).calendar;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"collation\", {\n        get: function () {\n            return get_internal_slots_1.default(this).collation;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"hourCycle\", {\n        get: function () {\n            return get_internal_slots_1.default(this).hourCycle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"caseFirst\", {\n        get: function () {\n            return get_internal_slots_1.default(this).caseFirst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"numeric\", {\n        get: function () {\n            return get_internal_slots_1.default(this).numeric;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"numberingSystem\", {\n        get: function () {\n            return get_internal_slots_1.default(this).numberingSystem;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"language\", {\n        /**\n         * https://tc39.es/proposal-intl-locale/#sec-Intl.Locale.prototype.language\n         */\n        get: function () {\n            var locale = get_internal_slots_1.default(this).locale;\n            return intl_getcanonicallocales_1.parseUnicodeLanguageId(locale).lang;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"script\", {\n        /**\n         * https://tc39.es/proposal-intl-locale/#sec-Intl.Locale.prototype.script\n         */\n        get: function () {\n            var locale = get_internal_slots_1.default(this).locale;\n            return intl_getcanonicallocales_1.parseUnicodeLanguageId(locale).script;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Locale.prototype, \"region\", {\n        /**\n         * https://tc39.es/proposal-intl-locale/#sec-Intl.Locale.prototype.region\n         */\n        get: function () {\n            var locale = get_internal_slots_1.default(this).locale;\n            return intl_getcanonicallocales_1.parseUnicodeLanguageId(locale).region;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Locale.relevantExtensionKeys = RELEVANT_EXTENSION_KEYS;\n    return Locale;\n}());\nexports.Locale = Locale;\ntry {\n    if (typeof Symbol !== 'undefined') {\n        Object.defineProperty(Locale.prototype, Symbol.toStringTag, {\n            value: 'Intl.Locale',\n            writable: false,\n            enumerable: false,\n            configurable: true,\n        });\n    }\n    Object.defineProperty(Locale.prototype.constructor, 'length', {\n        value: 1,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n}\ncatch (e) {\n    // Meta fix so we're test262-compliant, not important\n}\nexports.default = Locale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _1 = require(\"./\");\nvar should_polyfill_1 = require(\"./should-polyfill\");\nif (should_polyfill_1.shouldPolyfill()) {\n    Object.defineProperty(Intl, 'Locale', {\n        value: _1.Locale,\n        writable: true,\n        enumerable: false,\n        configurable: true,\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldPolyfill = void 0;\n/**\n * https://bugs.chromium.org/p/v8/issues/detail?id=10682\n */\nfunction hasIntlGetCanonicalLocalesBug() {\n    try {\n        return new Intl.Locale('und-x-private').toString() === 'x-private';\n    }\n    catch (e) {\n        return true;\n    }\n}\nfunction shouldPolyfill() {\n    return (typeof Intl === 'undefined' ||\n        !('Locale' in Intl) ||\n        hasIntlGetCanonicalLocalesBug());\n}\nexports.shouldPolyfill = shouldPolyfill;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar internalSlotMap = new WeakMap();\nfunction getInternalSlots(x) {\n    var internalSlots = internalSlotMap.get(x);\n    if (!internalSlots) {\n        internalSlots = Object.create(null);\n        internalSlotMap.set(x, internalSlots);\n    }\n    return internalSlots;\n}\nexports.default = getInternalSlots;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PluralRules = void 0;\nvar tslib_1 = require(\"tslib\");\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\nvar get_internal_slots_1 = tslib_1.__importDefault(require(\"./get_internal_slots\"));\nfunction validateInstance(instance, method) {\n    if (!(instance instanceof PluralRules)) {\n        throw new TypeError(\"Method Intl.PluralRules.prototype.\" + method + \" called on incompatible receiver \" + String(instance));\n    }\n}\n/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-pluralruleselect\n * @param locale\n * @param type\n * @param _n\n * @param param3\n */\nfunction PluralRuleSelect(locale, type, _n, _a) {\n    var IntegerDigits = _a.IntegerDigits, NumberOfFractionDigits = _a.NumberOfFractionDigits, FractionDigits = _a.FractionDigits;\n    return PluralRules.localeData[locale].fn(NumberOfFractionDigits\n        ? IntegerDigits + \".\" + FractionDigits\n        : IntegerDigits, type === 'ordinal');\n}\nvar PluralRules = /** @class */ (function () {\n    function PluralRules(locales, options) {\n        // test262/test/intl402/RelativeTimeFormat/constructor/constructor/newtarget-undefined.js\n        // Cannot use `new.target` bc of IE11 & TS transpiles it to something else\n        var newTarget = this && this instanceof PluralRules ? this.constructor : void 0;\n        if (!newTarget) {\n            throw new TypeError(\"Intl.PluralRules must be called with 'new'\");\n        }\n        return ecma402_abstract_1.InitializePluralRules(this, locales, options, {\n            availableLocales: PluralRules.availableLocales,\n            relevantExtensionKeys: PluralRules.relevantExtensionKeys,\n            localeData: PluralRules.localeData,\n            getDefaultLocale: PluralRules.getDefaultLocale,\n            getInternalSlots: get_internal_slots_1.default,\n        });\n    }\n    PluralRules.prototype.resolvedOptions = function () {\n        validateInstance(this, 'resolvedOptions');\n        var opts = Object.create(null);\n        var internalSlots = get_internal_slots_1.default(this);\n        opts.locale = internalSlots.locale;\n        opts.type = internalSlots.type;\n        [\n            'minimumIntegerDigits',\n            'minimumFractionDigits',\n            'maximumFractionDigits',\n            'minimumSignificantDigits',\n            'maximumSignificantDigits',\n        ].forEach(function (field) {\n            var val = internalSlots[field];\n            if (val !== undefined) {\n                opts[field] = val;\n            }\n        });\n        opts.pluralCategories = tslib_1.__spreadArrays(PluralRules.localeData[opts.locale].categories[opts.type]);\n        return opts;\n    };\n    PluralRules.prototype.select = function (val) {\n        var pr = this;\n        validateInstance(pr, 'select');\n        var n = ecma402_abstract_1.ToNumber(val);\n        return ecma402_abstract_1.ResolvePlural(pr, n, { getInternalSlots: get_internal_slots_1.default, PluralRuleSelect: PluralRuleSelect });\n    };\n    PluralRules.prototype.toString = function () {\n        return '[object Intl.PluralRules]';\n    };\n    PluralRules.supportedLocalesOf = function (locales, options) {\n        return ecma402_abstract_1.SupportedLocales(PluralRules.availableLocales, ecma402_abstract_1.CanonicalizeLocaleList(locales), options);\n    };\n    PluralRules.__addLocaleData = function () {\n        var data = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            data[_i] = arguments[_i];\n        }\n        for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n            var _b = data_1[_a], d = _b.data, locale = _b.locale;\n            PluralRules.localeData[locale] = d;\n            PluralRules.availableLocales.add(locale);\n            if (!PluralRules.__defaultLocale) {\n                PluralRules.__defaultLocale = locale;\n            }\n        }\n    };\n    PluralRules.getDefaultLocale = function () {\n        return PluralRules.__defaultLocale;\n    };\n    PluralRules.localeData = {};\n    PluralRules.availableLocales = new Set();\n    PluralRules.__defaultLocale = '';\n    PluralRules.relevantExtensionKeys = [];\n    PluralRules.polyfilled = true;\n    return PluralRules;\n}());\nexports.PluralRules = PluralRules;\ntry {\n    // IE11 does not have Symbol\n    if (typeof Symbol !== 'undefined') {\n        Object.defineProperty(PluralRules.prototype, Symbol.toStringTag, {\n            value: 'Intl.PluralRules',\n            writable: false,\n            enumerable: false,\n            configurable: true,\n        });\n    }\n    try {\n        // https://github.com/tc39/test262/blob/master/test/intl402/PluralRules/length.js\n        Object.defineProperty(PluralRules, 'length', {\n            value: 0,\n            writable: false,\n            enumerable: false,\n            configurable: true,\n        });\n    }\n    catch (error) {\n        // IE 11 sets Function.prototype.length to be non-configurable which will cause the\n        // above Object.defineProperty to throw an error.\n    }\n    // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/length.js\n    Object.defineProperty(PluralRules.prototype.constructor, 'length', {\n        value: 0,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n    // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/supportedLocalesOf/length.js\n    Object.defineProperty(PluralRules.supportedLocalesOf, 'length', {\n        value: 1,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n}\ncatch (ex) {\n    // Meta fixes for test262\n}\n","/* @generated */\n// prettier-ignore\nif (Intl.PluralRules && typeof Intl.PluralRules.__addLocaleData === 'function') {\n  Intl.PluralRules.__addLocaleData({\"data\":{\"categories\":{\"cardinal\":[\"one\",\"other\"],\"ordinal\":[\"one\",\"two\",\"few\",\"other\"]},\"fn\":function(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n  if (ord) return n10 == 1 && n100 != 11 ? 'one'\n    : n10 == 2 && n100 != 12 ? 'two'\n    : n10 == 3 && n100 != 13 ? 'few'\n    : 'other';\n  return n == 1 && v0 ? 'one' : 'other';\n}},\"locale\":\"en\"})\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _1 = require(\"./\");\nvar should_polyfill_1 = require(\"./should-polyfill\");\nif (should_polyfill_1.shouldPolyfill()) {\n    Object.defineProperty(Intl, 'PluralRules', {\n        value: _1.PluralRules,\n        writable: true,\n        enumerable: false,\n        configurable: true,\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldPolyfill = void 0;\nfunction shouldPolyfill() {\n    return (typeof Intl === 'undefined' ||\n        !('PluralRules' in Intl) ||\n        new Intl.PluralRules('en', { minimumFractionDigits: 2 }).select(1) ===\n            'one');\n}\nexports.shouldPolyfill = shouldPolyfill;\n","\"use strict\";\n// Type-only circular import\n// eslint-disable-next-line import/no-cycle\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar internalSlotMap = new WeakMap();\nfunction getInternalSlots(x) {\n    var internalSlots = internalSlotMap.get(x);\n    if (!internalSlots) {\n        internalSlots = Object.create(null);\n        internalSlotMap.set(x, internalSlots);\n    }\n    return internalSlots;\n}\nexports.default = getInternalSlots;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\nvar get_internal_slots_1 = tslib_1.__importDefault(require(\"./get_internal_slots\"));\nvar RelativeTimeFormat = /** @class */ (function () {\n    function RelativeTimeFormat(locales, options) {\n        // test262/test/intl402/RelativeTimeFormat/constructor/constructor/newtarget-undefined.js\n        // Cannot use `new.target` bc of IE11 & TS transpiles it to something else\n        var newTarget = this && this instanceof RelativeTimeFormat ? this.constructor : void 0;\n        if (!newTarget) {\n            throw new TypeError(\"Intl.RelativeTimeFormat must be called with 'new'\");\n        }\n        return ecma402_abstract_1.InitializeRelativeTimeFormat(this, locales, options, {\n            getInternalSlots: get_internal_slots_1.default,\n            availableLocales: RelativeTimeFormat.availableLocales,\n            relevantExtensionKeys: RelativeTimeFormat.relevantExtensionKeys,\n            localeData: RelativeTimeFormat.localeData,\n            getDefaultLocale: RelativeTimeFormat.getDefaultLocale,\n        });\n    }\n    RelativeTimeFormat.prototype.format = function (value, unit) {\n        if (typeof this !== 'object') {\n            throw new TypeError('format was called on a non-object');\n        }\n        var internalSlots = get_internal_slots_1.default(this);\n        if (!internalSlots.initializedRelativeTimeFormat) {\n            throw new TypeError('format was called on a invalid context');\n        }\n        return ecma402_abstract_1.PartitionRelativeTimePattern(this, Number(value), ecma402_abstract_1.ToString(unit), {\n            getInternalSlots: get_internal_slots_1.default,\n        })\n            .map(function (el) { return el.value; })\n            .join('');\n    };\n    RelativeTimeFormat.prototype.formatToParts = function (value, unit) {\n        if (typeof this !== 'object') {\n            throw new TypeError('formatToParts was called on a non-object');\n        }\n        var internalSlots = get_internal_slots_1.default(this);\n        if (!internalSlots.initializedRelativeTimeFormat) {\n            throw new TypeError('formatToParts was called on a invalid context');\n        }\n        return ecma402_abstract_1.PartitionRelativeTimePattern(this, Number(value), ecma402_abstract_1.ToString(unit), { getInternalSlots: get_internal_slots_1.default });\n    };\n    RelativeTimeFormat.prototype.resolvedOptions = function () {\n        if (typeof this !== 'object') {\n            throw new TypeError('resolvedOptions was called on a non-object');\n        }\n        var internalSlots = get_internal_slots_1.default(this);\n        if (!internalSlots.initializedRelativeTimeFormat) {\n            throw new TypeError('resolvedOptions was called on a invalid context');\n        }\n        // test262/test/intl402/RelativeTimeFormat/prototype/resolvedOptions/type.js\n        return {\n            locale: internalSlots.locale,\n            style: internalSlots.style,\n            numeric: internalSlots.numeric,\n            numberingSystem: internalSlots.numberingSystem,\n        };\n    };\n    RelativeTimeFormat.supportedLocalesOf = function (locales, options) {\n        return ecma402_abstract_1.SupportedLocales(RelativeTimeFormat.availableLocales, ecma402_abstract_1.CanonicalizeLocaleList(locales), options);\n    };\n    RelativeTimeFormat.__addLocaleData = function () {\n        var data = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            data[_i] = arguments[_i];\n        }\n        for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n            var _b = data_1[_a], d = _b.data, locale = _b.locale;\n            var minimizedLocale = new Intl.Locale(locale)\n                .minimize()\n                .toString();\n            RelativeTimeFormat.localeData[locale] = RelativeTimeFormat.localeData[minimizedLocale] = d;\n            RelativeTimeFormat.availableLocales.add(minimizedLocale);\n            RelativeTimeFormat.availableLocales.add(locale);\n            if (!RelativeTimeFormat.__defaultLocale) {\n                RelativeTimeFormat.__defaultLocale = minimizedLocale;\n            }\n        }\n    };\n    RelativeTimeFormat.getDefaultLocale = function () {\n        return RelativeTimeFormat.__defaultLocale;\n    };\n    RelativeTimeFormat.localeData = {};\n    RelativeTimeFormat.availableLocales = new Set();\n    RelativeTimeFormat.__defaultLocale = '';\n    RelativeTimeFormat.relevantExtensionKeys = ['nu'];\n    RelativeTimeFormat.polyfilled = true;\n    return RelativeTimeFormat;\n}());\nexports.default = RelativeTimeFormat;\ntry {\n    // IE11 does not have Symbol\n    if (typeof Symbol !== 'undefined') {\n        Object.defineProperty(RelativeTimeFormat.prototype, Symbol.toStringTag, {\n            value: 'Intl.RelativeTimeFormat',\n            writable: false,\n            enumerable: false,\n            configurable: true,\n        });\n    }\n    // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/length.js\n    Object.defineProperty(RelativeTimeFormat.prototype.constructor, 'length', {\n        value: 0,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n    // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/supportedLocalesOf/length.js\n    Object.defineProperty(RelativeTimeFormat.supportedLocalesOf, 'length', {\n        value: 1,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n}\ncatch (e) {\n    // Meta fix so we're test262-compliant, not important\n}\n","/* @generated */\t\n// prettier-ignore\nif (Intl.RelativeTimeFormat && typeof Intl.RelativeTimeFormat.__addLocaleData === 'function') {\n  Intl.RelativeTimeFormat.__addLocaleData({\"data\":{\"nu\":[\"latn\"],\"year\":{\"0\":\"this year\",\"1\":\"next year\",\"future\":{\"one\":\"in {0} year\",\"other\":\"in {0} years\"},\"past\":{\"one\":\"{0} year ago\",\"other\":\"{0} years ago\"},\"-1\":\"last year\"},\"year-short\":{\"0\":\"this yr.\",\"1\":\"next yr.\",\"future\":{\"one\":\"in {0} yr.\",\"other\":\"in {0} yr.\"},\"past\":{\"one\":\"{0} yr. ago\",\"other\":\"{0} yr. ago\"},\"-1\":\"last yr.\"},\"year-narrow\":{\"0\":\"this yr.\",\"1\":\"next yr.\",\"future\":{\"one\":\"in {0} yr.\",\"other\":\"in {0} yr.\"},\"past\":{\"one\":\"{0} yr. ago\",\"other\":\"{0} yr. ago\"},\"-1\":\"last yr.\"},\"quarter\":{\"0\":\"this quarter\",\"1\":\"next quarter\",\"future\":{\"one\":\"in {0} quarter\",\"other\":\"in {0} quarters\"},\"past\":{\"one\":\"{0} quarter ago\",\"other\":\"{0} quarters ago\"},\"-1\":\"last quarter\"},\"quarter-short\":{\"0\":\"this qtr.\",\"1\":\"next qtr.\",\"future\":{\"one\":\"in {0} qtr.\",\"other\":\"in {0} qtrs.\"},\"past\":{\"one\":\"{0} qtr. ago\",\"other\":\"{0} qtrs. ago\"},\"-1\":\"last qtr.\"},\"quarter-narrow\":{\"0\":\"this qtr.\",\"1\":\"next qtr.\",\"future\":{\"one\":\"in {0} qtr.\",\"other\":\"in {0} qtrs.\"},\"past\":{\"one\":\"{0} qtr. ago\",\"other\":\"{0} qtrs. ago\"},\"-1\":\"last qtr.\"},\"month\":{\"0\":\"this month\",\"1\":\"next month\",\"future\":{\"one\":\"in {0} month\",\"other\":\"in {0} months\"},\"past\":{\"one\":\"{0} month ago\",\"other\":\"{0} months ago\"},\"-1\":\"last month\"},\"month-short\":{\"0\":\"this mo.\",\"1\":\"next mo.\",\"future\":{\"one\":\"in {0} mo.\",\"other\":\"in {0} mo.\"},\"past\":{\"one\":\"{0} mo. ago\",\"other\":\"{0} mo. ago\"},\"-1\":\"last mo.\"},\"month-narrow\":{\"0\":\"this mo.\",\"1\":\"next mo.\",\"future\":{\"one\":\"in {0} mo.\",\"other\":\"in {0} mo.\"},\"past\":{\"one\":\"{0} mo. ago\",\"other\":\"{0} mo. ago\"},\"-1\":\"last mo.\"},\"week\":{\"0\":\"this week\",\"1\":\"next week\",\"future\":{\"one\":\"in {0} week\",\"other\":\"in {0} weeks\"},\"past\":{\"one\":\"{0} week ago\",\"other\":\"{0} weeks ago\"},\"-1\":\"last week\"},\"week-short\":{\"0\":\"this wk.\",\"1\":\"next wk.\",\"future\":{\"one\":\"in {0} wk.\",\"other\":\"in {0} wk.\"},\"past\":{\"one\":\"{0} wk. ago\",\"other\":\"{0} wk. ago\"},\"-1\":\"last wk.\"},\"week-narrow\":{\"0\":\"this wk.\",\"1\":\"next wk.\",\"future\":{\"one\":\"in {0} wk.\",\"other\":\"in {0} wk.\"},\"past\":{\"one\":\"{0} wk. ago\",\"other\":\"{0} wk. ago\"},\"-1\":\"last wk.\"},\"day\":{\"0\":\"today\",\"1\":\"tomorrow\",\"future\":{\"one\":\"in {0} day\",\"other\":\"in {0} days\"},\"past\":{\"one\":\"{0} day ago\",\"other\":\"{0} days ago\"},\"-1\":\"yesterday\"},\"day-short\":{\"0\":\"today\",\"1\":\"tomorrow\",\"future\":{\"one\":\"in {0} day\",\"other\":\"in {0} days\"},\"past\":{\"one\":\"{0} day ago\",\"other\":\"{0} days ago\"},\"-1\":\"yesterday\"},\"day-narrow\":{\"0\":\"today\",\"1\":\"tomorrow\",\"future\":{\"one\":\"in {0} day\",\"other\":\"in {0} days\"},\"past\":{\"one\":\"{0} day ago\",\"other\":\"{0} days ago\"},\"-1\":\"yesterday\"},\"hour\":{\"0\":\"this hour\",\"future\":{\"one\":\"in {0} hour\",\"other\":\"in {0} hours\"},\"past\":{\"one\":\"{0} hour ago\",\"other\":\"{0} hours ago\"}},\"hour-short\":{\"0\":\"this hour\",\"future\":{\"one\":\"in {0} hr.\",\"other\":\"in {0} hr.\"},\"past\":{\"one\":\"{0} hr. ago\",\"other\":\"{0} hr. ago\"}},\"hour-narrow\":{\"0\":\"this hour\",\"future\":{\"one\":\"in {0} hr.\",\"other\":\"in {0} hr.\"},\"past\":{\"one\":\"{0} hr. ago\",\"other\":\"{0} hr. ago\"}},\"minute\":{\"0\":\"this minute\",\"future\":{\"one\":\"in {0} minute\",\"other\":\"in {0} minutes\"},\"past\":{\"one\":\"{0} minute ago\",\"other\":\"{0} minutes ago\"}},\"minute-short\":{\"0\":\"this minute\",\"future\":{\"one\":\"in {0} min.\",\"other\":\"in {0} min.\"},\"past\":{\"one\":\"{0} min. ago\",\"other\":\"{0} min. ago\"}},\"minute-narrow\":{\"0\":\"this minute\",\"future\":{\"one\":\"in {0} min.\",\"other\":\"in {0} min.\"},\"past\":{\"one\":\"{0} min. ago\",\"other\":\"{0} min. ago\"}},\"second\":{\"0\":\"now\",\"future\":{\"one\":\"in {0} second\",\"other\":\"in {0} seconds\"},\"past\":{\"one\":\"{0} second ago\",\"other\":\"{0} seconds ago\"}},\"second-short\":{\"0\":\"now\",\"future\":{\"one\":\"in {0} sec.\",\"other\":\"in {0} sec.\"},\"past\":{\"one\":\"{0} sec. ago\",\"other\":\"{0} sec. ago\"}},\"second-narrow\":{\"0\":\"now\",\"future\":{\"one\":\"in {0} sec.\",\"other\":\"in {0} sec.\"},\"past\":{\"one\":\"{0} sec. ago\",\"other\":\"{0} sec. ago\"}}},\"locale\":\"en\"}\n)\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar _1 = tslib_1.__importDefault(require(\"./\"));\nvar should_polyfill_1 = require(\"./should-polyfill\");\nif (should_polyfill_1.shouldPolyfill()) {\n    Object.defineProperty(Intl, 'RelativeTimeFormat', {\n        value: _1.default,\n        writable: true,\n        enumerable: false,\n        configurable: true,\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldPolyfill = void 0;\nfunction shouldPolyfill() {\n    return typeof Intl === 'undefined' || !('RelativeTimeFormat' in Intl);\n}\nexports.shouldPolyfill = shouldPolyfill;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n"],"sourceRoot":""}