(this.webpackChunkpinafore=this.webpackChunkpinafore||[]).push([[6074],{7935:(o,e,t)=>{"use strict";t.d(e,{z:()=>i});var n=t(6494);async function i(o){if(navigator.clipboard)try{return await navigator.clipboard.writeText(o),void n.A.say("Copied to clipboard")}catch(e){console.error(e)}(await t.e(9430).then(t.bind(t,9430)).then((o=>o.default)))(o)}},9322:(o,e,t)=>{"use strict";t.d(e,{O:()=>u});var n=t(2936),i=t(1029),a=t(8273);var c=t(6494),s=t(655),l=t(652),r=t(7265);async function u(o,e,t,u){const{currentInstance:f,accessToken:d}=n.h.get();try{let n;n=e?await async function(o,e,t,n){const c=`${(0,i.E)(o)}/api/v1/accounts/${t}/mute`;return(0,a.v_)(c,{notifications:n},(0,i.I)(e),{timeout:a.$Q})}(f,d,o,t):await async function(o,e,t){const n=`${(0,i.E)(o)}/api/v1/accounts/${t}/unmute`;return(0,a.v_)(n,null,(0,i.I)(e),{timeout:a.$Q})}(f,d,o),await(0,s.hJ)(f,o,n),u&&c.A.say(e?"Muted account":"Unmuted account"),(0,l.j)("refreshAccountsList")}catch(b){console.error(b),c.A.say(e?(0,r.A)(["Unable to mute account: ",["error"]],{error:b.message||""}):(0,r.A)(["Unable to unmute account: ",["error"]],{error:b.message||""}))}}},4591:(o,e,t)=>{"use strict";t.d(e,{H:()=>n});async function n({status:o,account:e}){(await Promise.all([t.e(8311),t.e(7396)]).then(t.bind(t,7396)).then((o=>o.default)))({status:o,account:e})}},9546:(o,e,t)=>{"use strict";t.d(e,{$:()=>i});var n=t(9322);async function i(o,e){e?(await Promise.all([t.e(8311),t.e(2523)]).then(t.bind(t,2523)).then((o=>o.default)))(o):await(0,n.O)(o.id,e,!1,!0)}},6074:(o,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>$});var n=t(4178),i=t(3887),a=t(2936),c=t(9379),s=t(9731),l=t(7421),r=t(1031),u=t(4574),f=t(7861),d=t(1029),b=t(8273);var h=t(6494),m=t(655),g=t(7265);async function w(o,e,t){const{currentInstance:n,accessToken:i}=a.h.get();try{const a=await function(o,e,t,n){const i=`${(0,d.E)(o)}/api/v1/accounts/${t}/follow`;return(0,b.v_)(i,{reblogs:!!n},(0,d.I)(e),{timeout:b.$Q})}(n,i,o,e);await(0,m.hJ)(n,o,a),t&&h.A.say(e?"Showing boosts":"Hiding boosts")}catch(c){console.error(c),h.A.say(e?(0,g.A)(["Unable to show boosts: ",["error"]],{error:c.message||""}):(0,g.A)(["Unable to hide boosts: ",["error"]],{error:c.message||""}))}}async function k(o,e,t,n){const{currentInstance:i,accessToken:c}=a.h.get();try{t?await async function(o,e,t){const n=`${(0,d.E)(o)}/api/v1/domain_blocks?${(0,b.pe)({domain:t})}`;return(0,b.v_)(n,null,(0,d.I)(e),{timeout:b.$Q})}(i,c,e):await async function(o,e,t){const n=`${(0,d.E)(o)}/api/v1/domain_blocks?${(0,b.pe)({domain:t})}`;return(0,b.IV)(n,(0,d.I)(e),{timeout:b.$Q})}(i,c,e),await(0,m.r6)(o),n&&h.A.say(t?"Hid domain":"Unhid domain")}catch(s){console.error(s),h.A.say(t?(0,g.A)(["Unable to hide domain: ",["error"]],{error:s.message||""}):(0,g.A)(["Unable to unhide domain: ",["error"]],{error:s.message||""}))}}var y=t(7935),p=t(6787),_=t(9546),I=t(4591);var v={show:s.$,close:l.x,onClick(o){switch(o.key){case"mention":return this.onMentionClicked();case"follow":return this.onFollowClicked();case"block":return this.onBlockClicked();case"mute":return this.onMuteClicked();case"showReblogs":return this.onShowReblogsClicked();case"blockDomain":return this.onBlockDomainClicked();case"copy":return this.onCopyClicked();case"report":return this.onReport()}},async onMentionClicked(){const{account:o}=this.get();this.close(),await(0,p.O)(o)},async onFollowClicked(){const{accountId:o,following:e}=this.get();this.close(),await(0,f.j)(o,!e,!0)},async onBlockClicked(){const{accountId:o,blocking:e}=this.get();this.close(),await(0,u.h)(o,!e,!0)},async onMuteClicked(){const{account:o,muting:e}=this.get();this.close(),await(0,_.$)(o,!e)},async onShowReblogsClicked(){const{accountId:o,showingReblogs:e}=this.get();this.close(),await w(o,!e,!0)},async onBlockDomainClicked(){const{accountId:o,domain:e,blockingDomain:t}=this.get();this.close(),await k(o,e,!t,!0)},async onCopyClicked(){const{account:o}=this.get(),{url:e}=o;this.close(),await(0,y.z)(e)},async onReport(){const{account:o}=this.get();this.close(),await(0,I.H)({account:o})}};function L(o){if((0,n.S1)(this,o),this.store=a.h,this._state=(0,n.f0)({},o.data),this._recompute({verifyCredentials:1,relationship:1,account:1,following:1,followRequested:1,username:1,blocking:1,muting:1,accountId:1,verifyCredentialsId:1,showingReblogs:1,acct:1,blockingDomain:1,domain:1,blockLabel:1,blockIcon:1,muteLabel:1,muteIcon:1,followLabel:1,followIcon:1,isUser:1,showReblogsLabel:1,blockDomainLabel:1,reportLabel:1},this._state),this._intro=!0,this._fragment=function(o,e){var t={selectable:!1,items:e.items},a=new c.Z({root:o.root,store:o.store,data:t});a.on("click",(function(e){o.onClick(e)}));var s={id:e.id,label:e.label,title:e.title,shrinkWidthToFit:!0,background:"var(--main-bg)"},l=new i.Z({root:o.root,store:o.store,slots:{default:(0,n.xJ)()},data:s});return{c(){a._fragment.c(),l._fragment.c()},l(o){a._fragment.l(o),l._fragment.l(o)},m(o,e){a._mount(l._slotted.default,null),l._mount(o,e)},p(o,e){var t={};o.items&&(t.items=e.items),a._set(t);var n={};o.id&&(n.id=e.id),o.label&&(n.label=e.label),o.title&&(n.title=e.title),l._set(n)},d(o){a.destroy(),l.destroy(o)}}}(this,this._state),this.root._oncreate.push((()=>{r.U.call(this),this.fire("update",{changed:(0,n.lZ)({},this._state),current:this._state})})),o.target){var e=(0,n.pI)(o.target);o.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(n.r2),this._mount(o.target,o.anchor),(0,n.yl)(this)}}(0,n.f0)(L.prototype,n.uS),(0,n.f0)(L.prototype,v),L.prototype._recompute=function(o,e){o.verifyCredentials&&this._differs(e.verifyCredentialsId,e.verifyCredentialsId=function({verifyCredentials:o}){return o.id}(e))&&(o.verifyCredentialsId=!0),o.relationship&&(this._differs(e.following,e.following=function({relationship:o}){return o&&o.following}(e))&&(o.following=!0),this._differs(e.followRequested,e.followRequested=function({relationship:o}){return o&&o.requested}(e))&&(o.followRequested=!0)),o.account&&(this._differs(e.accountId,e.accountId=function({account:o}){return o&&o.id}(e))&&(o.accountId=!0),this._differs(e.acct,e.acct=function({account:o}){return o.acct}(e))&&(o.acct=!0),this._differs(e.username,e.username=function({account:o}){return o.username}(e))&&(o.username=!0)),o.relationship&&(this._differs(e.muting,e.muting=function({relationship:o}){return o&&o.muting}(e))&&(o.muting=!0),this._differs(e.blocking,e.blocking=function({relationship:o}){return o&&o.blocking}(e))&&(o.blocking=!0)),(o.following||o.followRequested||o.account||o.username)&&this._differs(e.followLabel,e.followLabel=function({following:o,followRequested:e,account:t,username:n}){return void 0!==o&&t?o||e?(0,g.A)(["Unfollow ",["account"]],{account:`@${n}`}):(0,g.A)(["Follow ",["account"]],{account:`@${n}`}):""}(e))&&(o.followLabel=!0),(o.following||o.followRequested)&&this._differs(e.followIcon,e.followIcon=function({following:o,followRequested:e}){return o?"#fa-user-times":e?"#fa-hourglass":"#fa-user-plus"}(e))&&(o.followIcon=!0),(o.blocking||o.username)&&this._differs(e.blockLabel,e.blockLabel=function({blocking:o,username:e}){return o?(0,g.A)(["Unblock ",["account"]],{account:`@${e}`}):(0,g.A)(["Block ",["account"]],{account:`@${e}`})}(e))&&(o.blockLabel=!0),o.blocking&&this._differs(e.blockIcon,e.blockIcon=function({blocking:o}){return o?"#fa-unlock":"#fa-ban"}(e))&&(o.blockIcon=!0),(o.muting||o.username)&&this._differs(e.muteLabel,e.muteLabel=function({muting:o,username:e}){return o?(0,g.A)(["Unmute ",["account"]],{account:`@${e}`}):(0,g.A)(["Mute ",["account"]],{account:`@${e}`})}(e))&&(o.muteLabel=!0),o.muting&&this._differs(e.muteIcon,e.muteIcon=function({muting:o}){return o?"#fa-volume-up":"#fa-volume-off"}(e))&&(o.muteIcon=!0),(o.accountId||o.verifyCredentialsId)&&this._differs(e.isUser,e.isUser=function({accountId:o,verifyCredentialsId:e}){return o===e}(e))&&(o.isUser=!0),o.relationship&&this._differs(e.showingReblogs,e.showingReblogs=function({relationship:o}){return!o||o.showing_reblogs}(e))&&(o.showingReblogs=!0),(o.showingReblogs||o.username)&&this._differs(e.showReblogsLabel,e.showReblogsLabel=function({showingReblogs:o,username:e}){return o?(0,g.A)(["Hide boosts from ",["account"]],{account:`@${e}`}):(0,g.A)(["Show boosts from ",["account"]],{account:`@${e}`})}(e))&&(o.showReblogsLabel=!0),o.acct&&this._differs(e.domain,e.domain=function({acct:o}){return o.split("@")[1]}(e))&&(o.domain=!0),o.relationship&&this._differs(e.blockingDomain,e.blockingDomain=function({relationship:o}){return o&&o.domain_blocking}(e))&&(o.blockingDomain=!0),(o.blockingDomain||o.domain)&&this._differs(e.blockDomainLabel,e.blockDomainLabel=function({blockingDomain:o,domain:e}){return o?(0,g.A)(["Unhide ",["domain"]],{domain:e}):(0,g.A)(["Hide ",["domain"]],{domain:e})}(e))&&(o.blockDomainLabel=!0),o.username&&this._differs(e.reportLabel,e.reportLabel=function({username:o}){return(0,g.A)(["Report ",["account"]],{account:`@${o}`})}(e))&&(o.reportLabel=!0),(o.blockLabel||o.blocking||o.blockIcon||o.muteLabel||o.muteIcon||o.followLabel||o.followIcon||o.following||o.followRequested||o.accountId||o.verifyCredentialsId||o.username||o.isUser||o.showReblogsLabel||o.domain||o.blockDomainLabel||o.reportLabel)&&this._differs(e.items,e.items=function({blockLabel:o,blocking:e,blockIcon:t,muteLabel:n,muteIcon:i,followLabel:a,followIcon:c,following:s,followRequested:l,accountId:r,verifyCredentialsId:u,username:f,isUser:d,showReblogsLabel:b,domain:h,blockDomainLabel:m,reportLabel:w}){return[!d&&{key:"mention",label:(0,g.A)(["Mention ",["account"]],{account:`@${f}`}),icon:"#fa-comments"},!d&&!e&&{key:"follow",label:a,icon:c},!d&&{key:"block",label:o,icon:t},!d&&!e&&{key:"mute",label:n,icon:i},!d&&s&&{key:"showReblogs",label:b,icon:"#fa-retweet"},!d&&h&&{key:"blockDomain",label:m,icon:"#fa-ban"},!d&&{key:"report",label:w,icon:"#fa-flag"},{key:"copy",label:"Copy link to account",icon:"#fa-link"}].filter(Boolean)}(e))&&(o.items=!0)};const C=L;var R=t(7056);function $(o,e,t){return(0,R.v)(C,{label:"Profile options",title:"",account:o,relationship:e,verifyCredentials:t})}}}]);
//# sourceMappingURL=6074.e5e25211bdd25e5e1dd1.6074.js.map